{"version":3,"sources":["src/i18n.ts","assets/locales/lt/index.ts","assets/locales/en/index.ts","src/pages/Splash/Ellipse.tsx","src/Colors.ts","src/components/MainLogo.tsx","src/helpers/index.ts","src/pages/Splash/index.tsx","src/api/index.ts","src/actions/authorize.ts","src/ActionTypes.ts","src/actions/payment.ts","src/actions/user.ts","src/actions/vendor.ts","src/actions/global.ts","src/ChangeLanguage.tsx","src/components/TextFIeld.tsx","src/components/EyeIcon.tsx","src/components/PrimaryButton.tsx","src/actions/login.ts","src/pages/Login/index.tsx","src/pages/Register/Agreement.tsx","src/pages/Register/index.tsx","src/components/WarningModal.tsx","src/components/Message.tsx","src/components/Marker.tsx","src/pages/Identification/Idenfy/index.tsx","src/pages/Identification/Success/SuccessLogo.tsx","src/pages/Identification/Success/index.tsx","src/pages/Identification/Failure/FailureLogo.tsx","src/pages/Identification/Failure/index.tsx","src/pages/Identification/index.tsx","src/pages/Home/Drawer/NavigationView/Header/index.tsx","src/pages/Home/Drawer/NavigationView/Menu/MenuItem.tsx","src/pages/Home/Drawer/NavigationView/Menu/index.tsx","src/pages/Home/Drawer/NavigationView/index.tsx","src/pages/Home/Drawer/index.tsx","src/pages/Home/NotPayed.tsx","src/pages/Home/NotIdentified.tsx","src/pages/Home/Selected.tsx","src/pages/Home/VendorMap/Leaflet.tsx","src/pages/Home/VendorMap/VendorList/Item.tsx","src/pages/Home/VendorMap/VendorList/index.tsx","src/pages/Home/VendorMap/index.tsx","src/pages/Home/VendingMachine/Item/Basket.tsx","src/pages/Home/VendingMachine/Item/Info.tsx","src/pages/Home/VendingMachine/Item/Counter.tsx","src/pages/Home/VendingMachine/Item/index.tsx","src/pages/Home/VendingMachine/index.tsx","src/pages/Home/CartConfirmation/Item.tsx","src/pages/Home/CartConfirmation/index.tsx","src/pages/Home/CartCheckout/Item.tsx","src/pages/Home/CartCheckout/index.tsx","src/pages/Home/Settings/index.tsx","src/components/VaultDebtProduct.tsx","src/pages/Home/Debt/index.tsx","src/pages/Home/Vault/Home/Item.tsx","src/pages/Home/Vault/Home/index.tsx","src/pages/Home/Vault/Items.tsx","src/pages/Home/Vault/Confirm.tsx","src/pages/Home/Vault/index.tsx","src/pages/Home/Help/index.tsx","src/components/MiniCreditCard.tsx","src/pages/Home/CardModal.tsx","src/components/ToastMessage.tsx","src/pages/Home/index.tsx","src/pages/Authorize/index.tsx","src/GlobalModal.tsx","src/CodeModal.tsx","src/LanguageModal.tsx","src/TakeModal.tsx","src/VaultModal.tsx","src/components/HeaderLogo.tsx","src/components/AppBar/Skola.tsx","src/components/AppBar/index.tsx","src/actions/index.ts","src/StateTypes.ts","src/reducers/login.ts","src/reducers/user.ts","src/mockups.ts","src/reducers/global.ts","src/reducers/vendor.ts","src/reducers/payment.ts","src/reducers/authorize.ts","src/reducers/index.ts","src/store/configureStore.ts","src/App.tsx","App.tsx","web-build/register-service-worker.js","assets/myLocation.svg","assets/artimiausias_icon.png","assets/card-visa.png","assets/card-mastercard.png","assets/card-unknown.png","assets/visa.png","assets/mastercard.png","assets/unknown.png"],"names":["i18n","use","initReactI18next","init","debug","resources","lt","common","ok","loading","login","reserve","reservation","maxTaken","plan","onlyNearby","quantity","total","debt","no","yes","cancel","take","goBack","or","continue","settings","error","language","en","agreement","userAgreement","privacyPolicy","agree","email","password","noUser","register","repeatPassword","passDontMatch","passHelper","idenfy","success","identityApproved","loginAgain","failure","identityFailed","canGoBack","back","itentificationPending","identificationCanceled","codeModal","enterThisCombination","vendorMap","locationDisabled","vendorList","chooseNearestStorage","map","myPosition","showMyPosition","vendingMachine","noProducts","chooseOtherStorage","item","haveInVault","takeNow","noInStock","type","proof","volume","stock","cartConfirmation","reservationConfirm","whatIsReservation","reservationEmpty","reserveProduct","reservationTime","rservationPrice","reserveOtherProduct","info","remove","cartCheckout","productServe","authorize","authorizationPending","dontCloseWindow","clickHere","menu","storages","myDebt","myStorage","help","membership","activeReservation","soon","notInDebt","canTakeProduct","debtNumber","paymentBank","specifyDebtNumber","serves","companyNumber","vatNumber","address","vault","myVault","empty","unpaid","vaultNumber","specifyVaultNumber","addToVault","pending","confirm","addToVaultConfirm","about","rules","emailHelp","selected","select","next","notPayed","beginPayment","needPaymentAndIdentification","notIdentified","beginIdentification","needIdentification","vaultModal","adding","areYouSure","takeModal","payment","repay","globalModal","createUserSuccessTitle","createUserSuccessMessage","paymentSuccessTitle","paymentSuccessMessage","registrationPaymentSuccessTitle","registrationPaymentSuccessMessage","paymentFailureTitle","paymentFailureMessage","reservationInfoTitle","reservationInfoMessage","working","vendSuccessTitle","vendSuccessMessage","unexpectedErrorTitle","unexpectedErrorMessage","unsupportedCard","productLoadTitle","productLoadMessage","reservationTimeEndTitle","reservationTImeEndMessage","vendTimeEndTitle","vendTimeEndMessage","vendErrorTitle","title","subtitle","lng","fallbackLng","whitelist","defaultNS","interpolation","escapeValue","Ellipse","this","props","width","ellipseHeight","x","y","height","viewBox","fill","d","Component","Primary","Red","Blue","Black","DarkGray","Gray","LightGray","MainLogo","fillRule","clipRule","cx","cy","r","clipPath","id","transform","getDistance","lat1","lon1","lat2","lon2","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","Number","toFixed","formatCountdown","secondsLeft","hours","trunc","minutes","seconds","minutesString","secondsString","isLoginFormValid","trim","length","isRegisterFormValid","password2","getReservationProducts","allProducts","reservationProducts","vended","errors","resProduct","product","find","reservationProduct","amount","parseCommaList","product_code","push","products","getVendingCode","productCode","stringNumber","String","substring","list","array","split","filter","Boolean","values","i","formatCurrency","sum","storeVendingProductId","a","async","AsyncStorage","setItem","console","getVendingProductId","getItem","isUserNearby","vendor","userLocation","latitude","longitude","getPhoneOrientation","Dimensions","get","getMaxItemsInfoSuffix","maxItems","shouldUseContain","url","Promise","resolve","Image","getSize","err","Splash","state","orientation","screenWidth","onOrientationChange","setState","history","addEventListener","setTimeout","replace","removeEventListener","min","narrow","View","style","flex","backgroundColor","zIndex","marginTop","position","left","top","translateX","translateY","max","animation","undefined","easing","duration","justifyContent","alignItems","display","marginBottom","borderRadius","boxShadow","CircularProgress","domainName","ApiError","json","args","Error","makeFetch","getState","fetchConfig","token","loginReducer","headers","Headers","append","startsWith","access_token","fetch","then","res","text","jsonRes","status","message","statusCode","getPolicies","apiInit","loginUser","body","method","getUserCredentials","JSON","stringify","createUser","user","pollUser","username","getUserMembership","getUserReservations","getAllVendors","getAllProducts","getVendorProducts","vendorId","createReservation","data","instaVend","vend","productId","getFees","getVault","Authorization","deleteLastVaultOrder","getPaymentDetails","pollPayment","orderId","pay","onPaymentFailure","reservationId","getCurrentTime","log","pollInterval","clearPaymentPoll","dispatch","clearInterval","actions","setHTML","createAction","action","html","setParameters","onSuccess","onFailure","setInterval","pollPaymentAPI","globalActions","showGlobalErrorModal","cancelPayment","currentReservationId","paymentReducer","setCurrentReservationId","onError","e","Array","isArray","paymentFailure","paymentInit","paymentSuccess","registrationPaymentSuccess","reservationPaymentSuccess","showCardModal","onConfirm","hideCardModal","setPastPayments","payments","beginRegistrationFeePayment","payment_instrument","hideGlobalModal","payRes","authorization_information","authorizeActions","order_id","beginReservationPayment","resetRegisterFormErrors","createUserInit","createUserSuccess","createUserFailure","setUserLocation","location","addVendedProduct","addProductToCart","count","removeProductFromCart","resetCart","addProductToVaultCart","removeProductFromVaultCart","fetchUserDataInit","fetchUserDataSuccess","reservations","fetchUserDataFailure","setUserReservations","setIdentified","identified","setPayed","payed","setVault","create","createUserError","poll","idenfy_responded","idenfy_confirmed","getData","cb","all","getReservations","apiGetVault","onVaultPaymentConfirm","cart","key","paymentActions","go","apiDeleteLastVaultOrder","fetchVendorData","globalReducer","vendorProducts","products_in_vendor","vendorProduct","fetchVendorProductsSuccess","userActions","fetchVendorProductsFailure","getProducts","fetchVendorProductsInit","options","createReservationInit","createReservationApi","lastReservation","vendInit","pollReservations","createReservationFailure","getReservationsCb","router","pathname","show","showCodeModal","newErrors","hideCodeModal","newVended","vendSuccess","removeItem","selectedVendor","vendApi","vendFailure","createReservationSuccess","takeProduct","vendors","takeProductFromReservation","clearPollInterval","showTakeModal","hideTakeModal","showVaultModal","hideVaultModal","showGlobalModal","modal","openDrawer","closeDrawer","fetchAppDataInit","fetchAppDataSuccess","fetchAppDataFailure","setSelectedVendor","code","setFees","fees","showToastMessage","params","hideToastMessage","showReservationInfoModal","setLocationEnabled","enabled","showLanguageModal","hideLanguageModal","setAppLanguage","fetchAppData","debt_extra_fixed","debt_extra_percents","vendorActions","setSelectedVendorById","initToastMessage","toastMessage","ToastAndroid","SHORT","ChangeLanguage","onChange","changeLanguage","languages","appLanguage","styles","wrapper","TouchableOpacity","paddingVertical","paddingHorizontal","onPress","activeOpacity","Text","color","fontSize","toUpperCase","StyleSheet","right","flexDirection","localActions","withTranslation","connect","TextField","helperText","errorText","rest","variant","fullWidth","EyeIcon","on","name","size","PrimaryButton","disabled","children","alignSelf","elevation","createBody","credentials","client_id","client_secret","setReidentification","reidentification","resetLoginFormErrors","loginInit","loginSuccess","loginFailure","logout","verify_url","registration_fee_paid","loginError","auth","reidentify","loginActions","resetErrors","Login","showPassword","onLoginPress","loggingIn","t","isFormValid","emailError","authError","LinearProgress","ScrollView","keyboardShouldPersistTaps","logoWrapper","label","value","target","autoCapitalize","padding","textAlign","registerButton","to","textDecoration","registerButtonText","maxWidth","loginButton","loginButtonText","fontWeight","opacity","loggingBackground","bottom","loadingWrapper","Agreement","showPrivacyPolicy","showUserAgreement","policiesLoaded","policies","paddingBottom","termsTitle","termsText","onAccept","lineHeight","acceptButton","acceptButtonText","Register","showPassword2","passwordsMatch","showAgreement","onRegisterPress","creatingUser","passwordError","userReducer","WarningModal","onClose","onLeave","TouchableWithoutFeedback","background","useNativeDriver","buttonWrapper","TouchableHighlight","button","underlayColor","marginRight","Message","Icon","icon","Marker","primaryColor","secondaryColor","PureComponent","Idenfy","showWarning","handleBackPress","Platform","OS","WebBrowser","StatusBar","currentHeight","paddingTop","mediaPlaybackRequiresUserAction","domStorageEnabled","allowsInlineMediaPlayback","source","uri","SuccessLogo","stroke","strokeWidth","Success","FailureLogo","Failure","Identification","loggedIn","path","match","exact","component","Header","profileImage","borderBottomWidth","borderBottomColor","MenuItem","preventDefault","getIconColor","getTextColor","onClick","Menu","persistent","LocationOn","CreditCard","FolderOpen","Settings","Help","marginVertical","Timer","NavigationView","borderRightWidth","borderRightColor","AnimTouchable","Animatable","Drawer","isDrawerOpen","NotPayed","begin","NotIdentified","Selected","cartAmount","UserLocationMarker","require","ArtiIcon","zoomCache","positionCache","LeafletMap","showMap","mapReady","zoom","markerRefs","mapRef","React","createRef","onMoveEnd","current","leafletElement","getZoom","getCenter","onMarkerPress","onMapReady","positionToCenterTo","lat","prevProps","prevSelectedVendor","panTo","openPopup","selectedVendorId","Map","center","whenReady","ref","preferCanvas","TileLayer","attribution","riseOnHover","L","iconUrl","iconRetinaUrl","iconSize","iconAnchor","popupAnchor","Popup","VendorItem","distance","VendorList","getDistanceFromUser","vendorLat","vendorLong","renderVendorList","slice","sort","b","header","VendorMap","locationEnabledAnswered","locationWatcher","promptForLocationEnable","Permissions","onLocationEnabled","onLocationDisabled","Location","accuracy","High","timeInterval","distanceInterval","coords","locationEnabled","locationError","locationErrorText","Basket","circleWrapper","circle","withRouter","ItemInfo","Counter","subtractDisabled","addDisabled","onSubtract","onAdd","countValue","VendingItem","useContain","onReserve","maxCartItems","stockEmpty","allStockInCart","cartFull","onAddToCart","suffix","addToCart","addCount","subtractCount","removeFromCart","onTakeNow","onTakeProduct","cover","price","inVendor","reserveDisabled","takeNowDisabled","productInVault","resizeMode","productInfo","Info","toLowerCase","ownProps","max_items","layoutType","VendingMachine","refreshData","getCartProductCount","cartSum","Dissatisfied","pointerEvents","vendorReducer","carts","CartConfirmItem","inReservation","deleteFromCart","inVault","marginLeft","totalPrice","storage_fee","imageWrapper","borderWidth","letterSpacing","flexWrap","Cart","showReservationModal","onReservAnother","onCancel","ttc","reservationFee","cartProducts","cartProduct","reservation_fee","sectionTitle","addFees","endSum","timeInSeconds","formatTimeWords","endSumWrapper","totalSumWrapper","totalSumLabel","totalSum","vendorInfo","reserveAnother","link","linkText","marginHorizontal","reservationPrice","borderColor","CartCheckoutItem","onTake","isVending","takeButton","takeText","CartCheckout","appState","AppState","currentState","startDate","interval","handleAppStateChange","nextAppState","stopCountdown","date","Date","toISOString","currentDate","secondsInBackground","differenceInSeconds","timerCb","createdAt","countdown","time","created_at","optionsWrapper","VaultDebtProduct","itemWrapper","totalDebt","Debt","distributor","productName","Object","keys","Mood","paymentInfo","banks","number","unique_number","vat_number","divider","VaultItem","pendingBackground","pendingMessage","VaultHome","vaultLoading","showAllProducts","vaultProducts","productIds","vaultApprovedGrouped","vaultPendingGrouped","vaultFormatted","vaultApproved","vaultPending","vaultFiltered","orderProducts","orderGrouped","orderFormatted","orderProductIds","orderFiltered","index","unpaidTitle","VaultItems","vaultCart","VaultConfirm","Vault","Home","Items","Confirm","window","open","Linking","canOpenURL","supported","openURL","MiniCreditCard","getBackgroundImage","getLogo","onSelect","payment_id","radioOuter","radioBackground","radioInner","ImageBackground","imageBackground","card_brand","cardNumber","cardNumberObscured","cardNumberPan","pan","numberOfLines","cardText","holder","exp_month","exp_year","CardModal","cvc","expiry","focus","numberValid","expiryValid","cvcValid","nameValid","showCardDetails","selectedCard","cvcSize","numberRef","expiryRef","cvcRef","nameRef","handleInputFocus","handleInputChange","newValue","valid","card","isPotentiallyValid","isValid","lengths","ky","gaps","defaultGaps","exp","join","payRecurrent","pastPayments","statusBarHeight","isPortrait","enterCardDetails","focused","locale","placeholders","onFocus","inputRef","incomplete","incompleteText","cardModal","ToastMessage","hide","CartConfirm","registrationFeePayed","Authorize","formRef","setBackgroundColor","BackHandler","submit","TermUrl","md","authorizeReducer","Modal","hideModal","getHeaderStyle","borderTopLeftRadius","borderTopRightRadius","goToVault","borderBottomLeftRadius","borderBottomRightRadius","CodeModal","lastModified","LanguageModal","RadioGroup","FormControlLabel","control","Radio","isInMachine","hasInVault","some","VaultModal","HeaderLogo","rx","ry","Skola","triangle","amountText","borderStyle","borderTopWidth","borderTopColor","borderLeftWidth","borderLeftColor","paddingLeft","paddingRight","AppBar","onMenuPress","getLogoStyle","LoginInitial","UserInitial","CodeModalInitial","TakeModalInitial","GlobalModalInitial","ToastMessageInitial","VaultModalInitial","GlobalInitial","userConfirmName","firstName","lastName","VendorInitial","CardModalInitial","PaymentInitial","AuthorizeInitial","getType","payload","newReservations","rootReducer","combineReducers","connectRouter","createBrowserHistory","routerMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","theme","createMuiTheme","palette","primary","main","secondary","App","setTranslucent","listen","container","translucent","GlobalModal","TakeModal","overflow","withStore","AppWrapper","I18nextProvider","fallback","navigator","serviceWorker","scope","catch","module","exports"],"mappings":"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","file":"static/js/app.73d14b18.chunk.js","sourcesContent":["import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport { ltLocale, enLocale } from '../assets/locales';\r\n\r\ni18n.use(initReactI18next).init({\r\n  debug: true,\r\n  resources: { lt: ltLocale, en: enLocale },\r\n  lng: 'lt',\r\n  fallbackLng: ['lt', 'en'],\r\n  whitelist: ['lt', 'en'],\r\n  defaultNS: 'common',\r\n\r\n  interpolation: {\r\n    escapeValue: false, // not needed for react as it escapes by default\r\n  },\r\n});\r\n\r\nexport default i18n;\r\n","export default {\r\n  common: {\r\n    ok: 'Gerai',\r\n    loading: 'Kraunama',\r\n    login: 'Prisijungti',\r\n    reserve: 'Rezervuoti',\r\n    reservation: 'Rezervacija',\r\n    maxTaken: 'Negalima rezervuoti daugiau vienetų už esamą produkto likutį',\r\n    plan: 'Pagal Jūsų planą rezervuoti galite daugiausia {{maxCartItems}} {{suffix}}',\r\n    onlyNearby: 'Paimti vienetą galima tik esant šalia saugyklos',\r\n    quantity: 'vnt',\r\n    total: 'Viso',\r\n    debt: 'Skola',\r\n    no: 'Ne',\r\n    yes: 'Taip',\r\n    cancel: 'Atšaukti',\r\n    take: 'Paimti',\r\n    goBack: 'Grįžti',\r\n    or: 'Arba',\r\n    continue: 'Tęsti',\r\n    settings: 'Nustatymai',\r\n    error: 'Klaida',\r\n  },\r\n  language: {\r\n    language: 'Kalba',\r\n    lt: 'Lietuvių',\r\n    en: 'English',\r\n  },\r\n  agreement: {\r\n    userAgreement: 'Vartotojo taisyklės',\r\n    privacyPolicy: 'Privatumo politika',\r\n    agree: 'Sutinku',\r\n  },\r\n  login: {\r\n    email: 'El. paštas',\r\n    password: 'Slaptažodis',\r\n    login: '$t(common:login)',\r\n    noUser: 'Neturite vartotojo?',\r\n    register: 'Registruokitės',\r\n  },\r\n  register: {\r\n    repeatPassword: 'Pakartokite slaptažodį',\r\n    register: 'Registruotis',\r\n    passDontMatch: 'Nesutampa slaptažodžiai',\r\n    passHelper: 'Bent 4 simboliai',\r\n  },\r\n  idenfy: {\r\n    success: {\r\n      identityApproved: 'Tapatybė patvirtinta!',\r\n      loginAgain: 'Prašome prisijungti iš naujo',\r\n      login: '$t(common:login)',\r\n    },\r\n    failure: {\r\n      identityFailed: 'Nepavyko tapatybės patvirtinimas!',\r\n      canGoBack: 'Galite grįžti į pagrindinį langą',\r\n      back: '$t(common:goBack)',\r\n    },\r\n    itentificationPending: 'Vyksta identifikacija',\r\n    identificationCanceled: 'Jei nutraukėte identifikaciją, galite grįžti atgal',\r\n  },\r\n  codeModal: {\r\n    enterThisCombination: 'Surinkite šią kombinaciją saugyklos klaviatūroje, kad pasiimtumėte produktą',\r\n  },\r\n\r\n  vendorMap: {\r\n    locationDisabled:\r\n      'Atrodo, kad esate išjungę vietovės (angl. Location) funkciją arba užblokavę programėlės priegą prie jos. Suteikite prieigą ir perkraukite programėlę.',\r\n    vendorList: {\r\n      chooseNearestStorage: 'Pasirinkite artimiausią saugyklą:',\r\n    },\r\n    map: {\r\n      myPosition: 'Mano pozicija',\r\n      showMyPosition: 'Rodyti mano poziciją',\r\n    },\r\n  },\r\n  vendingMachine: {\r\n    noProducts: 'Šiuo metu saugykloje produktų nėra',\r\n    chooseOtherStorage: 'Pabandykite pasirinkti kitą saugyklą',\r\n    item: {\r\n      haveInVault: 'Turite saugykloje',\r\n      reserve: '$t(common:reserve)',\r\n      or: '$t(common:or)',\r\n      takeNow: 'Paimti dabar',\r\n      noInStock: 'Saugykloje nebeliko šio tipo produktų',\r\n      maxTaken: '$t(common:maxTaken)',\r\n      plan: '$t(common:plan)',\r\n      onlyNearby: '$t(common:onlyNearby)',\r\n      type: 'Rūšis',\r\n      proof: 'Stiprumas',\r\n      volume: 'Tūris',\r\n      stock: 'Likutis',\r\n    },\r\n  },\r\n  cartConfirmation: {\r\n    reservationConfirm: 'Rezervacijos patvirtinimas',\r\n    whatIsReservation: 'Kas yra rezervacija?',\r\n    reservationEmpty: 'Jūsų rezervacija yra tuščia',\r\n    reserveProduct: 'Rezervuoti produktą',\r\n    reservationTime: 'Rezervacijos trukmė',\r\n    rservationPrice: 'Rezervacijos mokestis',\r\n    total: '$t(common:total)',\r\n    reserve: '$t(common:reserve)',\r\n    reserveOtherProduct: 'Rezervuoti kitą produktą',\r\n    cancel: '$t(common:cancel)',\r\n    info:\r\n      'Atliekant rezervaciją mokamas kiekvieno vieneto saugojimo mokestis + rezervacijos mokestis. Jei užrezervuotas vienetas nebus paimtas iš saugyklos, už jį sumokėtas saugojimo mokestis bus grąžintas, o rezervacijos mokestis nebus grąžintas ',\r\n    item: {\r\n      maxTaken: '$t(common:maxTaken)',\r\n      plan: '$t(common:plan)',\r\n      remove: 'Pašalinti',\r\n    },\r\n  },\r\n  cartCheckout: {\r\n    reservation: '$t(common:reservation)',\r\n    loading: '$t(common:loading)',\r\n    info: 'Jei vienetas nebus paimtas iš saugyklos, už jį sumokėtas saugojimo mokestis bus grąžintas',\r\n    productServe: 'Produktų išdavimas',\r\n    item: {\r\n      onlyNearby: '$t(common:onlyNearby)',\r\n      take: '$t(common:take)',\r\n      quantity: '$t(common:quantity)',\r\n    },\r\n  },\r\n  authorize: {\r\n    authorizationPending: 'Vyksta autorizacija',\r\n    dontCloseWindow:\r\n      'Neuždarykite šio lango kol nebaigėte autorizacijos. Jei autorizaciją nutraukėte, galite grįžti atgal',\r\n    clickHere: 'Paspauskite čia',\r\n  },\r\n  menu: {\r\n    storages: 'Saugyklos',\r\n    myDebt: 'Mano skola',\r\n    myStorage: 'Mano saugykla',\r\n    help: 'Pagalba',\r\n    settings: '$t(common:settings)',\r\n    membership: 'Narystė',\r\n    activeReservation: 'Aktyvi rezervacija',\r\n    soon: 'Ruošiama',\r\n  },\r\n  debt: {\r\n    notInDebt: 'Jūs nesate skolingi!',\r\n    canTakeProduct: 'Galite išsiimti produktą',\r\n    myDebt: 'Mano skola',\r\n    debtNumber: 'Skolos numeris',\r\n    total: '$t(common:total)',\r\n    paymentBank: 'Skolą apmokėkite pervesdami nurodytą sumą į vieną iš žemiau nurodytų banko sąskaitų.',\r\n    specifyDebtNumber: 'Mokėjimo paskirtyje būtinai nurodykite skolos numerį {{order_id}}',\r\n    serves: 'Jus aptarnauja',\r\n    companyNumber: 'Įmonės kodas: {{number}}',\r\n    vatNumber: 'PVM kodas: {{number}}',\r\n    address: 'Adresas: {{address}}',\r\n  },\r\n  vault: {\r\n    myVault: 'Mano saugykla',\r\n    empty: 'Jūsų saugykla yra tuščia',\r\n    unpaid: 'Neapmokėti papildymai',\r\n    vaultNumber: 'Papildymo numeris',\r\n    paymentBank:\r\n      'Už saugyklos papildymą sumokėkite pervesdami nurodytą sumą į vieną iš žemiau nurodytų banko sąskaitų',\r\n    specifyVaultNumber: 'Mokėjimo paskirtyje būtinai nurodykite papildymo numerį {{number}}',\r\n    serves: 'Jus aptarnauja',\r\n    companyNumber: 'Įmonės kodas: {{number}}',\r\n    vatNumber: 'PVM kodas: {{number}}',\r\n    address: 'Adresas: {{address}}',\r\n    cancel: 'Atšaukti papildymą',\r\n    addToVault: 'Papildyti saugyklą',\r\n    item: {\r\n      quantity: '$t(common:quantity)',\r\n      pending: 'Laukiama patvirtinimo',\r\n    },\r\n    confirm: {\r\n      addToVaultConfirm: 'Saugyklos papildymo patvirtinimas',\r\n      empty: 'Jūsų krepšelis yra tuščias',\r\n      total: '$t(common:total)',\r\n      continue: '$t(common:continue)',\r\n    },\r\n  },\r\n  settings: {\r\n    settings: '$t(common:settings)',\r\n  },\r\n  help: {\r\n    help: 'Pagalba',\r\n    about: 'Apie',\r\n    privacyPolicy: 'Privatumo politika',\r\n    rules: 'Taisyklės',\r\n    emailHelp: 'Prireikus pagalbos, kreipkitės el. paštu',\r\n  },\r\n  selected: {\r\n    select: 'Rinktis',\r\n    next: '$t(common:continue)',\r\n  },\r\n  notPayed: {\r\n    beginPayment: 'Spauskite čia, kad sumokėti registracijos mokestį',\r\n    needPaymentAndIdentification:\r\n      'Pilnam programėlės veikimui reikia susimokėti registracijos mokestį ir patvirtinti savo tapatybę',\r\n  },\r\n  notIdentified: {\r\n    beginIdentification: 'Spauskite čia, kad pradėti identifikaciją',\r\n    needIdentification: 'Pilnam programėlės veikimui reikia patvirtinti savo tapatybę',\r\n  },\r\n  vaultModal: {\r\n    adding: 'Papildymas',\r\n    areYouSure: 'Ar tikrai norite atšaukti šį papildymą?',\r\n    yes: '$t(common:yes)',\r\n    no: '$t(common:no)',\r\n  },\r\n  takeModal: {\r\n    payment: 'Išimant mokamas {{price}} saugojimo mokestis.',\r\n    areYouSure: 'Ar tikrai norite paimti šį vienetą?',\r\n    repay: 'Prieš išimant kita vienetą, reikės atpirkti šio vieneto kainą.',\r\n    cancel: '$t(common:cancel)',\r\n    take: '$t(common:take)',\r\n  },\r\n  globalModal: {\r\n    createUserSuccessTitle: 'Registracija pavyko!',\r\n    createUserSuccessMessage: 'Jūs sėkmingai prisiregistravote. Galite prisijungti.',\r\n    paymentSuccessTitle: 'Mokėjimas sėkmingas!',\r\n    paymentSuccessMessage: 'Apmokėjimas įvykdytas sėkmingai.',\r\n    registrationPaymentSuccessTitle: '$t(globalModal:paymentSuccessTitle)',\r\n    registrationPaymentSuccessMessage:\r\n      'Registracijos apmokėjimas įvykdytas sėkmingai. Ačiū, kad naudojatės mūsų programėle.',\r\n    paymentFailureTitle: 'Mokėjimo klaida',\r\n    paymentFailureMessage: 'Atliekant mokėjimą įvyko klaida. Pabandykite iš naujo.',\r\n    reservationInfoTitle: 'Kas yra rezervacija?',\r\n    reservationInfoMessage: `Rezervacija yra neprivaloma, tačiau tai yra saugesnis ir patogesnis būdas naudotis saugyklos paslauga. Ji užtikrina, jos metu, produkto būvimą saugykloje. Taip pat yra apmokama iš anksto ir atvykus prie saugyklos nebereikia įvedinėti mokėjimo duomenų.\\n\\nJei vis dėl to nenorite rezervuoti produkto, galite nedelsdami vykti prie Jūsų pasirinktos saugyklos ir bandyti laimę atsiimti norimą prekę, tačiau jūsų norima prekė gali nebebūti toje saugykloje jums atvykus ir gali tekti važiuoti i kitą artimiausią saugyklą arba \"REZERVUOTI\" norimą prekę kitoje saugykloje. Kad paimti prekę esant šalia saugyklos, tereikia paspausti mygtuką \"PAIMTI DABAR.\"`,\r\n    working: 'Apdorojama\\nPrašome palaukti',\r\n    vendSuccessTitle: 'Pavyko!',\r\n    vendSuccessMessage:\r\n      'Galite pasiimti produktą!\\n\\nTurite 50 sekundžių pasiimti produktą. Laikui pasibaigus išėmimo durelės užsirakins.',\r\n    unexpectedErrorTitle: '$t(common:error)',\r\n    unexpectedErrorMessage: 'Įvyko nenumatyta klaida. Prašome pabandyti vėliau.',\r\n    unsupportedCard: 'Nepalaikomas kortelės tipas',\r\n    productLoadTitle: 'Produktų užkrovimo klaida',\r\n    productLoadMessage: 'Nepavyko užkrauti produktų\\nPrašome pabandyti vėliau',\r\n    reservationTimeEndTitle: 'Baigėsi laikas',\r\n    reservationTImeEndMessage: 'Pasibaigė rezervacijai skirtas laikas',\r\n    vendTimeEndTitle: '$t(globalModal:reservationTimeEndTitle)',\r\n    vendTimeEndMessage: 'Pasibaigė išėmimui skirtas laikas',\r\n    vendErrorTitle: 'Produkto išdavimo klaida',\r\n  },\r\n};\r\n","export default {\r\n  language: {\r\n    language: 'Language',\r\n    lt: 'Lietuvių',\r\n    en: 'English',\r\n  },\r\n  agreement: {\r\n    userAgreement: 'User agreement',\r\n    privacyPolicy: 'Privacy Policy',\r\n    agree: 'Agree',\r\n  },\r\n  login: {\r\n    email: 'Email',\r\n    password: 'Password',\r\n    login: 'Login',\r\n    noUser: `Don't have an account?`,\r\n    register: 'Register',\r\n  },\r\n  register: {\r\n    repeatPassword: 'Repeat password',\r\n    register: 'Register',\r\n    passDontMatch: `Passwords don't match`,\r\n    passHelper: 'At least 4 symbols',\r\n  },\r\n  vendorMap: {\r\n    vendorList: {\r\n      chooseNearestStorage: 'Choose the nearest depository:',\r\n    },\r\n  },\r\n\r\n  selected: {\r\n    select: 'Select',\r\n    next: 'Next',\r\n  },\r\n  notPayed: {\r\n    title: 'Click here to pay registration fee',\r\n    subtitle: 'In order to use the app you need to pay the registration fee and approve your identity',\r\n  },\r\n  notIdentified: {\r\n    title: 'Click here to begin the identification process',\r\n    subtitle: 'In order to use the app you need to approve your identity',\r\n  },\r\n};\r\n","import React, { Component } from 'react';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\ninterface IEllipseProps {\r\n  width?: number;\r\n}\r\n\r\nclass Ellipse extends Component<IEllipseProps> {\r\n  render() {\r\n    const { width = 411 } = this.props;\r\n\r\n    const ratio = 1.21597633136;\r\n    const ellipseHeight = width / ratio;\r\n\r\n    return (\r\n      <Svg x='0' y='0' width={width} height={ellipseHeight} viewBox='0 0 411 338' fill='none'>\r\n        <Path\r\n          d='M604.5 170.5C604.5 252.238 74.2381 337.5 -7.5 337.5C-89.2381 337.5 -159 252.238 -159 170.5C-159 88.7619 337.262 0 419 0C500.738 0 604.5 88.7619 604.5 170.5Z'\r\n          fill='white'\r\n        />\r\n      </Svg>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Ellipse;\r\n","export const DarkPrimary = '#E38634';\r\nexport const Primary = '#F2994A';\r\nexport const Accent = '#5B3A2D';\r\n\r\nexport const Green = '#6FCF97';\r\nexport const Red = '#DB4437';\r\nexport const Blue = 'hsl(208, 75%, 50%)';\r\n\r\nexport const Black = 'hsl(0, 0%, 20%)';\r\nexport const DarkGray = 'hsl(0, 0%, 46%)';\r\nexport const Gray = 'hsl(0, 0%, 62%)';\r\nexport const LightGray = 'hsl(0, 0%, 85%)';\r\n","import React, { Component } from 'react';\r\nimport Svg, { Circle, G, Path, Rect, Defs, ClipPath } from 'react-native-svg';\r\n\r\nimport { Primary, DarkPrimary } from '../Colors';\r\n\r\ninterface IMainLogoProps {\r\n  width?: number;\r\n  height?: number;\r\n}\r\n\r\nclass MainLogo extends Component<IMainLogoProps> {\r\n  render() {\r\n    const { width = 250, height = 158 } = this.props;\r\n\r\n    return (\r\n      <Svg width={width} height={height} viewBox='0 0 250 158' fill='none'>\r\n        <Path\r\n          fillRule='evenodd'\r\n          clipRule='evenodd'\r\n          d='M75.0763 32C83.9186 13.0975 103.121 0 125.384 0C147.649 0 166.847 13.0992 175.69 32H152.256C145.709 24.5164 136.09 19.7813 125.384 19.7813C114.678 19.7813 105.056 24.5164 98.5069 32H75.0763ZM73.9999 79C86.1779 117.494 121.781 155.567 121.781 155.567C122.612 156.497 123.414 157.07 124.186 157.486L124.226 157.505L125.78 158L127.335 157.505L127.374 157.486C128.147 157.07 128.949 156.467 129.78 155.567C129.78 155.567 164.814 117.487 176.816 79H152.162C145.617 86.4213 136.039 91.111 125.384 91.111C114.73 91.111 105.149 86.4213 98.6016 79H73.9999Z'\r\n          fill={Primary}\r\n        />\r\n        <Path\r\n          d='M86.2172 106.514C101.411 133.785 121.781 155.567 121.781 155.567C122.612 156.497 123.414 157.07 124.186 157.486L124.226 157.505L125.78 158L127.335 157.505L127.374 157.486C128.147 157.07 128.949 156.467 129.78 155.567C129.78 155.567 145.479 138.504 159.458 115.677C151.877 119.721 144.265 122.718 134.884 121.5C123.551 120.028 117.384 115.677 110.884 111.5C104.66 107.5 99.3843 102.5 86.2172 106.514Z'\r\n          fill={DarkPrimary}\r\n        />\r\n        <Circle cx='130.884' cy='146' r='3' fill={Primary} />\r\n        <Circle cx='123.384' cy='123.5' r='1.5' fill={Primary} />\r\n        <Circle cx='136.384' cy='132.5' r='2.5' fill={Primary} />\r\n        <G clipPath='url(#clip0)'>\r\n          <Path\r\n            d='M17.5599 60.08H7.47986L4.52786 68H1.75586L11.2599 43.196H13.8159L23.3559 68H20.5119L17.5599 60.08ZM16.7319 57.92L12.5199 46.616L8.27186 57.92H16.7319ZM35.6527 56.912H31.0807V68H28.2727V43.52H36.2287C38.8927 43.52 40.9327 44.12 42.3487 45.32C43.7647 46.52 44.4727 48.128 44.4727 50.144C44.4727 51.896 43.9687 53.336 42.9607 54.464C41.9767 55.568 40.5247 56.276 38.6047 56.588L46.7767 68H43.5367L35.6527 56.912ZM31.0807 54.752H36.2287C39.8527 54.752 41.6647 53.24 41.6647 50.216C41.6647 48.8 41.1967 47.696 40.2607 46.904C39.3247 46.088 37.9807 45.68 36.2287 45.68H31.0807V54.752ZM69.3811 45.68H60.9211V68H58.1131V45.68H49.5811V43.52H69.3811V45.68ZM74.8547 43.52H77.6627V68H74.8547V43.52ZM108.934 43.52V68H106.162V59.108L106.27 48.164L98.3138 59.792H96.5138L88.5578 48.128L88.6658 59.108V68H85.8938V43.52H88.3418L97.4138 56.768L106.486 43.52H108.934ZM117.183 43.52H119.991V68H117.183V43.52ZM140.642 60.08H130.562L127.61 68H124.838L134.342 43.196H136.898L146.438 68H143.594L140.642 60.08ZM139.814 57.92L135.602 46.616L131.354 57.92H139.814ZM160.679 68.576C158.591 68.576 156.815 68.168 155.351 67.352C153.911 66.536 152.819 65.408 152.075 63.968C151.355 62.528 150.995 60.86 150.995 58.964V43.52H153.803V58.928C153.803 61.28 154.391 63.116 155.567 64.436C156.767 65.732 158.471 66.38 160.679 66.38C162.863 66.38 164.543 65.732 165.719 64.436C166.919 63.116 167.519 61.28 167.519 58.928V43.52H170.327V58.892C170.327 60.812 169.955 62.504 169.211 63.968C168.491 65.408 167.399 66.536 165.935 67.352C164.495 68.168 162.743 68.576 160.679 68.576ZM184.514 68.576C182.642 68.576 181.058 68.384 179.762 68C178.466 67.592 177.242 66.98 176.09 66.164L177.242 64.076C179.138 65.612 181.562 66.38 184.514 66.38C186.218 66.38 187.622 65.96 188.726 65.12C189.83 64.256 190.382 63.08 190.382 61.592C190.382 60.704 190.118 59.96 189.59 59.36C189.062 58.76 188.402 58.28 187.61 57.92C186.842 57.56 185.786 57.14 184.442 56.66C182.858 56.108 181.574 55.592 180.59 55.112C179.606 54.608 178.766 53.924 178.07 53.06C177.398 52.172 177.062 51.044 177.062 49.676C177.062 47.54 177.794 45.908 179.258 44.78C180.746 43.628 182.642 43.052 184.946 43.052C186.458 43.052 187.826 43.256 189.05 43.664C190.274 44.048 191.426 44.636 192.506 45.428L191.39 47.48C189.494 45.992 187.358 45.248 184.982 45.248C183.494 45.248 182.258 45.62 181.274 46.364C180.314 47.084 179.834 48.152 179.834 49.568C179.834 50.432 180.086 51.164 180.59 51.764C181.118 52.34 181.766 52.808 182.534 53.168C183.302 53.528 184.358 53.948 185.702 54.428C187.31 55.004 188.606 55.544 189.59 56.048C190.574 56.528 191.414 57.212 192.11 58.1C192.806 58.988 193.154 60.128 193.154 61.52C193.154 62.936 192.782 64.184 192.038 65.264C191.318 66.32 190.298 67.136 188.978 67.712C187.682 68.288 186.194 68.576 184.514 68.576ZM199.343 43.52H202.151V68H199.343V43.52ZM222.802 60.08H212.722L209.77 68H206.998L216.502 43.196H219.058L228.598 68H225.754L222.802 60.08ZM221.974 57.92L217.762 46.616L213.514 57.92H221.974ZM239.815 68.576C237.943 68.576 236.359 68.384 235.063 68C233.767 67.592 232.543 66.98 231.391 66.164L232.543 64.076C234.439 65.612 236.863 66.38 239.815 66.38C241.519 66.38 242.923 65.96 244.027 65.12C245.131 64.256 245.683 63.08 245.683 61.592C245.683 60.704 245.419 59.96 244.891 59.36C244.363 58.76 243.703 58.28 242.911 57.92C242.143 57.56 241.087 57.14 239.743 56.66C238.159 56.108 236.875 55.592 235.891 55.112C234.907 54.608 234.067 53.924 233.371 53.06C232.699 52.172 232.363 51.044 232.363 49.676C232.363 47.54 233.095 45.908 234.559 44.78C236.047 43.628 237.943 43.052 240.247 43.052C241.759 43.052 243.127 43.256 244.351 43.664C245.575 44.048 246.727 44.636 247.807 45.428L246.691 47.48C244.795 45.992 242.659 45.248 240.283 45.248C238.795 45.248 237.559 45.62 236.575 46.364C235.615 47.084 235.135 48.152 235.135 49.568C235.135 50.432 235.387 51.164 235.891 51.764C236.419 52.34 237.067 52.808 237.835 53.168C238.603 53.528 239.659 53.948 241.003 54.428C242.611 55.004 243.907 55.544 244.891 56.048C245.875 56.528 246.715 57.212 247.411 58.1C248.107 58.988 248.455 60.128 248.455 61.52C248.455 62.936 248.083 64.184 247.339 65.264C246.619 66.32 245.599 67.136 244.279 67.712C242.983 68.288 241.495 68.576 239.815 68.576Z'\r\n            fill={Primary}\r\n          />\r\n        </G>\r\n        <Defs>\r\n          <ClipPath id='clip0'>\r\n            <Rect width='248' height='26' fill='white' transform='translate(0.999878 43)' />\r\n          </ClipPath>\r\n        </Defs>\r\n      </Svg>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainLogo;\r\n","//import AsyncStorage from '@react-native-community/async-storage';\r\nimport { AsyncStorage } from 'react-native';\r\nimport { Dimensions, Image } from 'react-native';\r\n\r\nimport { IReservation, IProduct, ICartProduct, ICartProducts, IVendor, ILocation } from '../StateTypes';\r\nimport { GetState } from '../api';\r\n\r\nexport const getDistance = (lat1, lon1, lat2, lon2) => {\r\n  if (lat1 == lat2 && lon1 == lon2) {\r\n    return 0;\r\n  } else {\r\n    var radlat1 = (Math.PI * lat1) / 180;\r\n    var radlat2 = (Math.PI * lat2) / 180;\r\n    var theta = lon1 - lon2;\r\n    var radtheta = (Math.PI * theta) / 180;\r\n    var dist =\r\n      Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    if (dist > 1) {\r\n      dist = 1;\r\n    }\r\n    dist = Math.acos(dist);\r\n    dist = (dist * 180) / Math.PI;\r\n    dist = dist * 60 * 1.1515;\r\n    dist = dist * 1.609344;\r\n    return Number((dist * 1000).toFixed(0));\r\n  }\r\n};\r\n\r\nexport const formatCountdown = (secondsLeft: number): string => {\r\n  let hours = Math.trunc(secondsLeft / 3600);\r\n  let minutes = Math.trunc((secondsLeft / 60) % 60);\r\n  let seconds = secondsLeft % 60;\r\n\r\n  const hoursString = hours < 10 ? `0${hours}` : `${hours}`;\r\n  const minutesString = minutes < 10 ? `0${minutes}` : `${minutes}`;\r\n  const secondsString = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n\r\n  if (hours > 0) {\r\n    return `${hoursString}:${minutesString}:${secondsString}`;\r\n  } else {\r\n    return `${minutesString}:${secondsString}`;\r\n  }\r\n};\r\n\r\nexport const formatTimeWords = (timeInSeconds: number): string => {\r\n  let hours = (timeInSeconds / 3600) | 0;\r\n  let minutes = ((timeInSeconds - hours * 3600) / 60) | 0;\r\n  let seconds = timeInSeconds % 60 | 0;\r\n\r\n  if (hours === 0 && minutes === 0 && seconds !== 0) {\r\n    return `${seconds} s`;\r\n  }\r\n\r\n  if (hours === 0 && minutes !== 0 && seconds !== 0) {\r\n    return `${minutes} min ${seconds} s`;\r\n  }\r\n\r\n  if (hours === 0 && minutes !== 0 && seconds === 0) {\r\n    return `${minutes} min`;\r\n  }\r\n\r\n  if (hours !== 0 && minutes === 0 && seconds === 0) {\r\n    return `${hours} val`;\r\n  }\r\n\r\n  if (hours !== 0 && minutes !== 0 && seconds === 0) {\r\n    return `${hours} val ${minutes} min`;\r\n  }\r\n\r\n  return `${hours} val ${minutes} min ${seconds} s`;\r\n};\r\n\r\nexport const isLoginFormValid = (email: string, password: string): boolean => {\r\n  if (email.trim().length !== 0 && password.trim().length >= 4) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const isRegisterFormValid = (email: string, password: string, password2: string): boolean => {\r\n  if (email.trim().length !== 0 && password.trim().length >= 4 && password2.trim().length >= 4) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const getReservationProducts = (reservation: IReservation, allProducts: IProduct[]) => {\r\n  const reservationProducts: ICartProduct[] = [];\r\n  let vended: { [key: number]: number } = {};\r\n  let errors: { [key: number]: number } = {};\r\n\r\n  for (let resProduct of reservation.products) {\r\n    if (resProduct.quantity > 0) {\r\n      const product = allProducts.find((product) => product.id === resProduct.product)!;\r\n      const reservationProduct = { ...product, amount: resProduct.quantity };\r\n\r\n      if (reservation.vended) {\r\n        vended = parseCommaList(reservation.vended);\r\n      }\r\n\r\n      if (reservation.errors) {\r\n        errors = parseCommaList(reservation.errors);\r\n      }\r\n\r\n      if (vended[product.product_code] + errors[product.product_code] !== resProduct.quantity) {\r\n        reservationProducts.push(reservationProduct);\r\n      }\r\n    }\r\n  }\r\n  return reservationProducts;\r\n};\r\n\r\nexport const getCartSum = (cart: ICartProducts, getState: GetState) => {\r\n  const allProducts = getState().globalReducer.products;\r\n  let sum = 0;\r\n  let reservationFee = 0;\r\n\r\n  for (let id in cart) {\r\n    if (cart[id] > 0) {\r\n      const product = allProducts.find((product) => product.id === Number(id))!;\r\n      sum += cart[id] * product.storage_fee;\r\n      reservationFee += cart[id] * product.reservation_fee;\r\n    }\r\n  }\r\n\r\n  return { amount: sum, reservationFee };\r\n};\r\n\r\nexport const getVaultPaymentAmount = (cart: ICartProducts, getState: GetState) => {\r\n  const allProducts = getState().globalReducer.products;\r\n  const { debt_extra_fixed, debt_extra_percents } = getState().globalReducer.fees!;\r\n\r\n  let amount = 0;\r\n\r\n  for (let id in cart) {\r\n    const product = allProducts.find((product) => product.id === Number(id))!;\r\n    amount += cart[id] * product.price;\r\n  }\r\n\r\n  const fee = Math.round(amount * Number(debt_extra_percents / 100) + Number(debt_extra_fixed * 100));\r\n\r\n  return amount + fee;\r\n};\r\n\r\nexport const getVendingCode = (productCode: number) => {\r\n  let stringNumber = String(productCode);\r\n\r\n  switch (stringNumber[0]) {\r\n    case '1':\r\n      return `A${stringNumber.substring(1)}`;\r\n    case '2':\r\n      return `B${stringNumber.substring(1)}`;\r\n    case '3':\r\n      return `C${stringNumber.substring(1)}`;\r\n    case '4':\r\n      return `D${stringNumber.substring(1)}`;\r\n    default:\r\n      throw 'Incorrect product code';\r\n  }\r\n};\r\n\r\nexport const parseCommaList = (list: string | null): { [key: number]: number } => {\r\n  if (list === null) {\r\n    return {};\r\n  }\r\n\r\n  const array = list.split(',').filter(Boolean).map(Number);\r\n\r\n  const values: { [key: number]: number } = {};\r\n\r\n  for (let i = 0; i < array.length; i++) {\r\n    values[array[i]] = (values[array[i]] || 0) + 1;\r\n  }\r\n\r\n  return values;\r\n};\r\n\r\nexport const formatCurrency = (sum: number) => (sum / 100).toFixed(2) + '\\u20AC';\r\n\r\nexport const storeVendingProductId = async (id: number) => {\r\n  try {\r\n    return await AsyncStorage.setItem('vendingProductId', String(id));\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\nexport const getVendingProductId = async () => {\r\n  try {\r\n    const id = await AsyncStorage.getItem('vendingProductId');\r\n\r\n    if (id !== null) {\r\n      return Number(id);\r\n    }\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\nexport const removeVendingProductId = async () => {\r\n  try {\r\n    await AsyncStorage.removeItem('vendingProductId');\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n};\r\n\r\nexport const getWeekday = (index: number) => {\r\n  switch (index) {\r\n    case 0:\r\n      return 'Pirmadieniais';\r\n    case 1:\r\n      return 'Antradieniais';\r\n    case 2:\r\n      return 'Trečiadieniais';\r\n    case 3:\r\n      return 'Ketvirtadieniais';\r\n    case 4:\r\n      return 'Penktadieniais';\r\n    case 5:\r\n      return 'Šeštadieniais';\r\n    case 6:\r\n      return 'Sekmadieniais';\r\n  }\r\n};\r\n\r\nexport const isUserNearby = (vendor: IVendor, userLocation: ILocation) => {\r\n  return getDistance(vendor.latitude, vendor.longitude, userLocation.latitude, userLocation.longitude) < 30;\r\n};\r\n\r\nexport type OrientationType = 'portrait' | 'landscape';\r\nexport const getPhoneOrientation = (): OrientationType => {\r\n  if (Dimensions.get('window').height > Dimensions.get('window').width) {\r\n    return 'portrait';\r\n  } else return 'landscape';\r\n};\r\n\r\nexport const getMaxItemsInfoSuffix = (maxItems: number): string => {\r\n  switch (maxItems) {\r\n    case 1:\r\n      return 'vienetą';\r\n    default:\r\n      return 'vienetus';\r\n  }\r\n};\r\n\r\nexport const shouldUseContain = (url: string): Promise<boolean> => {\r\n  return new Promise((resolve) => {\r\n    Image.getSize(\r\n      url,\r\n      (width, height) => {\r\n        if (width / height < 0.75) {\r\n          resolve(true);\r\n        } else {\r\n          resolve(false);\r\n        }\r\n      },\r\n      (err) => {}\r\n    );\r\n  });\r\n};\r\n","import React, { Component } from 'react';\r\nimport { View, Dimensions } from 'react-native';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport * as Animatable from 'react-native-animatable';\r\n\r\nimport Ellipse from './Ellipse';\r\nimport MainLogo from '../../components/MainLogo';\r\nimport { Green } from '../../Colors';\r\nimport { getPhoneOrientation, OrientationType } from '../../helpers';\r\n\r\ninterface ISplashState {\r\n  orientation: OrientationType;\r\n  screenWidth: number;\r\n}\r\n\r\nclass Splash extends Component<RouteComponentProps, ISplashState> {\r\n  state = {\r\n    orientation: getPhoneOrientation(),\r\n    screenWidth: Dimensions.get('window').width,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { history } = this.props;\r\n\r\n    Dimensions.addEventListener('change', this.onOrientationChange);\r\n    setTimeout(() => history.replace('/login'), 500);\r\n  }\r\n\r\n  onOrientationChange = () => {\r\n    this.setState({ orientation: getPhoneOrientation(), screenWidth: Dimensions.get('window').width });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    Dimensions.removeEventListener('change', this.onOrientationChange);\r\n  }\r\n\r\n  render() {\r\n    const { orientation } = this.state;\r\n    let { screenWidth } = this.state;\r\n\r\n    screenWidth = Math.min(1000, screenWidth);\r\n    const isInPortrait = orientation === 'portrait';\r\n    const narrow = isInPortrait && screenWidth < 600 && true;\r\n\r\n    return (\r\n      <View style={{ flex: 1, backgroundColor: narrow ? Green : '#fff', zIndex: 10 }}>\r\n        <View style={{ marginTop: narrow ? 120 : 0, height: narrow ? 'auto' : '100%' }}>\r\n          {narrow && <Ellipse width={screenWidth} />}\r\n          <View\r\n            style={{\r\n              position: 'absolute',\r\n              left: '50%',\r\n              top: narrow ? '50%' : '40%',\r\n              transform: [\r\n                { translateX: narrow ? -125 : -250 },\r\n                { translateY: narrow ? -79 : -(Math.max(160, screenWidth / 5) / 2) },\r\n              ],\r\n            }}\r\n          >\r\n            <Animatable.View animation={narrow ? undefined : 'zoomIn'} easing='ease-out' duration={200}>\r\n              {narrow ? <MainLogo /> : <MainLogo width={500} height={Math.max(160, screenWidth / 5)} />}\r\n            </Animatable.View>\r\n          </View>\r\n        </View>\r\n\r\n        <View\r\n          style={{\r\n            flex: 1,\r\n            justifyContent: 'flex-end',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              width: 58,\r\n              height: 58,\r\n              marginBottom: 36,\r\n              backgroundColor: 'white',\r\n              borderRadius: 58 / 2,\r\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.3)',\r\n            }}\r\n          >\r\n            <CircularProgress />\r\n          </div>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Splash;\r\n","import {\r\n  IApiLoginUser,\r\n  IApiGetUserCredentials,\r\n  IApiGetUserMembership,\r\n  IApiGetVendorProducts,\r\n  IApiVend,\r\n  IApiCreateUser,\r\n  IApiPollUser,\r\n  IApiGetPaymentDetails,\r\n  IApiGetPolicies,\r\n  IApiGetTime,\r\n  IApiGetFees,\r\n  IApiGetVault,\r\n  IApiPay,\r\n  IApiPollPayment,\r\n} from './types';\r\nimport { IState, IReservation, IVendor, IProduct, IPaymentInstrument } from '../StateTypes';\r\nimport { ICardValuesFormatted } from '../pages/Home/CardModal';\r\n\r\nlet domainName = 'artimiausias.impressbox.eu';\r\n\r\n// if (__DEV__) {\r\n//   domainName = 'artimiausias.impressbox.eu';\r\n// } else {\r\n//   domainName = 'www.artimiausias.lt';\r\n// }\r\n\r\nexport type GetState = () => IState;\r\n\r\nexport class ApiError extends Error {\r\n  json: object;\r\n\r\n  constructor(json: object, ...args: any[]) {\r\n    super(...args);\r\n    this.json = json;\r\n  }\r\n}\r\n\r\nconst makeFetch = (url: string, getState: GetState, fetchConfig: any = {}): Promise<any> => {\r\n  const token = getState().loginReducer.token;\r\n\r\n  if (!fetchConfig.headers) {\r\n    const headers = new Headers();\r\n    headers.append('Content-Type', 'application/json');\r\n\r\n    if (url !== '/api/policies/' && url !== '/api/credentials/' && !url.startsWith('/api/users/?username=')) {\r\n      const access_token = token && token.access_token;\r\n      headers.append('Authorization', `Bearer ${access_token}`);\r\n    }\r\n\r\n    headers.append('Accept-Language', 'lt');\r\n    fetchConfig.headers = headers;\r\n  }\r\n\r\n  return fetch(`https://${domainName}${url}`, fetchConfig).then(async (res) => {\r\n    //console.log(res);\r\n\r\n    if (res.ok) {\r\n      let jsonRes;\r\n\r\n      if (url === '/api/init/') {\r\n        jsonRes = await res.text();\r\n      } else {\r\n        jsonRes = await res.json();\r\n      }\r\n\r\n      return jsonRes;\r\n    } else if (res.status >= 500) {\r\n      throw new ApiError({\r\n        title: 'unexpectedErrorTitle',\r\n        message: 'unexpectedErrorMessage',\r\n        statusCode: res.status,\r\n      });\r\n    } else {\r\n      const err = await res.json();\r\n      err.statusCode = res.status;\r\n      throw new ApiError(err);\r\n    }\r\n  });\r\n};\r\n\r\n// Policies\r\nexport const getPolicies = (): Promise<IApiGetPolicies> => {\r\n  const headers = new Headers();\r\n  headers.append('Content-Type', 'application/json');\r\n  headers.append('Accept-Language', 'lt');\r\n\r\n  return fetch(`https://${domainName}/api/policies/`, {\r\n    headers,\r\n  }).then(async (res) => {\r\n    //console.log(res);\r\n\r\n    if (res.ok) {\r\n      return await res.json();\r\n    } else if (res.status >= 500) {\r\n      throw new ApiError({\r\n        title: 'unexpectedErrorTitle',\r\n        message: 'unexpectedErrorMessage',\r\n        statusCode: res.status,\r\n      });\r\n    } else {\r\n      const err = await res.json();\r\n      err.statusCode = res.status;\r\n      throw new ApiError(err);\r\n    }\r\n  });\r\n};\r\n\r\n// Init\r\nexport const apiInit = (getState: GetState): Promise<IApiLoginUser> => makeFetch('/api/init/', getState);\r\n\r\n// Login\r\nexport const loginUser = (getState: GetState, body: any): Promise<IApiLoginUser> => {\r\n  return makeFetch('/o/token/', getState, {\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n      'Accept-Language': 'lt',\r\n    },\r\n    method: 'POST',\r\n    body,\r\n  });\r\n};\r\n\r\nexport const getUserCredentials = (\r\n  getState: GetState,\r\n  email: string,\r\n  password: string\r\n): Promise<IApiGetUserCredentials> => {\r\n  return makeFetch('/api/credentials/', getState, {\r\n    method: 'POST',\r\n    body: JSON.stringify({ email, password }),\r\n  });\r\n};\r\n\r\n// User\r\nexport const createUser = (\r\n  getState: GetState,\r\n  user: { email: string; password: string }\r\n): Promise<IApiCreateUser> => {\r\n  return makeFetch('/api/users/', getState, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  });\r\n};\r\n\r\nexport const pollUser = (getState: GetState, username: string): Promise<IApiPollUser> => {\r\n  return makeFetch(`/api/users/?username=${username}`, getState);\r\n};\r\n\r\nexport const getUserMembership = (getState: GetState): Promise<IApiGetUserMembership> => {\r\n  return makeFetch('/api/membership/?self', getState);\r\n};\r\n\r\nexport const getUserReservations = (getState: GetState): Promise<IReservation[]> => {\r\n  return makeFetch('/api/reservation/', getState);\r\n};\r\n\r\n// Global\r\nexport const getAllVendors = (getState: GetState): Promise<IVendor[]> => {\r\n  return makeFetch('/api/vendor/', getState);\r\n};\r\n\r\nexport const getAllProducts = (getState: GetState): Promise<IProduct[]> => {\r\n  return makeFetch('/api/product/', getState);\r\n};\r\n\r\n// Vendor\r\nexport const getVendorProducts = (getState: GetState, vendorId: number): Promise<IApiGetVendorProducts> => {\r\n  return makeFetch(`/api/reservation/${vendorId}/`, getState);\r\n};\r\n\r\nexport const createReservation = (\r\n  getState: GetState,\r\n  vendorId: number,\r\n  data: { [productId: number]: number },\r\n  instaVend: boolean\r\n): Promise<IReservation[]> => {\r\n  return makeFetch(`/api/reservation/${vendorId}/${instaVend ? '1/' : '0/'}`, getState, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n  });\r\n};\r\n\r\nexport const vend = (getState: GetState, productId: number): Promise<IApiVend> => {\r\n  return makeFetch(`/api/vend/?${productId}`, getState);\r\n};\r\n\r\n// Fees\r\nexport const getFees = (getState: GetState): Promise<IApiGetFees> => {\r\n  return makeFetch(`/api/fees/`, getState);\r\n};\r\n\r\n// Vault\r\nexport const getVault = (getState: GetState): Promise<IApiGetVault> => {\r\n  return makeFetch(`/api/vault/`, getState);\r\n};\r\n\r\nexport const addToVault = (\r\n  getState: GetState,\r\n  body: string,\r\n  token: string\r\n): Promise<IApiGetPaymentDetails> => {\r\n  return makeFetch(`/api/vault/`, getState, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n      'Accept-Language': 'lt',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body,\r\n  });\r\n};\r\n\r\nexport const deleteLastVaultOrder = (getState: GetState): Promise<IApiGetVault> => {\r\n  return makeFetch(`/api/vault/`, getState, {\r\n    method: 'DELETE',\r\n  });\r\n};\r\n\r\n// Payment\r\nexport const getPaymentDetails = (getState: GetState): Promise<IApiGetPaymentDetails> => {\r\n  return makeFetch(`/api/paymentctx/`, getState);\r\n};\r\n\r\nexport const pollPayment = (getState: GetState, orderId: string): Promise<IApiPollPayment> => {\r\n  return makeFetch(`/api/paymentctx/?order_id=${orderId}`, getState);\r\n};\r\n\r\nexport const pay = (\r\n  getState: GetState,\r\n  type: string,\r\n  data: {\r\n    amount: number;\r\n    order_id: string;\r\n    reservation: null | number;\r\n    payment_instrument: ICardValuesFormatted | IPaymentInstrument;\r\n  }\r\n): Promise<IApiPay> => {\r\n  return makeFetch(`/api/paymentctx/${type}/`, getState, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n  });\r\n};\r\n\r\nexport const onPaymentFailure = (getState: GetState, reservationId: number): Promise<{}> => {\r\n  return makeFetch(`/api/paymentctx/`, getState, {\r\n    method: 'DELETE',\r\n    body: JSON.stringify({ reservation: reservationId }),\r\n  });\r\n};\r\n\r\n// Time\r\nexport const getCurrentTime = (token: string): Promise<IApiGetTime> => {\r\n  const headers = new Headers();\r\n  headers.append('Content-Type', 'application/json');\r\n  headers.append('Accept-Language', 'lt');\r\n  headers.append('Authorization', `Bearer ${token}`);\r\n\r\n  return fetch(`https://${domainName}/api/time/`, {\r\n    headers,\r\n  }).then(async (res) => {\r\n    console.log(res);\r\n\r\n    if (res.ok) {\r\n      return await res.json();\r\n    } else if (res.status >= 500) {\r\n      throw new ApiError({\r\n        title: 'unexpectedErrorTitle',\r\n        message: 'unexpectedErrorMessage',\r\n        statusCode: res.status,\r\n      });\r\n    } else {\r\n      const err = await res.json();\r\n      err.statusCode = res.status;\r\n      throw new ApiError(err);\r\n    }\r\n  });\r\n};\r\n","import { createAction } from 'typesafe-actions';\r\n\r\nimport { pollPayment as pollPaymentAPI } from '../api';\r\nimport { IAuthInfo } from '../api/types';\r\nimport * as ActionTypes from '../ActionTypes';\r\nimport globalActions from './global';\r\nimport { ThunkAction } from './helpers';\r\n\r\nlet pollInterval: number | null = null;\r\n\r\nconst pollPayment = (orderId: string, onSuccess: () => void, onFailure: () => void): ThunkAction => {\r\n  return (dispatch, getState) => {\r\n    if (!pollInterval) {\r\n      pollInterval = setInterval(async () => {\r\n        try {\r\n          const { status } = await pollPaymentAPI(getState, orderId);\r\n\r\n          if (status === 'approved') {\r\n            dispatch(clearPaymentPoll());\r\n            onSuccess();\r\n          } else if (status === 'declined') {\r\n            dispatch(clearPaymentPoll());\r\n            onFailure();\r\n          }\r\n        } catch (e) {\r\n          console.error(e.json);\r\n\r\n          if (e.json.statusCode >= 500) {\r\n            dispatch(globalActions.showGlobalErrorModal(e.json));\r\n          }\r\n        }\r\n      }, 1000);\r\n    } else {\r\n      console.error('Payment poll is already running.');\r\n    }\r\n  };\r\n};\r\n\r\nconst clearPaymentPoll = (): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    if (pollInterval) {\r\n      clearInterval(pollInterval);\r\n      pollInterval = null;\r\n    }\r\n  };\r\n};\r\n\r\nexport const actions = {\r\n  setHTML: createAction(ActionTypes.SET_HTML, (action) => (html: string) => action(html)),\r\n  setParameters: createAction(ActionTypes.SET_PARAMETERS, (action) => (info: IAuthInfo) => action(info)),\r\n};\r\n\r\nexport default { ...actions, pollPayment, clearPaymentPoll };\r\n","// Login\r\nexport const RESET_LOGIN_FORM_ERRORS = 'RESET_LOGIN_FORM_ERRORS';\r\nexport const LOGIN_INIT = 'LOGIN_INIT';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\nexport const SET_REIDENTIFICATION = 'SET_REIDENTIFICATION';\r\n\r\n// User\r\nexport const RESET_REGISTER_FORM_ERRORS = 'RESET_REGISTER_FORM_ERRORS';\r\nexport const CREATE_USER_INIT = 'CREATE_USER_INIT';\r\nexport const CREATE_USER_SUCCESS = 'CREATE_USER_SUCCESS';\r\nexport const CREATE_USER_FAILURE = 'CREATE_USER_FAILURE';\r\n\r\nexport const SET_USER_LOCATION = 'SET_USER_LOCATION';\r\nexport const SET_USER_MEMBERSHIP = 'SET_USER_MEMBERSHIP';\r\nexport const SET_USER_DEBT = 'SET_USER_DEBT';\r\nexport const SET_USER_RESERVATIONS = 'SET_USER_RESERVATIONS';\r\nexport const ADD_VENDED_PRODUCT = 'ADD_VENDED_PRODUCT';\r\nexport const UPDATE_VAULT = 'UPDATE_VAULT';\r\nexport const SET_VAULT = 'SET_VAULT';\r\n\r\nexport const ADD_PRODUCT_TO_CART = 'ADD_PRODUCT_TO_CART';\r\nexport const REMOVE_PRODUCT_FROM_CART = 'REMOVE_PRODUCT_FROM_CART';\r\nexport const RESET_CART = 'RESET_CART';\r\n\r\nexport const ADD_PRODUCT_TO_VAULTCART = 'ADD_PRODUCT_TO_VAULTCART';\r\nexport const REMOVE_PRODUCT_FROM_VAULTCART = 'REMOVE_PRODUCT_FROM_VAULTCART';\r\n\r\nexport const FETCH_USER_DATA_INIT = 'FETCH_USER_DATA_INIT';\r\nexport const FETCH_USER_DATA_SUCCESS = 'FETCH_USER_DATA_SUCCESS';\r\nexport const FETCH_USER_DATA_FAILURE = 'FETCH_USER_DATA_FAILURE';\r\n\r\nexport const SET_IDENTIFIED = 'SET_IDENTIFIED';\r\nexport const SET_REGISTRATION_FEE_PAYED = 'SET_REGISTRATION_FEE_PAYED';\r\n\r\n// Global\r\nexport const SHOW_TAKE_MODAL = 'SHOW_TAKE_MODAL';\r\nexport const HIDE_TAKE_MODAL = 'HIDE_TAKE_MODAL';\r\n\r\nexport const SHOW_VAULT_MODAL = 'SHOW_VAULT_MODAL';\r\nexport const HIDE_VAULT_MODAL = 'HIDE_VAULT_MODAL';\r\n\r\nexport const FETCH_APP_DATA_INIT = 'FETCH_APP_DATA_INIT';\r\nexport const FETCH_APP_DATA_SUCCESS = 'FETCH_APP_DATA_SUCCESS';\r\nexport const FETCH_APP_DATA_FAILURE = 'FETCH_APP_DATA_FAILURE';\r\n\r\nexport const OPEN_DRAWER = 'OPEN_DRAWER';\r\nexport const CLOSE_DRAWER = 'CLOSE_DRAWER';\r\n\r\nexport const SHOW_GLOBAL_MODAL = 'SHOW_GLOBAL_MODAL';\r\nexport const HIDE_GLOBAL_MODAL = 'HIDE_GLOBAL_MODAL';\r\nexport const SHOW_GLOBAL_ERROR_MODAL = 'SHOW_GLOBAL_ERROR_MODAL';\r\n\r\nexport const SHOW_CODE_MODAL = 'SHOW_CODE_MODAL';\r\nexport const HIDE_CODE_MODAL = 'HIDE_CODE_MODAL';\r\n\r\nexport const SET_FEES = 'SET_FEES';\r\n\r\nexport const SHOW_RESERVATION_INFO_MODAL = 'SHOW_RESERVATION_INFO_MODAL';\r\n\r\nexport const SHOW_TOAST_MESSAGE = 'SHOW_TOAST_MESSAGE';\r\nexport const HIDE_TOAST_MESSAGE = 'HIDE_TOAST_MESSAGE';\r\n\r\nexport const SET_LOCATION_ENABLED = 'SET_LOCATION_ENABLED';\r\nexport const SET_APP_LANGUAGE = 'SET_APP_LANGUAGE';\r\nexport const SHOW_LANGUAGE_MODAL = 'SHOW_LANGUAGE_MODAL';\r\nexport const HIDE_LANGUAGE_MODAL = 'HIDE_LANGUAGE_MODAL';\r\n\r\n// Vendor\r\nexport const SET_SELECTED_VENDOR = 'SET_SELECTED_VENDOR';\r\nexport const FETCH_VENDOR_PRODUCTS_INIT = 'FETCH_VENDOR_PRODUCTS_INIT';\r\nexport const FETCH_VENDOR_PRODUCTS_SUCCESS = 'FETCH_VENDOR_PRODUCTS_SUCCESS';\r\nexport const FETCH_VENDOR_PRODUCTS_FAILURE = 'FETCH_VENDOR_PRODUCTS_FAILURE';\r\n\r\nexport const CREATE_RESERVATION_INIT = 'CREATE_RESERVATION_INIT';\r\nexport const CREATE_RESERVATION_SUCCESS = 'CREATE_RESERVATION_SUCCESS';\r\nexport const CREATE_RESERVATION_FAILURE = 'CREATE_RESERVATION_FAILURE';\r\n\r\nexport const VEND_INIT = 'VEND_INIT';\r\nexport const VEND_SUCCESS = 'VEND_SUCCESS';\r\nexport const VEND_FAILURE = 'VEND_FAILURE';\r\n\r\nexport const SET_VEND_PRODUCT_ID = 'SET_VEND_PRODUCT_ID';\r\nexport const TAKE_FAILURE_DISTANCE = 'TAKE_FAILURE_DISTANCE';\r\n\r\n// Payment\r\nexport const PAYMENT_INIT = 'PAYMENT_INIT';\r\nexport const PAYMENT_SUCCESS = 'PAYMENT_SUCCESS';\r\nexport const PAYMENT_FAILURE = 'PAYMENT_FAILURE';\r\n\r\nexport const REGISTRATION_PAYMENT_SUCCESS = 'REGISTRATION_PAYMENT_SUCCESS';\r\nexport const RESERVATION_PAYMENT_SUCCESS = 'RESERVATION_PAYMENT_SUCCESS';\r\n\r\nexport const SHOW_CARD_MODAL = 'SHOW_CARD_MODAL';\r\nexport const HIDE_CARD_MODAL = 'HIDE_CARD_MODAL';\r\n\r\nexport const SET_CURRENT_RESERVATION_ID = 'SET_CURRENT_RESERVATION_ID';\r\n\r\nexport const SET_PAST_PAYMENTS = 'SET_PAST_PAYMENTS';\r\n\r\n// Authorize\r\nexport const SET_HTML = 'SET_HTML';\r\nexport const SET_PARAMETERS = 'SET_PARAMETERS';\r\n","import { createAction } from 'typesafe-actions';\r\n\r\nimport * as ActionTypes from '../ActionTypes';\r\nimport { ThunkAction } from './helpers';\r\nimport globalActions from './global';\r\nimport authorizeActions from './authorize';\r\n\r\nimport { getPaymentDetails, pay, onPaymentFailure } from '../api';\r\nimport { ICardValuesFormatted } from '../pages/Home/CardModal';\r\nimport { replace } from 'connected-react-router';\r\nimport { IPaymentInstrument } from '../StateTypes';\r\n\r\nconst cancelPayment = (): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    const { currentReservationId } = getState().paymentReducer;\r\n\r\n    if (currentReservationId !== null) {\r\n      try {\r\n        await onPaymentFailure(getState, currentReservationId);\r\n        dispatch(actions.setCurrentReservationId(null));\r\n      } catch (e) {\r\n        console.error(e.json);\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nconst onError = (e: any, dispatch: any) => {\r\n  e.json && console.error(e.json);\r\n\r\n  if (e.json) {\r\n    if (e.json.statusCode >= 500) {\r\n      dispatch(globalActions.showGlobalErrorModal(e.json));\r\n      return;\r\n    }\r\n\r\n    if (e.json['Mokėjimo klaida']) {\r\n      if (e.json.statusCode === 400) {\r\n        dispatch(\r\n          globalActions.showGlobalErrorModal({\r\n            title: 'paymentFailureTitle',\r\n            message: e.json['Mokėjimo klaida'],\r\n          })\r\n        );\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (e.json['Vartotojo Klaida']) {\r\n      dispatch(\r\n        globalActions.showGlobalErrorModal({\r\n          title: 'paymentFailureTitle',\r\n          message: e.json['Vartotojo Klaida'],\r\n        })\r\n      );\r\n\r\n      return;\r\n    }\r\n\r\n    if (e.json.errors && Array.isArray(e.json.errors) && e.json.errors.length > 0) {\r\n      let message = e.json.errors[0].message;\r\n\r\n      if (message) {\r\n        if (message === 'Unsupported Card Brand') {\r\n          message = 'unsupportedCard';\r\n        }\r\n      } else {\r\n        message = 'paymentFailureMessage';\r\n      }\r\n\r\n      dispatch(cancelPayment());\r\n      dispatch(\r\n        globalActions.showGlobalErrorModal({\r\n          title: 'paymentFailureTitle',\r\n          message,\r\n        })\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (e.json.statusCode) {\r\n      dispatch(cancelPayment());\r\n      dispatch(actions.paymentFailure());\r\n    }\r\n  } else {\r\n    dispatch(cancelPayment());\r\n    dispatch(actions.paymentFailure());\r\n  }\r\n};\r\n\r\nconst beginRegistrationFeePayment = (): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch(actions.paymentInit());\r\n      const res = await getPaymentDetails(getState);\r\n\r\n      dispatch(actions.setCurrentReservationId(null));\r\n      dispatch(actions.setPastPayments(res.payment_instrument));\r\n      dispatch(globalActions.hideGlobalModal());\r\n\r\n      dispatch(\r\n        actions.showCardModal(res.amount, async (data: ICardValuesFormatted | IPaymentInstrument) => {\r\n          try {\r\n            dispatch(actions.paymentInit());\r\n            const payRes = await pay(getState, 'registration', { ...res, payment_instrument: data });\r\n\r\n            if (payRes.status === 'approved') {\r\n              dispatch(actions.registrationPaymentSuccess());\r\n            } else if (payRes.status === 'declined') {\r\n              dispatch(actions.paymentFailure());\r\n            } else if (payRes.status === 'pending' && payRes.authorization_information) {\r\n              dispatch(authorizeActions.setParameters(payRes.authorization_information));\r\n              dispatch(globalActions.hideGlobalModal());\r\n              dispatch(actions.hideCardModal());\r\n\r\n              dispatch(replace('/authorize'));\r\n              dispatch(\r\n                authorizeActions.pollPayment(\r\n                  payRes.order_id,\r\n                  () => {\r\n                    dispatch(replace('/home'));\r\n                    dispatch(actions.registrationPaymentSuccess());\r\n                  },\r\n                  () => {\r\n                    dispatch(replace('/home'));\r\n                    dispatch(actions.paymentFailure());\r\n                  }\r\n                )\r\n              );\r\n            }\r\n          } catch (e) {\r\n            onError(e, dispatch);\r\n          }\r\n        })\r\n      );\r\n    } catch (e) {\r\n      onError(e, dispatch);\r\n    }\r\n  };\r\n};\r\n\r\nconst beginReservationPayment = (onSuccess: () => void, onFailure: () => void): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const res = await getPaymentDetails(getState);\r\n\r\n      dispatch(actions.setCurrentReservationId(res.reservation));\r\n      dispatch(actions.setPastPayments(res.payment_instrument));\r\n      dispatch(globalActions.hideGlobalModal());\r\n\r\n      dispatch(\r\n        actions.showCardModal(res.amount, async (data: ICardValuesFormatted | IPaymentInstrument) => {\r\n          try {\r\n            dispatch(actions.paymentInit());\r\n            const payRes = await pay(getState, 'service', { ...res, payment_instrument: data });\r\n\r\n            if (payRes.status === 'approved') {\r\n              dispatch(actions.setCurrentReservationId(null));\r\n              dispatch(globalActions.hideGlobalModal());\r\n              dispatch(actions.reservationPaymentSuccess());\r\n              onSuccess();\r\n            } else if (payRes.status === 'declined') {\r\n              dispatch(cancelPayment());\r\n              dispatch(actions.paymentFailure());\r\n            } else if (payRes.status === 'pending' && payRes.authorization_information) {\r\n              dispatch(authorizeActions.setParameters(payRes.authorization_information));\r\n              dispatch(globalActions.hideGlobalModal());\r\n              dispatch(actions.hideCardModal());\r\n\r\n              dispatch(replace('/authorize'));\r\n              dispatch(\r\n                authorizeActions.pollPayment(\r\n                  payRes.order_id,\r\n                  () => {\r\n                    dispatch(actions.setCurrentReservationId(null));\r\n                    dispatch(actions.reservationPaymentSuccess());\r\n                    onSuccess();\r\n                  },\r\n                  () => {\r\n                    dispatch(actions.paymentFailure());\r\n                    dispatch(cancelPayment());\r\n                    onFailure();\r\n                  }\r\n                )\r\n              );\r\n            }\r\n          } catch (e) {\r\n            onError(e, dispatch);\r\n          }\r\n        })\r\n      );\r\n    } catch (e) {\r\n      onError(e, dispatch);\r\n    }\r\n  };\r\n};\r\n\r\nexport const actions = {\r\n  paymentInit: createAction(ActionTypes.PAYMENT_INIT),\r\n  paymentSuccess: createAction(ActionTypes.PAYMENT_SUCCESS),\r\n  paymentFailure: createAction(ActionTypes.PAYMENT_FAILURE),\r\n  registrationPaymentSuccess: createAction(ActionTypes.REGISTRATION_PAYMENT_SUCCESS),\r\n  reservationPaymentSuccess: createAction(ActionTypes.RESERVATION_PAYMENT_SUCCESS),\r\n  showCardModal: createAction(\r\n    ActionTypes.SHOW_CARD_MODAL,\r\n    (action) => (amount: number, onConfirm: (data: ICardValuesFormatted | IPaymentInstrument) => void) =>\r\n      action({ amount, onConfirm })\r\n  ),\r\n  hideCardModal: createAction(ActionTypes.HIDE_CARD_MODAL),\r\n  setCurrentReservationId: createAction(\r\n    ActionTypes.SET_CURRENT_RESERVATION_ID,\r\n    (action) => (id: number | null) => action(id)\r\n  ),\r\n  setPastPayments: createAction(ActionTypes.SET_PAST_PAYMENTS, (action) => (payments: IPaymentInstrument[]) =>\r\n    action(payments)\r\n  ),\r\n};\r\n\r\nexport default {\r\n  ...actions,\r\n  cancelPayment,\r\n  beginRegistrationFeePayment,\r\n  beginReservationPayment,\r\n};\r\n","import { createAction } from 'typesafe-actions';\r\nimport { replace, goBack, go, push } from 'connected-react-router';\r\n\r\nimport * as ActionTypes from '../ActionTypes';\r\nimport { ThunkAction } from './helpers';\r\nimport {\r\n  ILocation,\r\n  IUserMembership,\r\n  IReservation,\r\n  IState,\r\n  ICreateUserError,\r\n  IGlobalModalBody,\r\n  IUserVault,\r\n  ICartProducts,\r\n} from '../StateTypes';\r\nimport {\r\n  createUser,\r\n  pollUser,\r\n  getUserMembership,\r\n  getUserReservations,\r\n  getVault as apiGetVault,\r\n  deleteLastVaultOrder as apiDeleteLastVaultOrder,\r\n  addToVault,\r\n} from '../api';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport globalActions from './global';\r\nimport paymentActions from './payment';\r\n\r\nconst create = (user: { email: string; password: string }): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(actions.createUserInit());\r\n    try {\r\n      await createUser(getState, user);\r\n\r\n      dispatch(actions.createUserSuccess());\r\n      dispatch(push('/login'));\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      const createUserError: ICreateUserError = {};\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(globalActions.showGlobalErrorModal(e.json));\r\n        dispatch(actions.createUserFailure(createUserError));\r\n        return;\r\n      }\r\n\r\n      if (e.json.email && e.json.email['Vartotojo profilio klaida']) {\r\n        createUserError.email = e.json.email['Vartotojo profilio klaida'];\r\n      } else {\r\n        createUserError.email = e.json.email[0];\r\n      }\r\n\r\n      if (e.json.password && e.json.password['Įvesties klaida']) {\r\n        createUserError.password = e.json.password['Įvesties klaida'];\r\n      }\r\n\r\n      dispatch(actions.createUserFailure(createUserError));\r\n    }\r\n  };\r\n};\r\n\r\nconst poll = (username: string): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const { idenfy_responded, idenfy_confirmed } = (await pollUser(getState, username))[0];\r\n\r\n      if (idenfy_responded) {\r\n        if (idenfy_confirmed) {\r\n          dispatch(replace('/idenfy/success'));\r\n        } else {\r\n          dispatch(replace('/idenfy/failure'));\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(globalActions.showGlobalErrorModal(e.json));\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nconst getReservations = (\r\n  cb?: (lastReservation: IReservation, dispatch: ThunkDispatch<IState, undefined, any>) => void\r\n): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const reservations = await getUserReservations(getState);\r\n      dispatch(actions.setUserReservations(reservations));\r\n      cb && cb(reservations[0], dispatch);\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(globalActions.showGlobalErrorModal(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(globalActions.showGlobalErrorModal({ title: 'Klaida', message: JSON.stringify(e.json) }));\r\n    }\r\n  };\r\n};\r\n\r\nconst getData = (cb?: () => void): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(actions.fetchUserDataInit());\r\n    try {\r\n      const [membership, reservations] = await Promise.all([\r\n        getUserMembership(getState),\r\n        getUserReservations(getState),\r\n      ]);\r\n\r\n      dispatch(actions.fetchUserDataSuccess(membership, reservations));\r\n      cb && cb();\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(actions.fetchUserDataFailure(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(actions.fetchUserDataFailure({ title: 'Klaida', message: JSON.stringify(e.json) }));\r\n    }\r\n  };\r\n};\r\n\r\nconst getVault = (cb?: () => void): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const vault = await apiGetVault(getState);\r\n      dispatch(actions.setVault(vault));\r\n      cb && cb();\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(globalActions.showGlobalErrorModal(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(globalActions.showGlobalErrorModal({ title: 'Klaida', message: JSON.stringify(e.json) }));\r\n    }\r\n  };\r\n};\r\n\r\nconst onVaultPaymentConfirm = (cart: ICartProducts): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const token = getState().loginReducer.token!.access_token;\r\n      let body: string = '';\r\n\r\n      for (let key in cart) {\r\n        for (let i = cart[key]; i > 0; i--) {\r\n          if (body.length === 0) {\r\n            body = `${body}${key}=`;\r\n          } else {\r\n            body = `${body}&${key}=`;\r\n          }\r\n        }\r\n      }\r\n\r\n      dispatch(paymentActions.paymentInit());\r\n      const res = await addToVault(getState, body, token);\r\n      dispatch(globalActions.hideGlobalModal());\r\n\r\n      dispatch(go(-2));\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(globalActions.showGlobalErrorModal(e.json));\r\n        return;\r\n      }\r\n\r\n      if (e.json['Narystės klaida']) {\r\n        let error: IGlobalModalBody = { title: '', message: '' };\r\n        error.title = 'Narystės klaida';\r\n        error.message = e.json['Narystės klaida'];\r\n        dispatch(globalActions.showGlobalErrorModal(error));\r\n        return;\r\n      }\r\n\r\n      if (e.json['Vartotojo profilio klaida']) {\r\n        let error: IGlobalModalBody = { title: '', message: '' };\r\n        error.title = 'Vartotojo profilio klaida';\r\n        error.message = e.json['Vartotojo profilio klaida'];\r\n        dispatch(globalActions.showGlobalErrorModal(error));\r\n        return;\r\n      }\r\n\r\n      dispatch(globalActions.showGlobalErrorModal({ title: 'Klaida', message: JSON.stringify(e.json) }));\r\n    }\r\n  };\r\n};\r\n\r\nconst deleteLastVaultOrder = (): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      dispatch(paymentActions.paymentInit());\r\n      const vault = await apiDeleteLastVaultOrder(getState);\r\n      dispatch(actions.setVault(vault));\r\n      dispatch(globalActions.hideGlobalModal());\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(globalActions.showGlobalErrorModal(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(globalActions.showGlobalErrorModal({ title: 'Klaida', message: JSON.stringify(e.json) }));\r\n    }\r\n  };\r\n};\r\n\r\nexport const actions = {\r\n  resetRegisterFormErrors: createAction(ActionTypes.RESET_REGISTER_FORM_ERRORS),\r\n  createUserInit: createAction(ActionTypes.CREATE_USER_INIT),\r\n  createUserSuccess: createAction(ActionTypes.CREATE_USER_SUCCESS),\r\n  createUserFailure: createAction(ActionTypes.CREATE_USER_FAILURE, (action) => (error: ICreateUserError) =>\r\n    action(error)\r\n  ),\r\n  setUserLocation: createAction(ActionTypes.SET_USER_LOCATION, (action) => (location: ILocation) =>\r\n    action(location)\r\n  ),\r\n  addVendedProduct: createAction(ActionTypes.ADD_VENDED_PRODUCT, (action) => (productCode: number) =>\r\n    action(productCode)\r\n  ),\r\n  addProductToCart: createAction(\r\n    ActionTypes.ADD_PRODUCT_TO_CART,\r\n    (action) => (vendorId: number, productId: number, count: number) => action({ vendorId, productId, count })\r\n  ),\r\n  removeProductFromCart: createAction(\r\n    ActionTypes.REMOVE_PRODUCT_FROM_CART,\r\n    (action) => (vendorId: number, productId: number, count: number) => action({ vendorId, productId, count })\r\n  ),\r\n  resetCart: createAction(ActionTypes.RESET_CART),\r\n  addProductToVaultCart: createAction(\r\n    ActionTypes.ADD_PRODUCT_TO_VAULTCART,\r\n    (action) => (vendorId: number, productId: number, count: number) => action({ productId, count })\r\n  ),\r\n  removeProductFromVaultCart: createAction(\r\n    ActionTypes.REMOVE_PRODUCT_FROM_VAULTCART,\r\n    (action) => (vendorId: number, productId: number, count: number) => action({ productId, count })\r\n  ),\r\n  fetchUserDataInit: createAction(ActionTypes.FETCH_USER_DATA_INIT),\r\n  fetchUserDataSuccess: createAction(\r\n    ActionTypes.FETCH_USER_DATA_SUCCESS,\r\n    (action) => (membership: IUserMembership, reservations: IReservation[]) =>\r\n      action({ membership, reservations })\r\n  ),\r\n  fetchUserDataFailure: createAction(\r\n    ActionTypes.FETCH_USER_DATA_FAILURE,\r\n    (action) => (error: IGlobalModalBody) => action(error)\r\n  ),\r\n  setUserReservations: createAction(\r\n    ActionTypes.SET_USER_RESERVATIONS,\r\n    (action) => (reservations: IReservation[]) => action(reservations)\r\n  ),\r\n  setIdentified: createAction(ActionTypes.SET_IDENTIFIED, (action) => (identified: boolean) =>\r\n    action(identified)\r\n  ),\r\n  setPayed: createAction(ActionTypes.SET_REGISTRATION_FEE_PAYED, (action) => (payed: boolean) =>\r\n    action(payed)\r\n  ),\r\n  setVault: createAction(ActionTypes.SET_VAULT, (action) => (vault: IUserVault) => action(vault)),\r\n};\r\n\r\nexport default {\r\n  ...actions,\r\n  create,\r\n  poll,\r\n  getData,\r\n  getReservations,\r\n  getVault,\r\n  onVaultPaymentConfirm,\r\n  deleteLastVaultOrder,\r\n};\r\n","import { createAction } from 'typesafe-actions';\r\nimport { replace, push } from 'connected-react-router';\r\n\r\nimport * as ActionTypes from '../ActionTypes';\r\nimport { IVendorProduct, IReservation, IState, IGlobalModalBody, ICartProducts } from '../StateTypes';\r\nimport { ThunkAction } from './helpers';\r\nimport globalActions from './global';\r\nimport userActions from './user';\r\nimport paymentActions from './payment';\r\nimport {\r\n  getVendorProducts,\r\n  createReservation as createReservationApi,\r\n  vend as vendApi,\r\n  getVault,\r\n} from '../api';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport {\r\n  getVendingCode,\r\n  parseCommaList,\r\n  storeVendingProductId,\r\n  getVendingProductId,\r\n  removeVendingProductId,\r\n  getCartSum,\r\n} from '../helpers';\r\n\r\nlet pollInterval: number;\r\nlet vended: { [key: number]: number } = {};\r\nlet errors: { [key: number]: number } = {};\r\n\r\nconst fetchVendorData = (id: number, cb?: () => void): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const allProducts = getState().globalReducer.products;\r\n      let vendorProducts: IVendorProduct[] = [];\r\n\r\n      const [products, vault] = await Promise.all([getVendorProducts(getState, id), getVault(getState)]);\r\n\r\n      for (let product of allProducts) {\r\n        for (let resProduct of products.products_in_vendor) {\r\n          if (product.id === resProduct.product) {\r\n            const vendorProduct: IVendorProduct = { ...product, stock: resProduct.stock };\r\n            vendorProducts.push(vendorProduct);\r\n          }\r\n        }\r\n      }\r\n\r\n      dispatch(actions.fetchVendorProductsSuccess(vendorProducts));\r\n      dispatch(userActions.setVault(vault));\r\n\r\n      cb && cb();\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(actions.fetchVendorProductsFailure(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(\r\n        globalActions.showGlobalErrorModal({ title: 'unexpectedErrorTitle', message: JSON.stringify(e.json) })\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nconst getProducts = (id: number): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(actions.fetchVendorProductsInit());\r\n    try {\r\n      const res = await getVendorProducts(getState, id);\r\n      const allProducts = getState().globalReducer.products;\r\n\r\n      let vendorProducts: IVendorProduct[] = [];\r\n\r\n      for (let product of allProducts) {\r\n        for (let resProduct of res.products_in_vendor) {\r\n          if (product.id === resProduct.product) {\r\n            const vendorProduct: IVendorProduct = { ...product, stock: resProduct.stock };\r\n            vendorProducts.push(vendorProduct);\r\n          }\r\n        }\r\n      }\r\n\r\n      dispatch(actions.fetchVendorProductsSuccess(vendorProducts));\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(actions.fetchVendorProductsFailure(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(\r\n        actions.fetchVendorProductsFailure({\r\n          title: 'productLoadTitle',\r\n          message: 'productLoadMessage',\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nconst createReservation = (\r\n  vendorId: number,\r\n  cart: ICartProducts,\r\n  options: { instaVend?: boolean; productId: number } = { instaVend: false, productId: 0 }\r\n): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(actions.createReservationInit());\r\n    try {\r\n      if (options.instaVend) {\r\n        await createReservationApi(getState, vendorId, cart, true);\r\n        dispatch(\r\n          paymentActions.beginReservationPayment(\r\n            () => {\r\n              dispatch(\r\n                userActions.getReservations((lastReservation) => {\r\n                  dispatch(replace('/home/machine'));\r\n                  dispatch(actions.vendInit());\r\n                  dispatch(vend(options.productId));\r\n                  dispatch(pollReservations(lastReservation));\r\n                })\r\n              );\r\n            },\r\n            () => {\r\n              dispatch(replace('/home/machine'));\r\n            }\r\n          )\r\n        );\r\n      } else {\r\n        await createReservationApi(getState, vendorId, cart, false);\r\n        dispatch(\r\n          paymentActions.beginReservationPayment(\r\n            () => {\r\n              dispatch(\r\n                userActions.getReservations((lastReservation) => {\r\n                  dispatch(replace('/home/cart'));\r\n                  dispatch(push('/home/cartCheckout'));\r\n                  dispatch(pollReservations(lastReservation));\r\n                  dispatch(userActions.resetCart());\r\n                })\r\n              );\r\n            },\r\n            () => {\r\n              dispatch(replace('/home/cart'));\r\n            }\r\n          )\r\n        );\r\n      }\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(actions.createReservationFailure(e.json));\r\n        return;\r\n      }\r\n\r\n      let error: IGlobalModalBody = { title: '', message: '' };\r\n\r\n      if (e.json['Narystės klaida']) {\r\n        error.title = 'Narystės klaida';\r\n        error.message = e.json['Narystės klaida'];\r\n      }\r\n\r\n      if (e.json['Rezervacijos klaida']) {\r\n        error.title = 'Rezervacijos klaida';\r\n        error.message = e.json['Rezervacijos klaida'][0];\r\n      }\r\n\r\n      if (e.json['Vartotojo profilio klaida']) {\r\n        error.title = 'Vartotojo profilio klaida';\r\n        error.message = e.json['Vartotojo profilio klaida'];\r\n      }\r\n\r\n      if (e.json['Saugyklos klaida']) {\r\n        error.title = 'Saugyklos klaida';\r\n        error.message = e.json['Saugyklos klaida'];\r\n\r\n        dispatch(getProducts(vendorId));\r\n      }\r\n\r\n      dispatch(actions.createReservationFailure(error));\r\n    }\r\n  };\r\n};\r\n\r\nconst pollReservations = (lastReservation: IReservation): ThunkAction => {\r\n  return (dispatch) => {\r\n    errors = parseCommaList(lastReservation.errors);\r\n    vended = parseCommaList(lastReservation.vended);\r\n\r\n    pollInterval = setInterval(() => {\r\n      dispatch(userActions.getReservations(getReservationsCb));\r\n    }, 1000);\r\n  };\r\n};\r\n\r\nconst clearPollInterval = (): ThunkAction => {\r\n  return () => clearInterval(pollInterval);\r\n};\r\n\r\nconst onReservationCancel = (): ThunkAction => {\r\n  return (dispatch, getState) => {\r\n    clearInterval(pollInterval);\r\n    dispatch(userActions.getData());\r\n    dispatch(\r\n      globalActions.showGlobalErrorModal({\r\n        title: 'reservationTimeEndTitle',\r\n        message: 'reservationTImeEndMessage',\r\n      })\r\n    );\r\n\r\n    if (getState().router.location.pathname === '/home/cartCheckout') {\r\n      dispatch(replace('/home'));\r\n    }\r\n  };\r\n};\r\n\r\nconst onReservationVending = (): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    const { show } = getState().globalReducer.codeModal;\r\n\r\n    if (!show) {\r\n      dispatch(globalActions.hideGlobalModal());\r\n\r\n      const id = await getVendingProductId();\r\n\r\n      if (id) {\r\n        try {\r\n          dispatch(globalActions.showCodeModal(getVendingCode(id)));\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nconst onVendTimesUp = (): ThunkAction => {\r\n  return (dispatch) => {\r\n    dispatch(globalActions.hideCodeModal());\r\n    dispatch(\r\n      globalActions.showGlobalErrorModal({\r\n        title: 'vendTimeEndTitle',\r\n        message: 'vendTimeEndMessage',\r\n      })\r\n    );\r\n  };\r\n};\r\n\r\nconst onReservationDone = (): ThunkAction => {\r\n  return (dispatch, getState) => {\r\n    const selectedVendor = getState().globalReducer.selectedVendor;\r\n\r\n    clearInterval(pollInterval);\r\n    dispatch(userActions.getData());\r\n\r\n    if (selectedVendor) {\r\n      dispatch(fetchVendorData(selectedVendor.id));\r\n    }\r\n\r\n    if (getState().router.location.pathname === '/home/cartCheckout') {\r\n      dispatch(replace('/home'));\r\n    }\r\n  };\r\n};\r\n\r\nconst getReservationsCb = async (\r\n  lastReservation: IReservation,\r\n  dispatch: ThunkDispatch<IState, undefined, any>\r\n) => {\r\n  if (lastReservation === undefined) {\r\n    clearInterval(pollInterval);\r\n    return;\r\n  }\r\n\r\n  if (lastReservation.status === 0) {\r\n    return dispatch(onReservationCancel());\r\n  }\r\n\r\n  if (lastReservation.status === 3) {\r\n    dispatch(onReservationVending());\r\n  }\r\n\r\n  if (lastReservation.errors) {\r\n    const newErrors = parseCommaList(lastReservation.errors);\r\n\r\n    for (let product_code in newErrors) {\r\n      if (newErrors[product_code] > (errors[product_code] || 0)) {\r\n        dispatch(onVendTimesUp());\r\n      }\r\n    }\r\n\r\n    errors = newErrors;\r\n  }\r\n\r\n  if (lastReservation.vended) {\r\n    const newVended = parseCommaList(lastReservation.vended);\r\n\r\n    for (let product_code in newVended) {\r\n      if (newVended[product_code] > (vended[product_code] || 0)) {\r\n        dispatch(globalActions.hideCodeModal());\r\n        dispatch(actions.vendSuccess());\r\n        await removeVendingProductId();\r\n      }\r\n    }\r\n\r\n    vended = newVended;\r\n  }\r\n\r\n  if (lastReservation.status === 2) {\r\n    return dispatch(onReservationDone());\r\n  }\r\n};\r\n\r\nconst vend = (productId: number): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      await vendApi(getState, productId);\r\n      const product = getState().globalReducer.products.find((product) => product.id === productId)!;\r\n      await storeVendingProductId(product.product_code);\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(actions.vendFailure(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(\r\n        actions.vendFailure({\r\n          title: 'vendErrorTitle',\r\n          message: e.json['Produkto išdavimo klaida'],\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nconst takeProduct = (vendorId: number, productId: number): ThunkAction => {\r\n  return (dispatch, getState) => {\r\n    const vendor = getState().globalReducer.vendors.find((vendor) => vendor.id === vendorId)!;\r\n    const cart: ICartProducts = {};\r\n\r\n    for (let product of vendor.products) {\r\n      cart[product] = 0;\r\n    }\r\n    cart[productId] = 1;\r\n\r\n    dispatch(createReservation(vendorId, cart, { instaVend: true, productId }));\r\n  };\r\n};\r\n\r\nconst takeProductFromReservation = (productId: number): ThunkAction => {\r\n  return (dispatch) => {\r\n    dispatch(actions.vendInit());\r\n    dispatch(vend(productId));\r\n  };\r\n};\r\n\r\nexport const actions = {\r\n  fetchVendorProductsInit: createAction(ActionTypes.FETCH_VENDOR_PRODUCTS_INIT),\r\n  fetchVendorProductsSuccess: createAction(\r\n    ActionTypes.FETCH_VENDOR_PRODUCTS_SUCCESS,\r\n    (action) => (vendorProducts: IVendorProduct[]) => action(vendorProducts)\r\n  ),\r\n  fetchVendorProductsFailure: createAction(\r\n    ActionTypes.FETCH_VENDOR_PRODUCTS_FAILURE,\r\n    (action) => (body: IGlobalModalBody) => action(body)\r\n  ),\r\n\r\n  createReservationInit: createAction(ActionTypes.CREATE_RESERVATION_INIT),\r\n  createReservationSuccess: createAction(ActionTypes.CREATE_RESERVATION_SUCCESS),\r\n  createReservationFailure: createAction(\r\n    ActionTypes.CREATE_RESERVATION_FAILURE,\r\n    (action) => (body: IGlobalModalBody) => action(body)\r\n  ),\r\n  vendInit: createAction(ActionTypes.VEND_INIT),\r\n  vendSuccess: createAction(ActionTypes.VEND_SUCCESS),\r\n  vendFailure: createAction(ActionTypes.VEND_FAILURE, (action) => (body: IGlobalModalBody) => action(body)),\r\n};\r\n\r\nexport default {\r\n  ...actions,\r\n  fetchVendorData,\r\n  getProducts,\r\n  createReservation,\r\n  pollReservations,\r\n  takeProduct,\r\n  vend,\r\n  takeProductFromReservation,\r\n  clearPollInterval,\r\n};\r\n","import { createAction } from 'typesafe-actions';\r\nimport { replace } from 'connected-react-router';\r\n\r\nimport * as ActionTypes from '../ActionTypes';\r\nimport {\r\n  IVendor,\r\n  IProduct,\r\n  ITakeModalInfo,\r\n  IGlobalModal,\r\n  IGlobalModalBody,\r\n  IUserMembership,\r\n  IReservation,\r\n  IFees,\r\n  AppLanguage,\r\n} from '../StateTypes';\r\nimport { ThunkAction } from './helpers';\r\nimport {\r\n  getUserMembership,\r\n  getUserReservations,\r\n  getAllVendors,\r\n  getAllProducts,\r\n  getVault,\r\n  getFees,\r\n  apiInit,\r\n} from '../api';\r\nimport vendorActions from './vendor';\r\nimport userActions from './user';\r\nimport { ToastAndroid } from 'react-native';\r\n\r\nexport const fetchAppData = (): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(actions.fetchAppDataInit());\r\n    try {\r\n      await apiInit(getState);\r\n\r\n      const [\r\n        membership,\r\n        reservations,\r\n        vendors,\r\n        products,\r\n        vault,\r\n        { debt_extra_fixed, debt_extra_percents },\r\n      ] = await Promise.all([\r\n        getUserMembership(getState),\r\n        getUserReservations(getState),\r\n        getAllVendors(getState),\r\n        getAllProducts(getState),\r\n        getVault(getState),\r\n        getFees(getState),\r\n      ]);\r\n\r\n      dispatch(userActions.setVault(vault));\r\n      dispatch(actions.setFees({ debt_extra_fixed, debt_extra_percents }));\r\n      dispatch(actions.fetchAppDataSuccess(vendors, products, membership, reservations));\r\n      dispatch(replace('/home'));\r\n\r\n      const lastReservation: IReservation | undefined = reservations[0];\r\n      if (lastReservation && (lastReservation.status === 1 || lastReservation.status === 3)) {\r\n        dispatch(vendorActions.pollReservations(lastReservation));\r\n      }\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(actions.fetchAppDataFailure(e.json));\r\n        return;\r\n      }\r\n\r\n      dispatch(\r\n        actions.fetchAppDataFailure({ title: 'unexpectedErrorTitle', message: JSON.stringify(e.json) })\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nconst setSelectedVendorById = (id: number): ThunkAction => {\r\n  return (dispatch, getState) => {\r\n    const selectedVendor = getState().globalReducer.vendors.find((vendor) => vendor.id === id);\r\n\r\n    if (selectedVendor) {\r\n      dispatch(actions.setSelectedVendor(selectedVendor));\r\n    }\r\n  };\r\n};\r\n\r\nconst initToastMessage = (message: string): ThunkAction => {\r\n  return (dispatch, getState) => {\r\n    const { show } = getState().globalReducer.toastMessage;\r\n\r\n    if (!show) {\r\n      dispatch(actions.showToastMessage({ message, duration: ToastAndroid.SHORT }));\r\n    }\r\n  };\r\n};\r\n\r\nexport const actions = {\r\n  showTakeModal: createAction(ActionTypes.SHOW_TAKE_MODAL, (action) => (info: ITakeModalInfo) =>\r\n    action(info)\r\n  ),\r\n  hideTakeModal: createAction(ActionTypes.HIDE_TAKE_MODAL),\r\n  showVaultModal: createAction(ActionTypes.SHOW_VAULT_MODAL),\r\n  hideVaultModal: createAction(ActionTypes.HIDE_VAULT_MODAL),\r\n  showGlobalModal: createAction(ActionTypes.SHOW_GLOBAL_MODAL, (action) => (modal: IGlobalModal) =>\r\n    action(modal)\r\n  ),\r\n  hideGlobalModal: createAction(ActionTypes.HIDE_GLOBAL_MODAL),\r\n  showGlobalErrorModal: createAction(\r\n    ActionTypes.SHOW_GLOBAL_ERROR_MODAL,\r\n    (action) => (body: IGlobalModalBody) => action(body)\r\n  ),\r\n  openDrawer: createAction(ActionTypes.OPEN_DRAWER),\r\n  closeDrawer: createAction(ActionTypes.CLOSE_DRAWER),\r\n  fetchAppDataInit: createAction(ActionTypes.FETCH_APP_DATA_INIT),\r\n  fetchAppDataSuccess: createAction(\r\n    ActionTypes.FETCH_APP_DATA_SUCCESS,\r\n    (action) => (\r\n      vendors: IVendor[],\r\n      products: IProduct[],\r\n      membership: IUserMembership,\r\n      reservations: IReservation[]\r\n    ) => action({ vendors, products, membership, reservations })\r\n  ),\r\n  fetchAppDataFailure: createAction(\r\n    ActionTypes.FETCH_APP_DATA_FAILURE,\r\n    (action) => (body: IGlobalModalBody) => action(body)\r\n  ),\r\n  setSelectedVendor: createAction(ActionTypes.SET_SELECTED_VENDOR, (action) => (vendor: IVendor) =>\r\n    action(vendor)\r\n  ),\r\n  showCodeModal: createAction(ActionTypes.SHOW_CODE_MODAL, (action) => (code: string) => action(code)),\r\n  hideCodeModal: createAction(ActionTypes.HIDE_CODE_MODAL),\r\n  setFees: createAction(ActionTypes.SET_FEES, (action) => (fees: IFees) => action(fees)),\r\n  showToastMessage: createAction(\r\n    ActionTypes.SHOW_TOAST_MESSAGE,\r\n    (action) => (params: { message: string; duration: number }) => action(params)\r\n  ),\r\n  hideToastMessage: createAction(ActionTypes.HIDE_TOAST_MESSAGE),\r\n  showReservationInfoModal: createAction(ActionTypes.SHOW_RESERVATION_INFO_MODAL),\r\n  setLocationEnabled: createAction(ActionTypes.SET_LOCATION_ENABLED, (action) => (enabled: boolean) =>\r\n    action(enabled)\r\n  ),\r\n  showLanguageModal: createAction(ActionTypes.SHOW_LANGUAGE_MODAL),\r\n  hideLanguageModal: createAction(ActionTypes.HIDE_LANGUAGE_MODAL),\r\n  setAppLanguage: createAction(ActionTypes.SET_APP_LANGUAGE, (action) => (language: AppLanguage) =>\r\n    action(language)\r\n  ),\r\n};\r\n\r\nexport default { ...actions, fetchAppData, setSelectedVendorById, initToastMessage };\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { View, Text, TouchableOpacity, StyleSheet, AsyncStorage } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport globalActions from './actions/global';\r\nimport { IState, AppLanguage } from './StateTypes';\r\nimport { DarkPrimary, Gray } from './Colors';\r\n\r\ntype ChangeLanguageProps = WithTranslation & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nclass ChangeLanguage extends Component<ChangeLanguageProps> {\r\n  languages: string[];\r\n\r\n  constructor(props: ChangeLanguageProps) {\r\n    super(props);\r\n    this.languages = props.i18n.languages;\r\n  }\r\n\r\n  onChange = (language: AppLanguage) => {\r\n    const { i18n, setAppLanguage } = this.props;\r\n\r\n    i18n.changeLanguage(language);\r\n    setAppLanguage(language);\r\n    AsyncStorage.setItem('language', language);\r\n  };\r\n\r\n  render() {\r\n    const { language: appLanguage } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        {this.languages.map((language) => (\r\n          <TouchableOpacity\r\n            key={language}\r\n            style={{ paddingVertical: 16, paddingHorizontal: 8 }}\r\n            onPress={() => this.onChange(language as AppLanguage)}\r\n            activeOpacity={0.8}\r\n          >\r\n            <Text style={{ color: language === appLanguage ? DarkPrimary : Gray, fontSize: 16 }}>\r\n              {language.toUpperCase()}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        ))}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    position: 'absolute',\r\n    backgroundColor: '#fff',\r\n    right: 8,\r\n    top: 0,\r\n    flexDirection: 'row',\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  return {\r\n    language: state.globalReducer.language,\r\n  };\r\n};\r\n\r\nconst localActions = {\r\n  setAppLanguage: globalActions.setAppLanguage,\r\n};\r\n\r\nexport default withTranslation('language')(connect(mapStateToProps, localActions)(ChangeLanguage));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View } from 'react-native';\r\nimport TextInput from '@material-ui/core/TextField';\r\nimport { TextFieldProps } from '@material-ui/core';\r\n\r\ninterface IOwnTextFieldProps {\r\n  helperText?: string;\r\n  errorText?: string;\r\n}\r\n\r\ntype ITextFieldProps = IOwnTextFieldProps & TextFieldProps;\r\n\r\nclass TextField extends Component<ITextFieldProps> {\r\n  render() {\r\n    const { helperText, errorText, ...rest } = this.props;\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <TextInput\r\n          helperText={errorText ? errorText : helperText}\r\n          error={errorText ? true : false}\r\n          color='primary'\r\n          variant='filled'\r\n          fullWidth\r\n          {...rest}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    marginBottom: 24,\r\n  },\r\n});\r\n\r\nexport default TextField;\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, TouchableOpacity } from 'react-native';\r\nimport Icon from 'react-native-vector-icons/MaterialIcons';\r\n\r\ninterface IEyeIcon {\r\n  on: boolean;\r\n  onPress: () => void;\r\n  style?: object;\r\n}\r\nclass EyeIcon extends Component<IEyeIcon> {\r\n  render() {\r\n    const { on, onPress, style, ...rest } = this.props;\r\n    return (\r\n      <TouchableOpacity activeOpacity={0.8} style={style} onPress={onPress} {...rest}>\r\n        {on ? <Icon name='visibility' size={24} /> : <Icon name='visibility-off' size={24} />}\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({});\r\n\r\nexport default EyeIcon;\r\n","import React, { Component } from 'react';\r\nimport { Text, TouchableOpacity } from 'react-native';\r\n\r\nimport { Primary, DarkGray, LightGray } from '../Colors';\r\n\r\ninterface IPrimaryButtonProps {\r\n  onPress: () => void;\r\n  disabled?: boolean;\r\n  width: number;\r\n  height?: number;\r\n}\r\n\r\nclass PrimaryButton extends Component<IPrimaryButtonProps> {\r\n  render() {\r\n    const { disabled = false, width, height = 36, onPress, children } = this.props;\r\n    return (\r\n      <div\r\n        style={{\r\n          width,\r\n          height,\r\n          backgroundColor: disabled ? LightGray : Primary,\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          alignSelf: 'center',\r\n          borderRadius: 25,\r\n          boxShadow: '0px 1px 2px rgba(0, 0, 0, 0.3)',\r\n        }}\r\n      >\r\n        <TouchableOpacity\r\n          activeOpacity={0.8}\r\n          style={{\r\n            width,\r\n            height,\r\n            backgroundColor: disabled ? LightGray : Primary,\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            alignSelf: 'center',\r\n            borderRadius: 25,\r\n            elevation: 3,\r\n          }}\r\n          onPress={onPress}\r\n        >\r\n          <Text style={{ color: disabled ? DarkGray : 'white' }}>{children}</Text>\r\n        </TouchableOpacity>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PrimaryButton;\r\n","import { createAction } from 'typesafe-actions';\r\nimport { push, replace } from 'connected-react-router';\r\n\r\nimport * as ActionTypes from '../ActionTypes';\r\nimport { ThunkAction } from './helpers';\r\nimport { IToken, ICredentials, ILoginError } from '../StateTypes';\r\nimport globalActions from './global';\r\nimport userActions from './user';\r\nimport { loginUser, getUserCredentials } from '../api';\r\n\r\nconst login = (email: string, password: string): ThunkAction => {\r\n  return async (dispatch, getState) => {\r\n    const { reidentification } = getState().loginReducer;\r\n\r\n    dispatch(actions.loginInit());\r\n    try {\r\n      const credentials = await getUserCredentials(getState, email, password);\r\n\r\n      if (credentials.verify_url) {\r\n        dispatch(userActions.setIdentified(false));\r\n      } else {\r\n        dispatch(userActions.setIdentified(true));\r\n      }\r\n\r\n      if (credentials.registration_fee_paid) {\r\n        dispatch(userActions.setPayed(true));\r\n      }\r\n\r\n      const body = createBody(credentials, password);\r\n      const token = await loginUser(getState, body);\r\n\r\n      dispatch(actions.loginSuccess(token, email, credentials.username));\r\n\r\n      if (reidentification) {\r\n        dispatch(replace(`/idenfy`, { username: credentials.username, url: credentials.verify_url }));\r\n      } else {\r\n        dispatch(globalActions.fetchAppData());\r\n      }\r\n    } catch (e) {\r\n      console.error(e.json);\r\n\r\n      const loginError: ILoginError = {};\r\n\r\n      if (e.json.statusCode >= 500) {\r\n        dispatch(globalActions.showGlobalErrorModal(e.json));\r\n        dispatch(actions.loginFailure(loginError));\r\n        return;\r\n      }\r\n\r\n      if (e.json['Vartotojo profilio klaida']) {\r\n        loginError.email = e.json['Vartotojo profilio klaida'];\r\n      }\r\n\r\n      if (e.json.email) {\r\n        loginError.email = e.json.email[0];\r\n      }\r\n\r\n      if (e.json.error && e.json.error === 'invalid_grant') {\r\n        loginError.auth = 'Neteisingas slaptažodis';\r\n      }\r\n\r\n      dispatch(actions.loginFailure(loginError));\r\n    }\r\n  };\r\n};\r\n\r\nconst createBody = (credentials: ICredentials, password: string): string => {\r\n  const { client_id, client_secret, username } = credentials;\r\n  const type = 'password';\r\n  const scope = 'read';\r\n\r\n  return `grant_type=${type}&client_id=${client_id}&client_secret=${client_secret}&username=${username}&password=${password}&scope=${scope}`;\r\n};\r\n\r\nconst reidentify = (): ThunkAction => {\r\n  return (dispatch) => {\r\n    dispatch(actions.setReidentification(true));\r\n    dispatch(push('/login'));\r\n  };\r\n};\r\n\r\nexport const actions = {\r\n  setReidentification: createAction(\r\n    ActionTypes.SET_REIDENTIFICATION,\r\n    (action) => (reidentification: boolean) => action(reidentification)\r\n  ),\r\n  resetLoginFormErrors: createAction(ActionTypes.RESET_LOGIN_FORM_ERRORS),\r\n  loginInit: createAction(ActionTypes.LOGIN_INIT),\r\n  loginSuccess: createAction(\r\n    ActionTypes.LOGIN_SUCCESS,\r\n    (action) => (token: IToken, email: string, username: string) => action({ token, email, username })\r\n  ),\r\n  loginFailure: createAction(ActionTypes.LOGIN_FAILURE, (action) => (error: ILoginError) => action(error)),\r\n  logout: createAction(ActionTypes.LOGOUT),\r\n};\r\n\r\nexport default { ...actions, login, reidentify };\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, ScrollView } from 'react-native';\r\nimport { Link, RouteComponentProps, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport ChangeLanguage from '../../ChangeLanguage';\r\nimport MainLogo from '../../components/MainLogo';\r\nimport TextField from '../../components/TextFIeld';\r\nimport EyeIcon from '../../components/EyeIcon';\r\nimport PrimaryButton from '../../components/PrimaryButton';\r\nimport { Primary, Black } from '../../Colors';\r\nimport loginActions from '../../actions/login';\r\nimport { isLoginFormValid } from '../../helpers';\r\nimport { IState } from '../../StateTypes';\r\n\r\nconst localActions = {\r\n  login: loginActions.login,\r\n  resetErrors: loginActions.resetLoginFormErrors,\r\n};\r\n\r\ntype ILoginProps = RouteComponentProps &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions &\r\n  WithTranslation;\r\n\r\ninterface ILoginState {\r\n  email: string;\r\n  password: string;\r\n  showPassword: boolean;\r\n}\r\n\r\nclass Login extends Component<ILoginProps, ILoginState> {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    showPassword: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.login('mano@mano.mano', 'mano');\r\n  }\r\n\r\n  onLoginPress = () => {\r\n    const { email, password } = this.state;\r\n\r\n    if (isLoginFormValid(email, password)) {\r\n      this.props.login(email, password);\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    const { error, resetErrors } = this.props;\r\n\r\n    if (error) {\r\n      resetErrors();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { error, loggingIn, t } = this.props;\r\n    const { email, password, showPassword } = this.state;\r\n\r\n    const isFormValid = isLoginFormValid(email, password);\r\n    const emailError = error && error.email;\r\n    const authError = error && error.auth;\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        {loggingIn && (\r\n          <View style={{ position: 'absolute', top: 0, left: 0, right: 0, zIndex: 1000 }}>\r\n            <LinearProgress />\r\n          </View>\r\n        )}\r\n\r\n        <ScrollView style={styles.wrapper} keyboardShouldPersistTaps='handled'>\r\n          <View style={styles.logoWrapper}>\r\n            <MainLogo width={152} height={96} />\r\n          </View>\r\n\r\n          <View style={{ marginBottom: 8 }}>\r\n            <TextField\r\n              label={t('email')}\r\n              type='email'\r\n              value={email}\r\n              onChange={(e) => this.setState({ email: e.target.value })}\r\n              autoCapitalize='none'\r\n              variant='filled'\r\n              errorText={emailError}\r\n            />\r\n\r\n            <View>\r\n              <TextField\r\n                label={t('password')}\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={password}\r\n                onChange={(e) => this.setState({ password: e.target.value })}\r\n                autoCapitalize='none'\r\n                variant='filled'\r\n                errorText={authError}\r\n              />\r\n              <EyeIcon\r\n                style={{ position: 'absolute', top: 14, right: 8, padding: 4 }}\r\n                on={showPassword}\r\n                onPress={() => this.setState({ showPassword: !showPassword })}\r\n              />\r\n            </View>\r\n          </View>\r\n\r\n          <View style={{ marginBottom: 24 }}>\r\n            <PrimaryButton width={152} disabled={!isFormValid || loggingIn} onPress={this.onLoginPress}>\r\n              {t('login').toUpperCase()}\r\n            </PrimaryButton>\r\n          </View>\r\n\r\n          <Text style={{ textAlign: 'center', color: Black, fontSize: 16 }}>{t('noUser')}</Text>\r\n          <View style={styles.registerButton}>\r\n            <Link to='/register' style={{ textDecoration: 'none' }}>\r\n              <Text style={styles.registerButtonText}>{t('register')}</Text>\r\n            </Link>\r\n          </View>\r\n        </ScrollView>\r\n        <ChangeLanguage />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    paddingHorizontal: 36,\r\n    alignSelf: 'center',\r\n    width: '100%',\r\n    maxWidth: 450,\r\n  },\r\n  logoWrapper: {\r\n    alignSelf: 'center',\r\n    marginTop: 64,\r\n    marginBottom: 64,\r\n  },\r\n  loginButton: {\r\n    width: 150,\r\n    height: 36,\r\n    alignSelf: 'center',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 24,\r\n    backgroundColor: Primary,\r\n    borderRadius: 25,\r\n  },\r\n  loginButtonText: {\r\n    color: 'white',\r\n    fontWeight: '500',\r\n  },\r\n  registerButton: {\r\n    alignSelf: 'center',\r\n    paddingVertical: 4,\r\n    paddingHorizontal: 12,\r\n    marginBottom: 8,\r\n    opacity: 0.8,\r\n  },\r\n  registerButtonText: {\r\n    fontSize: 15,\r\n    color: Primary,\r\n  },\r\n  loggingBackground: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingWrapper: {\r\n    width: 68,\r\n    height: 68,\r\n    marginTop: -24,\r\n    backgroundColor: 'white',\r\n    borderRadius: 68 / 2,\r\n    elevation: 3,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  return {\r\n    error: state.loginReducer.error,\r\n    loggingIn: state.loginReducer.loggingIn,\r\n  };\r\n};\r\n\r\nexport default withTranslation('login')(connect(mapStateToProps, localActions)(Login));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity, ScrollView } from 'react-native';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport ChangeLanguage from '../../ChangeLanguage';\r\nimport MainLogo from '../../components/MainLogo';\r\nimport PrimaryButton from '../../components/PrimaryButton';\r\nimport { Primary, Black, DarkGray } from '../../Colors';\r\nimport { getPolicies } from '../../api';\r\n\r\ninterface IAgreementProps {\r\n  onAccept: () => void;\r\n}\r\n\r\nclass Agreement extends Component<WithTranslation & IAgreementProps> {\r\n  state = {\r\n    showPrivacyPolicy: true,\r\n    showUserAgreement: true,\r\n    privacyPolicy: '',\r\n    userAgreement: '',\r\n    policiesLoaded: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const policies = await getPolicies();\r\n\r\n    if (Array.isArray(policies)) {\r\n      const [privacyPolicy, userAgreement] = policies;\r\n      this.setState({\r\n        privacyPolicy: privacyPolicy.text,\r\n        userAgreement: userAgreement.text,\r\n        policiesLoaded: true,\r\n      });\r\n    } else {\r\n      this.setState({ policiesLoaded: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n    const { showPrivacyPolicy, privacyPolicy, showUserAgreement, userAgreement, policiesLoaded } = this.state;\r\n\r\n    if (!policiesLoaded) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <ScrollView style={styles.wrapper}>\r\n          <View style={{ paddingBottom: 36 }}>\r\n            <View style={styles.logoWrapper}>\r\n              <MainLogo width={152} height={96} />\r\n            </View>\r\n\r\n            <View style={{ marginBottom: showUserAgreement ? 36 : 16 }}>\r\n              <TouchableOpacity\r\n                activeOpacity={0.8}\r\n                onPress={() => this.setState({ showUserAgreement: !showUserAgreement })}\r\n              >\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={styles.termsTitle}>{t('userAgreement')}</Text>\r\n                  {showUserAgreement ? (\r\n                    <ExpandLess\r\n                      style={{\r\n                        position: 'absolute',\r\n                        right: 0,\r\n                        top: -5,\r\n                        alignSelf: 'center',\r\n                        padding: 8,\r\n                        color: DarkGray,\r\n                        fontSize: 24,\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    <ExpandMore\r\n                      style={{\r\n                        position: 'absolute',\r\n                        right: 0,\r\n                        top: -5,\r\n                        alignSelf: 'center',\r\n                        padding: 8,\r\n                        color: DarkGray,\r\n                        fontSize: 24,\r\n                      }}\r\n                    />\r\n                  )}\r\n                </View>\r\n              </TouchableOpacity>\r\n              {showUserAgreement && <Text style={styles.termsText}>{userAgreement}</Text>}\r\n            </View>\r\n\r\n            <View style={{ marginBottom: 36 }}>\r\n              <TouchableOpacity\r\n                activeOpacity={0.8}\r\n                onPress={() => this.setState({ showPrivacyPolicy: !showPrivacyPolicy })}\r\n              >\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={styles.termsTitle}>{t('privacyPolicy')}</Text>\r\n                  {showPrivacyPolicy ? (\r\n                    <ExpandLess\r\n                      style={{\r\n                        position: 'absolute',\r\n                        right: 0,\r\n                        top: -5,\r\n                        alignSelf: 'center',\r\n                        padding: 8,\r\n                        color: DarkGray,\r\n                        fontSize: 24,\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    <ExpandMore\r\n                      style={{\r\n                        position: 'absolute',\r\n                        right: 0,\r\n                        top: -5,\r\n                        alignSelf: 'center',\r\n                        padding: 8,\r\n                        color: DarkGray,\r\n                        fontSize: 24,\r\n                      }}\r\n                    />\r\n                  )}\r\n                </View>\r\n              </TouchableOpacity>\r\n              {showPrivacyPolicy && <Text style={styles.termsText}>{privacyPolicy}</Text>}\r\n            </View>\r\n\r\n            <PrimaryButton width={96} onPress={this.props.onAccept}>\r\n              {t('agree').toUpperCase()}\r\n            </PrimaryButton>\r\n          </View>\r\n        </ScrollView>\r\n        <ChangeLanguage />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    paddingHorizontal: 36,\r\n    backgroundColor: '#fff',\r\n  },\r\n  logoWrapper: {\r\n    alignSelf: 'center',\r\n    marginTop: 64,\r\n    marginBottom: 36,\r\n  },\r\n  termsTitle: {\r\n    marginBottom: 8,\r\n    fontSize: 16,\r\n    color: Black,\r\n  },\r\n  termsText: {\r\n    color: DarkGray,\r\n    lineHeight: 23,\r\n  },\r\n  acceptButton: {\r\n    width: 96,\r\n    height: 36,\r\n    alignSelf: 'center',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 36,\r\n    backgroundColor: Primary,\r\n    borderRadius: 25,\r\n  },\r\n  acceptButtonText: {\r\n    color: 'white',\r\n    fontWeight: '500',\r\n  },\r\n});\r\n\r\nconst webStyles = {\r\n  icon: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: -5,\r\n    alignSelf: 'center',\r\n    padding: 8,\r\n    color: DarkGray,\r\n    fontSize: 24,\r\n  },\r\n};\r\n\r\nexport default withTranslation('agreement')(Agreement);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, ScrollView } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Agreement from './Agreement';\r\nimport userActions from '../../actions/user';\r\nimport ChangeLanguage from '../../ChangeLanguage';\r\nimport MainLogo from '../../components/MainLogo';\r\nimport TextField from '../../components/TextFIeld';\r\nimport EyeIcon from '../../components/EyeIcon';\r\nimport PrimaryButton from '../../components/PrimaryButton';\r\nimport { isRegisterFormValid } from '../../helpers';\r\nimport { IState } from '../../StateTypes';\r\n\r\ntype IRegisterProps = RouteComponentProps &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions &\r\n  WithTranslation;\r\n\r\ninterface IRegisterState {\r\n  email: string;\r\n  password: string;\r\n  password2: string;\r\n  showPassword: boolean;\r\n  showPassword2: boolean;\r\n  passwordsMatch: boolean;\r\n  showAgreement: boolean;\r\n}\r\n\r\nclass Register extends Component<IRegisterProps, IRegisterState> {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    password2: '',\r\n    showPassword: false,\r\n    showPassword2: false,\r\n    passwordsMatch: true,\r\n    showAgreement: true,\r\n  };\r\n\r\n  onRegisterPress = async () => {\r\n    const { resetErrors, createUser } = this.props;\r\n    const { email, password, password2 } = this.state;\r\n\r\n    resetErrors();\r\n\r\n    if (password !== password2) {\r\n      return this.setState({ passwordsMatch: false });\r\n    } else {\r\n      this.setState({ passwordsMatch: true });\r\n    }\r\n\r\n    if (isRegisterFormValid(email, password, password2)) {\r\n      createUser({ email, password });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    const { error, resetErrors } = this.props;\r\n\r\n    if (error) {\r\n      resetErrors();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { error, creatingUser, t } = this.props;\r\n    const {\r\n      email,\r\n      password,\r\n      showPassword,\r\n      password2,\r\n      showPassword2,\r\n      passwordsMatch,\r\n      showAgreement,\r\n    } = this.state;\r\n\r\n    const isFormValid = isRegisterFormValid(email, password, password2);\r\n    const emailError = error && error.email;\r\n    let passwordError = error && error.password;\r\n\r\n    if (!passwordError && !passwordsMatch) {\r\n      passwordError = t('passDontMatch');\r\n    }\r\n\r\n    if (showAgreement) {\r\n      return <Agreement onAccept={() => this.setState({ showAgreement: false })} />;\r\n    }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        {creatingUser && (\r\n          <View style={{ position: 'absolute', top: 0, left: 0, right: 0, zIndex: 1000 }}>\r\n            <LinearProgress />\r\n          </View>\r\n        )}\r\n\r\n        <ScrollView style={styles.wrapper} keyboardShouldPersistTaps='handled'>\r\n          <View style={{ paddingBottom: 8 }}>\r\n            <View style={styles.logoWrapper}>\r\n              <MainLogo width={152} height={96} />\r\n            </View>\r\n\r\n            <View style={{ marginBottom: 16 }}>\r\n              <TextField\r\n                label={t('login:email')}\r\n                type='email'\r\n                value={email}\r\n                onChange={(e) => this.setState({ email: e.target.value })}\r\n                autoCapitalize='none'\r\n                errorText={emailError}\r\n              />\r\n\r\n              <View>\r\n                <TextField\r\n                  label={t('login:password')}\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  value={password}\r\n                  onChange={(e) => this.setState({ password: e.target.value })}\r\n                  autoCapitalize='none'\r\n                  helperText={t('passHelper')}\r\n                  errorText={passwordError}\r\n                />\r\n                <EyeIcon\r\n                  style={{ position: 'absolute', top: 14, right: 8, padding: 4 }}\r\n                  on={showPassword}\r\n                  onPress={() => this.setState({ showPassword: !showPassword })}\r\n                />\r\n              </View>\r\n\r\n              <View>\r\n                <TextField\r\n                  label={t('repeatPassword')}\r\n                  type={showPassword2 ? 'text' : 'password'}\r\n                  value={password2}\r\n                  onChange={(e) => this.setState({ password2: e.target.value })}\r\n                  autoCapitalize='none'\r\n                  errorText={passwordError}\r\n                />\r\n                <EyeIcon\r\n                  style={{ position: 'absolute', top: 14, right: 8, padding: 4 }}\r\n                  on={showPassword2}\r\n                  onPress={() => this.setState({ showPassword2: !showPassword2 })}\r\n                />\r\n              </View>\r\n            </View>\r\n\r\n            <PrimaryButton width={152} disabled={!isFormValid} onPress={this.onRegisterPress}>\r\n              {t('register').toUpperCase()}\r\n            </PrimaryButton>\r\n          </View>\r\n        </ScrollView>\r\n        <ChangeLanguage />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    paddingHorizontal: 36,\r\n    alignSelf: 'center',\r\n    width: '100%',\r\n    maxWidth: 450,\r\n  },\r\n  logoWrapper: {\r\n    alignSelf: 'center',\r\n    marginTop: 64,\r\n    marginBottom: 64,\r\n  },\r\n  loggingBackground: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingWrapper: {\r\n    width: 68,\r\n    height: 68,\r\n    marginTop: -24,\r\n    backgroundColor: 'white',\r\n    borderRadius: 68 / 2,\r\n    elevation: 3,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  return {\r\n    error: state.userReducer.error,\r\n    creatingUser: state.userReducer.creatingUser,\r\n  };\r\n};\r\n\r\nconst localActions = {\r\n  createUser: userActions.create,\r\n  resetErrors: userActions.resetRegisterFormErrors,\r\n};\r\n\r\nexport default withTranslation('register')(connect(mapStateToProps, localActions)(Register));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, TouchableWithoutFeedback, Text, TouchableHighlight } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\n\r\nimport { Black, DarkGray, Gray, Red } from '../Colors';\r\n\r\ninterface IWarningModal {\r\n  message: string;\r\n  onClose: () => void;\r\n  onLeave: () => void;\r\n}\r\n\r\nclass WarningModal extends Component<IWarningModal> {\r\n  render() {\r\n    const { message, onClose, onLeave } = this.props;\r\n\r\n    return (\r\n      <TouchableWithoutFeedback onPress={onClose}>\r\n        <Animatable.View\r\n          style={styles.background}\r\n          animation='fadeIn'\r\n          easing='ease-out'\r\n          duration={150}\r\n          useNativeDriver\r\n        >\r\n          <TouchableWithoutFeedback onPress={() => {}}>\r\n            <View style={styles.message}>\r\n              <Text style={styles.title}>Dėmesio</Text>\r\n              <Text style={styles.body}>{message}</Text>\r\n              <View style={styles.buttonWrapper}>\r\n                <TouchableHighlight\r\n                  style={styles.button}\r\n                  activeOpacity={0.8}\r\n                  onPress={onClose}\r\n                  underlayColor='hsl(0, 0%, 96%)'\r\n                >\r\n                  <Text style={{ color: Gray }}>GRĮŽTI</Text>\r\n                </TouchableHighlight>\r\n                <TouchableHighlight\r\n                  style={styles.button}\r\n                  activeOpacity={0.8}\r\n                  onPress={onLeave}\r\n                  underlayColor='hsl(0, 0%, 96%)'\r\n                >\r\n                  <Text style={{ color: Red }}>NUTRAUKTI</Text>\r\n                </TouchableHighlight>\r\n              </View>\r\n            </View>\r\n          </TouchableWithoutFeedback>\r\n        </Animatable.View>\r\n      </TouchableWithoutFeedback>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  background: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'hsla(0, 0%, 0%, 0.55)'\r\n  },\r\n  message: {\r\n    width: 280,\r\n    padding: 24,\r\n    backgroundColor: 'white',\r\n    elevation: 5,\r\n    borderRadius: 3\r\n  },\r\n  title: {\r\n    marginBottom: 12,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n    fontSize: 20\r\n  },\r\n  body: {\r\n    marginBottom: 16,\r\n    color: DarkGray,\r\n    fontSize: 16,\r\n    lineHeight: 22\r\n  },\r\n  buttonWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    marginRight: -12,\r\n    marginBottom: -16\r\n  },\r\n  button: {\r\n    alignSelf: 'flex-end',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 12\r\n  }\r\n});\r\n\r\nexport default WarningModal;\r\n","import React, { Component, ReactComponentElement, ReactElement } from 'react';\r\nimport { StyleSheet, View, Text } from 'react-native';\r\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent';\r\nimport { SvgIconTypeMap } from '@material-ui/core';\r\nimport { Gray, Primary } from '../Colors';\r\n\r\ninterface IMessageProps {\r\n  icon?: OverridableComponent<SvgIconTypeMap<{}, 'svg'>>;\r\n  title: string;\r\n  subtitle?: string;\r\n}\r\n\r\nclass Message extends Component<IMessageProps> {\r\n  render() {\r\n    const { icon: Icon, title, subtitle } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        {Icon && <Icon style={{ color: Primary, fontSize: 96 }} />}\r\n        <Text style={styles.title}>{title}</Text>\r\n        {subtitle !== undefined && <Text style={styles.subtitle}>{subtitle}</Text>}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1, alignItems: 'center' },\r\n  icon: {\r\n    color: Primary,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n  },\r\n  subtitle: {\r\n    fontSize: 14,\r\n    color: Gray,\r\n  },\r\n});\r\n\r\nexport default Message;\r\n","import React, { PureComponent } from 'react';\r\nimport Svg, { Circle, Path } from 'react-native-svg';\r\n\r\nimport { Primary, DarkPrimary } from '../Colors';\r\n\r\ninterface IMarkerProps {\r\n  width?: number;\r\n  height?: number;\r\n  type: 'dark' | 'light';\r\n}\r\n\r\nclass Marker extends PureComponent<IMarkerProps> {\r\n  render() {\r\n    const { width = 32, height = 45, type } = this.props;\r\n\r\n    let primaryColor: string;\r\n    let secondaryColor: string;\r\n\r\n    if (type === 'light') {\r\n      primaryColor = '#FFFFFF';\r\n      secondaryColor = '#FFD7B3';\r\n    } else {\r\n      primaryColor = Primary;\r\n      secondaryColor = DarkPrimary;\r\n    }\r\n\r\n    return (\r\n      <Svg width={width} height={height} viewBox='0 0 112 158' fill='none'>\r\n        <Path\r\n          d='M56.3845 0C25.7337 0 0.88446 24.8252 0.88446 55.4458C0.88446 57.79 1.0727 60.0746 1.35961 62.3393C6.10196 105.65 52.7806 155.567 52.7806 155.567C53.6124 156.497 54.4142 157.07 55.1863 157.486L55.2261 157.505L56.7805 158L58.3349 157.505L58.3746 157.486C59.1468 157.07 59.9489 156.467 60.7803 155.567C60.7803 155.567 106.786 105.561 111.419 62.2407C111.696 60.0056 111.884 57.7405 111.884 55.436C111.874 24.8252 87.0352 0 56.3845 0ZM56.3845 91.111C36.7032 91.111 20.685 75.1083 20.685 55.4461C20.685 35.7839 36.7032 19.7813 56.3845 19.7813C76.0658 19.7813 92.0742 35.7839 92.0742 55.4461C92.0742 75.1083 76.0658 91.111 56.3845 91.111Z'\r\n          fill={primaryColor}\r\n        />\r\n        <Path\r\n          d='M17.2173 106.514C32.4116 133.785 52.7806 155.567 52.7806 155.567C53.6124 156.497 54.4142 157.07 55.1863 157.486L55.2261 157.505L56.7805 158L58.3349 157.505L58.3746 157.486C59.1468 157.07 59.9489 156.467 60.7803 155.567C60.7803 155.567 76.4787 138.504 90.4586 115.677C82.8773 119.721 75.2651 122.718 65.8845 121.5C54.5507 120.028 48.3845 115.677 41.8845 111.5C35.6597 107.5 30.3845 102.5 17.2173 106.514Z'\r\n          fill={secondaryColor}\r\n        />\r\n        <Circle cx='61.8845' cy='146' r='3' fill={primaryColor} />\r\n        <Circle cx='54.3845' cy='123.5' r='1.5' fill={primaryColor} />\r\n        <Circle cx='67.3845' cy='132.5' r='2.5' fill={primaryColor} />\r\n      </Svg>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Marker;\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, Platform, Text } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { WebView } from 'react-native-webview';\r\nimport { connect } from 'react-redux';\r\nimport * as WebBrowser from 'expo-web-browser';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\n\r\nimport WarningModal from '../../../components/WarningModal';\r\nimport userActions from '../../../actions/user';\r\nimport loginActions from '../../../actions/login';\r\nimport { IState } from '../../../StateTypes';\r\nimport AppBar from '../../../components/AppBar';\r\nimport { Black, DarkGray, Primary } from '../../../Colors';\r\nimport Message from '../../../components/Message';\r\nimport Marker from '../../../components/Marker';\r\n\r\ninterface IIdenfyState {\r\n  showWarning: boolean;\r\n}\r\n\r\ntype IIdenfyProps = RouteComponentProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass Idenfy extends Component<IIdenfyProps, IIdenfyState> {\r\n  state = {\r\n    showWarning: false,\r\n  };\r\n\r\n  pollInterval: number | undefined;\r\n\r\n  async componentDidMount() {\r\n    const { username, url } = this.props.location.state;\r\n\r\n    this.pollInterval = setInterval(() => this.props.pollUser(username), 1000);\r\n\r\n    //BackHandler.addEventListener('hardwareBackPress', this.handleBackPress);\r\n\r\n    if (Platform.OS === 'web') {\r\n      await WebBrowser.openBrowserAsync(url);\r\n    }\r\n  }\r\n\r\n  handleBackPress = () => {\r\n    const { showWarning } = this.state;\r\n\r\n    if (showWarning) {\r\n      this.setState({ showWarning: false });\r\n    } else {\r\n      this.setState({ showWarning: true });\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  onLeave = () => {\r\n    const { history, reidentification, setReidentification } = this.props;\r\n\r\n    if (reidentification) {\r\n      setReidentification(false);\r\n    }\r\n\r\n    history.goBack();\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    if (this.pollInterval !== undefined) {\r\n      clearInterval(this.pollInterval);\r\n    }\r\n\r\n    //BackHandler.removeEventListener('hardwareBackPress', this.handleBackPress);\r\n  }\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n    const { showWarning } = this.state;\r\n    const { url } = this.props.location.state;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <View style={{ height: StatusBar.currentHeight, backgroundColor: 'hsl(204, 100%, 57%)' }} />\r\n        {Platform.OS === 'web' ? (\r\n          <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', paddingTop: 128 }}>\r\n            <View\r\n              style={{\r\n                width: 96,\r\n                height: 96,\r\n                borderRadius: 96 / 2,\r\n                backgroundColor: Primary,\r\n                marginBottom: 8,\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <Marker width={82} height={82} type='light' />\r\n            </View>\r\n            <Message title={`${t('itentificationPending')}...`} subtitle={t('identificationCanceled')} />\r\n          </View>\r\n        ) : (\r\n          <WebView\r\n            style={{ flex: 1 }}\r\n            mediaPlaybackRequiresUserAction={false}\r\n            domStorageEnabled={true}\r\n            allowsInlineMediaPlayback={true}\r\n            source={{ uri: url }}\r\n          />\r\n        )}\r\n\r\n        {showWarning && (\r\n          <WarningModal\r\n            message='Ar tikrai norite nutraukti identifikavimo procesą? Jį pratęsti galėsite vėliau'\r\n            onClose={() => this.setState({ showWarning: false })}\r\n            onLeave={this.onLeave}\r\n          />\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  reidentification: state.loginReducer.reidentification,\r\n});\r\n\r\nconst localActions = {\r\n  pollUser: userActions.poll,\r\n  setReidentification: loginActions.setReidentification,\r\n};\r\n\r\nexport default withTranslation('idenfy')(connect(mapStateToProps, localActions)(Idenfy));\r\n","import React, { Component } from 'react';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nclass SuccessLogo extends Component {\r\n  render() {\r\n    return (\r\n      <Svg width='380' height='380' viewBox='0 0 380 380' fill='none'>\r\n        <Path\r\n          d='M190 59.6893C261.919 59.6893 320.311 118.082 320.311 190C320.311 261.918 261.919 320.311 190 320.311C118.082 320.311 59.6895 261.918 59.6895 190C59.6895 118.082 118.082 59.6893 190 59.6893Z'\r\n          fill='#6FCF97'\r\n        />\r\n        <Path\r\n          d='M190 94.9818C242.44 94.9818 285.018 137.559 285.018 190C285.018 242.441 242.44 285.018 190 285.018C137.559 285.018 94.9817 242.441 94.9817 190C94.9817 137.559 137.559 94.9818 190 94.9818Z'\r\n          fill='#27AE60'\r\n        />\r\n        <Path d='M140.077 192.865L171.448 224.236L239.922 155.763' stroke='white' strokeWidth='22' />\r\n      </Svg>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SuccessLogo;\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport SuccessLogo from './SuccessLogo';\r\nimport loginActions from '../../../actions/login';\r\nimport PrimaryButton from '../../../components/PrimaryButton';\r\nimport { Black, Gray } from '../../../Colors';\r\n\r\ntype ISuccessProps = WithTranslation & RouteComponentProps & typeof localActions;\r\n\r\nclass Success extends Component<ISuccessProps> {\r\n  onPress = () => {\r\n    const { history, setReidentification } = this.props;\r\n\r\n    setReidentification(false);\r\n    history.replace('/login');\r\n  };\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <View style={styles.logoWrapper}>\r\n          <SuccessLogo />\r\n        </View>\r\n\r\n        <Text style={styles.title}>{t('success.identityApproved')}</Text>\r\n        <Text style={styles.text}>{t('success.loginAgain')}</Text>\r\n\r\n        <PrimaryButton width={180} onPress={this.onPress}>\r\n          {t('success.login').toUpperCase()}\r\n        </PrimaryButton>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    paddingHorizontal: 36,\r\n  },\r\n  logoWrapper: {\r\n    alignSelf: 'center',\r\n    marginTop: 16,\r\n  },\r\n  title: {\r\n    marginBottom: 4,\r\n    color: Black,\r\n    fontSize: 20,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    marginBottom: 36,\r\n    color: Gray,\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nconst localActions = {\r\n  setReidentification: loginActions.setReidentification,\r\n};\r\n\r\nexport default withTranslation('idenfy')(connect(null, localActions)(Success));\r\n","import React, { Component } from 'react';\r\nimport Svg, { Path } from 'react-native-svg';\r\n\r\nclass FailureLogo extends Component {\r\n  render() {\r\n    return (\r\n      <Svg width='380' height='380' viewBox='0 0 380 380' fill='none'>\r\n        <Path\r\n          d='M190 59.6893C261.919 59.6893 320.311 118.082 320.311 190C320.311 261.918 261.919 320.311 190 320.311C118.082 320.311 59.6895 261.918 59.6895 190C59.6895 118.082 118.082 59.6893 190 59.6893Z'\r\n          fill='#EB5757'\r\n        />\r\n        <Path\r\n          d='M190 94.9818C242.44 94.9818 285.018 137.559 285.018 190C285.018 242.441 242.44 285.018 190 285.018C137.559 285.018 94.9817 242.441 94.9817 190C94.9817 137.559 137.559 94.9818 190 94.9818Z'\r\n          fill='#C64A4A'\r\n        />\r\n        <Path\r\n          d='M166.882 154.201L189.551 176.962L211.92 154L223.803 165.884L201.135 188.644L226 213.318L214.316 225L189.65 200.628L165.684 225L154 213.217L177.967 188.845L155.198 166.186L166.882 154.201Z'\r\n          fill='white'\r\n        />\r\n      </Svg>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FailureLogo;\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport FailureLogo from './FailureLogo';\r\nimport PrimaryButton from '../../../components/PrimaryButton';\r\nimport loginActions from '../../../actions/login';\r\nimport { Black, Gray } from '../../../Colors';\r\n\r\ntype IFailureProps = WithTranslation & RouteComponentProps & typeof localActions;\r\n\r\nclass Failure extends Component<IFailureProps> {\r\n  onPress = () => {\r\n    const { history, setReidentification } = this.props;\r\n\r\n    setReidentification(false);\r\n    history.replace('/home');\r\n  };\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <View style={styles.logoWrapper}>\r\n          <FailureLogo />\r\n        </View>\r\n\r\n        <Text style={styles.title}>{t('failure.identityFailed')}</Text>\r\n        <Text style={styles.text}>{t('failure.canGoBack')}</Text>\r\n\r\n        <PrimaryButton width={180} onPress={this.onPress}>\r\n          {t('failure.back').toUpperCase()}\r\n        </PrimaryButton>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    paddingHorizontal: 36,\r\n  },\r\n  logoWrapper: {\r\n    alignSelf: 'center',\r\n    marginTop: 16,\r\n  },\r\n  title: {\r\n    marginBottom: 8,\r\n    color: Black,\r\n    fontSize: 20,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    marginBottom: 36,\r\n    color: Gray,\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nconst localActions = {\r\n  setReidentification: loginActions.setReidentification,\r\n};\r\n\r\nexport default withTranslation('idenfy')(connect(null, localActions)(Failure));\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { View } from 'react-native';\r\nimport { Switch, Route, RouteComponentProps, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Idenfy from './Idenfy';\r\nimport Success from './Success';\r\nimport Failure from './Failure';\r\nimport { IState } from '../../StateTypes';\r\n\r\ntype IIdentificationProps = RouteComponentProps & ReturnType<typeof mapStateToProps>;\r\n\r\nclass Identification extends Component<IIdentificationProps> {\r\n  render() {\r\n    const { loggedIn } = this.props;\r\n    const { path } = this.props.match;\r\n\r\n    if (!loggedIn) {\r\n      return <Redirect to='/' />;\r\n    }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <Switch>\r\n          <Route exact path={path} component={Idenfy} />\r\n          <Route path={`${path}/success`} component={Success} />\r\n          <Route path={`${path}/failure`} component={Failure} />\r\n        </Switch>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  loggedIn: state.loginReducer.loggedIn,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Identification);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport Marker from '../../../../../components/Marker';\r\n\r\nimport { Black, Primary } from '../../../../../Colors';\r\nimport { IState } from '../../../../../StateTypes';\r\n\r\ninterface IHeaderOwnProps {}\r\n\r\ntype IHeaderProps = IHeaderOwnProps & ReturnType<typeof mapStateToProps>;\r\n\r\nclass Header extends Component<IHeaderProps> {\r\n  render() {\r\n    const { email } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <View style={styles.profileImage}>\r\n          <Marker width={40} height={40} type='light' />\r\n        </View>\r\n        <Text style={styles.email}>{email}</Text>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    padding: 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: 'hsl(0, 0%, 95%)'\r\n  },\r\n  profileImage: {\r\n    width: 48,\r\n    height: 48,\r\n    borderRadius: 48 / 2,\r\n    backgroundColor: Primary,\r\n    marginBottom: 8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  email: {\r\n    color: Black,\r\n    fontSize: 18,\r\n    fontWeight: 'bold'\r\n  }\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  email: state.userReducer.email\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { OverridableComponent } from '@material-ui/core/OverridableComponent';\r\nimport { SvgIconTypeMap, FormHelperText } from '@material-ui/core';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { Black, Primary, DarkGray } from '../../../../../Colors';\r\nimport { IState } from '../../../../../StateTypes';\r\nimport globalActions from '../../../../../actions/global';\r\n\r\ninterface IMenuItemOwnProps {\r\n  to: string;\r\n  icon: OverridableComponent<SvgIconTypeMap<{}, 'svg'>>;\r\n  children: React.ReactNode;\r\n  selected?: boolean;\r\n  exact?: true;\r\n  disabled?: boolean;\r\n}\r\n\r\ntype IMenuItemProps = IMenuItemOwnProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass MenuItem extends Component<IMenuItemProps> {\r\n  onPress = (e: any) => {\r\n    const { disabled, closeDrawer } = this.props;\r\n\r\n    if (disabled) {\r\n      e.preventDefault();\r\n    } else {\r\n      closeDrawer();\r\n    }\r\n  };\r\n\r\n  getIconColor = (selected: boolean, disabled: boolean) => {\r\n    if (disabled) {\r\n      return 'hsl(0, 0%, 82%)';\r\n    }\r\n\r\n    if (selected) {\r\n      return Primary;\r\n    } else {\r\n      return DarkGray;\r\n    }\r\n  };\r\n\r\n  getTextColor = (selected: boolean, disabled: boolean) => {\r\n    if (disabled) {\r\n      return 'hsl(0, 0%, 82%)';\r\n    }\r\n\r\n    if (selected) {\r\n      return Primary;\r\n    } else {\r\n      return Black;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { to, icon: Icon, children, pathname, exact, disabled, t } = this.props;\r\n    let { selected } = this.props;\r\n\r\n    if (selected === undefined) {\r\n      if (exact) {\r\n        selected = pathname === to;\r\n      } else {\r\n        selected = pathname.startsWith(to);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Link\r\n        to={to}\r\n        onClick={this.onPress}\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          alignItems: 'center',\r\n          padding: 8,\r\n          borderRadius: 4,\r\n          backgroundColor: selected ? 'hsl(28, 87%, 95%)' : undefined,\r\n          textDecoration: 'none',\r\n        }}\r\n      >\r\n        <Icon style={{ marginRight: 30, fontSize: 24, color: this.getIconColor(selected, !!disabled) }} />\r\n        <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n          <Text style={{ color: this.getTextColor(selected, !!disabled) }}>{children}</Text>\r\n\r\n          {disabled && <Text style={{ color: 'hsl(0, 0%, 82%)', textAlign: 'right' }}>{t('soon')}...</Text>}\r\n        </View>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flexDirection: 'row', alignItems: 'center', padding: 8, borderRadius: 4 },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  pathname: state.router.location.pathname,\r\n});\r\n\r\nconst localActions = {\r\n  closeDrawer: globalActions.closeDrawer,\r\n};\r\n\r\nexport default withTranslation('menu')(connect(mapStateToProps, localActions)(MenuItem));\r\n","import React, { Component } from 'react';\r\nimport { View } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport CreditCard from '@material-ui/icons/CreditCard';\r\nimport FolderOpen from '@material-ui/icons/FolderOpen';\r\nimport Help from '@material-ui/icons/Help';\r\nimport Timer from '@material-ui/icons/Timer';\r\n\r\nimport Settings from '@material-ui/icons/Settings';\r\nimport CardMembership from '@material-ui/icons/CardMembership';\r\n\r\nimport MenuItem from './MenuItem';\r\nimport { IState } from '../../../../../StateTypes';\r\nimport { Gray, LightGray } from '../../../../../Colors';\r\n\r\ninterface IMenuOwnProps {\r\n  persistent: boolean;\r\n}\r\n\r\ntype IMenuProps = IMenuOwnProps & WithTranslation & ReturnType<typeof mapStateToProps>;\r\n\r\nclass Menu extends Component<IMenuProps> {\r\n  render() {\r\n    const { reservation, persistent, t } = this.props;\r\n    return (\r\n      <View style={{ flex: 1, paddingTop: persistent ? 0 : 16, paddingHorizontal: 8 }}>\r\n        <MenuItem exact to='/home' icon={LocationOn}>\r\n          {t('storages')}\r\n        </MenuItem>\r\n\r\n        <MenuItem to='/home/debt' icon={CreditCard}>\r\n          {t('myDebt')}\r\n        </MenuItem>\r\n\r\n        <MenuItem to='/home/vault' icon={FolderOpen}>\r\n          {t('myStorage')}\r\n        </MenuItem>\r\n\r\n        <MenuItem to='/home/settings' icon={Settings}>\r\n          {t('settings')}\r\n        </MenuItem>\r\n\r\n        <MenuItem to='/home/help' icon={Help}>\r\n          {t('help')}\r\n        </MenuItem>\r\n\r\n        {/* <MenuItem to='/home/membership' icon={CardMembership} disabled>\r\n          {t('membership')}\r\n        </MenuItem> */}\r\n\r\n        {reservation && (reservation.status === 1 || reservation.status === 3) && (\r\n          <View>\r\n            <View style={{ marginVertical: 8, borderBottomWidth: 1, borderBottomColor: LightGray }} />\r\n            <MenuItem to='/home/cartCheckout' icon={Timer}>\r\n              {t('activeReservation')}\r\n            </MenuItem>\r\n          </View>\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  return {\r\n    reservation: state.userReducer.reservations[0],\r\n  };\r\n};\r\nexport default withTranslation('menu')(connect(mapStateToProps)(Menu));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar } from 'react-native';\r\n\r\nimport Header from './Header';\r\nimport Menu from './Menu';\r\nimport { LightGray } from '../../../../Colors';\r\n\r\nclass NavigationView extends Component<{ persistent: boolean }> {\r\n  render() {\r\n    const { persistent } = this.props;\r\n\r\n    return (\r\n      <View\r\n        style={{\r\n          flex: 1,\r\n          width: 280,\r\n          paddingTop: 16 + (StatusBar.currentHeight || 0),\r\n          backgroundColor: '#fff',\r\n          borderRightWidth: persistent ? 1 : 0,\r\n          borderRightColor: LightGray,\r\n        }}\r\n      >\r\n        {!persistent && <Header />}\r\n        <Menu persistent={persistent} />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1, width: 280, paddingTop: 16 + (StatusBar.currentHeight || 0), backgroundColor: '#fff' },\r\n});\r\n\r\nexport default NavigationView;\r\n","import React, { Component } from 'react';\r\nimport { DrawerLayoutAndroid, StyleSheet, View, TouchableOpacity, Dimensions } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport DrawerComp from '@material-ui/core/SwipeableDrawer';\r\nimport * as Animatable from 'react-native-animatable';\r\n\r\nimport NavigationView from './NavigationView';\r\nimport globalActions from '../../../actions/global';\r\nimport { IState } from '../../../StateTypes';\r\n\r\ntype IDrawerProps = ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nconst AnimTouchable = Animatable.createAnimatableComponent(TouchableOpacity);\r\n\r\ninterface IDrawerState {\r\n  screenWidth: number;\r\n}\r\n\r\nclass Drawer extends Component<IDrawerProps, IDrawerState> {\r\n  state = {\r\n    screenWidth: Dimensions.get('window').width,\r\n  };\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener('change', this.onOrientationChange);\r\n  }\r\n\r\n  onOrientationChange = () => {\r\n    this.setState({ screenWidth: Dimensions.get('window').width });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    Dimensions.removeEventListener('change', this.onOrientationChange);\r\n  }\r\n\r\n  render() {\r\n    const { isDrawerOpen, openDrawer, closeDrawer } = this.props;\r\n\r\n    if (this.state.screenWidth < 1000) {\r\n      return (\r\n        <>\r\n          {isDrawerOpen && (\r\n            <AnimTouchable\r\n              style={{\r\n                position: 'absolute',\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                zIndex: 1000,\r\n              }}\r\n              animation='fadeIn'\r\n              easing='ease-out'\r\n              duration={200}\r\n              onPress={() => {\r\n                this.props.closeDrawer();\r\n              }}\r\n              activeOpacity={1}\r\n            ></AnimTouchable>\r\n          )}\r\n          {isDrawerOpen && (\r\n            <AnimTouchable\r\n              style={{ position: 'absolute', height: '100%', width: 280, zIndex: 2000 }}\r\n              animation='slideInLeft'\r\n              easing='ease-out'\r\n              duration={200}\r\n              activeOpacity={1}\r\n              onPress={() => {}}\r\n            >\r\n              <NavigationView persistent={false} />\r\n            </AnimTouchable>\r\n          )}\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <View>\r\n          <NavigationView persistent={true} />\r\n        </View>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <DrawerComp open={isDrawerOpen} onOpen={openDrawer} onClose={closeDrawer}>\r\n        <NavigationView />\r\n      </DrawerComp>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  isDrawerOpen: state.globalReducer.isDrawerOpen,\r\n});\r\n\r\nconst localActions = {\r\n  openDrawer: globalActions.openDrawer,\r\n  closeDrawer: globalActions.closeDrawer,\r\n};\r\n\r\nexport default connect(mapStateToProps, localActions)(Drawer);\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { Text, TouchableOpacity } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport paymentActions from '../../actions/payment';\r\nimport { Red } from '../../Colors';\r\n\r\ntype INotPayedProps = typeof localActions;\r\n\r\nclass NotPayed extends Component<INotPayedProps & WithTranslation> {\r\n  render() {\r\n    const { t } = this.props;\r\n    return (\r\n      <TouchableOpacity\r\n        activeOpacity={0.8}\r\n        onPress={this.props.begin}\r\n        style={{ padding: 8, backgroundColor: Red }}\r\n      >\r\n        <Text style={{ fontSize: 16, color: 'white', textAlign: 'center' }}>{t('beginPayment')}</Text>\r\n        <Text style={{ fontSize: 12, color: 'hsla(0, 100%, 100%, 0.9)', textAlign: 'center' }}>\r\n          {t('needPaymentAndIdentification')}\r\n        </Text>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst localActions = {\r\n  begin: paymentActions.beginRegistrationFeePayment,\r\n};\r\n\r\nexport default withTranslation('notPayed')(connect(null, localActions)(NotPayed));\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { Text, TouchableOpacity } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport loginActions from '../../actions/login';\r\nimport { Red } from '../../Colors';\r\n\r\ntype INotIdentifiedProps = typeof localActions;\r\n\r\nclass NotIdentified extends Component<INotIdentifiedProps & WithTranslation> {\r\n  render() {\r\n    const { t, reidentify } = this.props;\r\n\r\n    return (\r\n      <TouchableOpacity activeOpacity={0.8} onPress={reidentify} style={{ padding: 8, backgroundColor: Red }}>\r\n        <Text style={{ fontSize: 16, color: 'white', textAlign: 'center' }}>{t('beginIdentification')}</Text>\r\n        <Text style={{ fontSize: 12, color: 'hsla(0, 100%, 100%, 0.9)', textAlign: 'center' }}>\r\n          {t('needIdentification')}\r\n        </Text>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst localActions = {\r\n  reidentify: loginActions.reidentify,\r\n};\r\n\r\nexport default withTranslation('notIdentified')(connect(null, localActions)(NotIdentified));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text } from 'react-native';\r\nimport ArrowForward from '@material-ui/icons/ArrowForward';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { Green } from '../../Colors';\r\n\r\ninterface ISelectedProps {\r\n  type: 'vendor' | 'cart' | 'vault';\r\n  title: string;\r\n  subtitle?: string;\r\n  cartAmount?: number;\r\n}\r\n\r\nclass Selected extends Component<ISelectedProps & WithTranslation> {\r\n  render() {\r\n    const { type, title, subtitle, cartAmount, t } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <View style={{ flex: 1, flexDirection: 'row', alignItems: 'center' }}>\r\n          <View>\r\n            <Text style={styles.title}>{title}</Text>\r\n            {subtitle ? <Text style={styles.subtitle}>{subtitle}</Text> : null}\r\n          </View>\r\n        </View>\r\n\r\n        {type === 'vendor' && (\r\n          <>\r\n            <Text style={styles.text}>{t('select').toUpperCase()}</Text>\r\n            <ArrowForward style={{ color: 'white', fontSize: 26 }} />\r\n          </>\r\n        )}\r\n\r\n        {(type === 'cart' || type === 'vault') && cartAmount! > 0 && (\r\n          <>\r\n            <View>\r\n              <Text style={styles.text}>{t('next').toUpperCase()}</Text>\r\n            </View>\r\n\r\n            <ArrowForward style={{ color: 'white', fontSize: 26 }} />\r\n          </>\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    height: 64,\r\n    paddingHorizontal: 16,\r\n    backgroundColor: Green,\r\n  },\r\n  title: {\r\n    color: 'hsla(0, 0%, 100%, 0.9)',\r\n    fontSize: 16,\r\n  },\r\n  subtitle: {\r\n    color: 'hsla(0, 0%, 100%, 0.65)',\r\n  },\r\n  text: {\r\n    marginRight: 4,\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'hsl(0, 0%, 100%)',\r\n  },\r\n});\r\n\r\nexport default withTranslation('selected')(Selected);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport L from 'leaflet';\r\nimport { Map, Marker as MapMarker, Popup, TileLayer } from 'react-leaflet';\r\nimport MyLocation from '@material-ui/icons/MyLocationRounded';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nconst UserLocationMarker = require('../../../../assets/myLocation.svg');\r\nconst ArtiIcon = require('../../../../assets/artimiausias_icon.png');\r\n\r\nimport userActions from '../../../actions/user';\r\nimport globalActions from '../../../actions/global';\r\nimport { IState, IPosition } from '../../../StateTypes';\r\nimport { Gray, Black } from '../../../Colors';\r\n\r\ninterface IMapState {\r\n  position: IPosition | null;\r\n  showMap: boolean;\r\n  mapReady: boolean;\r\n  zoom: number;\r\n}\r\n\r\ntype IMapProps = WithTranslation & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nlet zoomCache = 13;\r\nlet positionCache: IPosition | null = null;\r\n\r\nclass LeafletMap extends Component<IMapProps, IMapState> {\r\n  state = { position: positionCache, showMap: false, mapReady: false, zoom: zoomCache };\r\n\r\n  markerRefs: any = {};\r\n  mapRef = React.createRef<Map>();\r\n\r\n  componentDidMount() {\r\n    const { userLocation } = this.props;\r\n\r\n    let positionToCenterTo;\r\n\r\n    if (positionCache) {\r\n      positionToCenterTo = positionCache;\r\n    } else {\r\n      positionToCenterTo = {\r\n        lat: userLocation.latitude,\r\n        lng: userLocation.longitude,\r\n      };\r\n    }\r\n\r\n    this.setState({\r\n      position: positionToCenterTo,\r\n      zoom: zoomCache,\r\n      showMap: true,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps: IMapProps) {\r\n    const { selectedVendor } = this.props;\r\n    const { mapReady } = this.state;\r\n    const { selectedVendor: prevSelectedVendor } = prevProps;\r\n\r\n    // Animate to position after selecting vendor\r\n    if (\r\n      (selectedVendor && !prevSelectedVendor) ||\r\n      (selectedVendor &&\r\n        prevProps.selectedVendor &&\r\n        selectedVendor.id !== prevProps.selectedVendor.id &&\r\n        mapReady)\r\n    ) {\r\n      this.mapRef!.current.leafletElement.panTo([selectedVendor.latitude, selectedVendor.longitude]);\r\n    }\r\n\r\n    //Show marker popup\r\n    if (selectedVendor && this.markerRefs[selectedVendor.id] && mapReady) {\r\n      this.markerRefs[selectedVendor.id].leafletElement.openPopup();\r\n    }\r\n  }\r\n\r\n  onMoveEnd = (e: any) => {\r\n    zoomCache = this.mapRef.current.leafletElement.getZoom();\r\n    positionCache = this.mapRef.current.leafletElement.getCenter();\r\n  };\r\n\r\n  onMarkerPress = (id: number) => {\r\n    this.props.setSelectedVendorById(id);\r\n  };\r\n\r\n  onMapReady = () => {\r\n    this.setState({ mapReady: true });\r\n  };\r\n\r\n  render() {\r\n    const { vendors, selectedVendor, userLocation, t } = this.props;\r\n    const { position, zoom } = this.state;\r\n\r\n    const selectedVendorId = selectedVendor ? selectedVendor.id : null;\r\n\r\n    return (\r\n      <View>\r\n        <Map\r\n          style={{ height: 350 }}\r\n          center={position}\r\n          zoom={zoom}\r\n          whenReady={this.onMapReady}\r\n          onMoveEnd={this.onMoveEnd}\r\n          ref={this.mapRef}\r\n          preferCanvas\r\n        >\r\n          <TileLayer\r\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n          />\r\n          {vendors.map(({ id, name, address, latitude, longitude }) => (\r\n            <MapMarker\r\n              key={`${id}${selectedVendorId === id ? '-selected' : ''}`}\r\n              position={[latitude, longitude]}\r\n              title={name}\r\n              riseOnHover={true}\r\n              ref={(ref: any) => (this.markerRefs[id] = ref)}\r\n              onClick={() => this.onMarkerPress(id)}\r\n              icon={L.icon({\r\n                iconUrl: ArtiIcon,\r\n                iconRetinaUrl: ArtiIcon,\r\n                iconSize: [34, 54],\r\n                iconAnchor: [17, 54],\r\n                popupAnchor: [0, -56],\r\n              })}\r\n            >\r\n              <Popup>\r\n                <View>\r\n                  <Text style={{ color: Black, fontWeight: 'bold' }}>{name}</Text>\r\n                </View>\r\n                <View>\r\n                  <Text style={{ color: Gray }}>{address}</Text>\r\n                </View>\r\n              </Popup>\r\n            </MapMarker>\r\n          ))}\r\n          <MapMarker\r\n            position={[userLocation.latitude, userLocation.longitude]}\r\n            icon={L.icon({\r\n              iconUrl: UserLocationMarker,\r\n              iconRetinaUrl: UserLocationMarker,\r\n              iconSize: [28, 28],\r\n              iconAnchor: [14, 14],\r\n            })}\r\n            title={t('map.myPosition')}\r\n          ></MapMarker>\r\n        </Map>\r\n\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            right: 4,\r\n            bottom: 20,\r\n            zIndex: 999,\r\n          }}\r\n          title={t('map.showMyPosition')}\r\n        >\r\n          <TouchableOpacity\r\n            activeOpacity={0.8}\r\n            style={{\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              padding: 4,\r\n            }}\r\n            onPress={() =>\r\n              this.mapRef!.current.leafletElement.panTo([userLocation.latitude, userLocation.longitude])\r\n            }\r\n          >\r\n            <MyLocation style={{ fontSize: 26, color: '#fff' }} />\r\n          </TouchableOpacity>\r\n        </div>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    alignSelf: 'stretch',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height: 350,\r\n  },\r\n  map: {\r\n    alignSelf: 'stretch',\r\n    height: 350,\r\n  },\r\n  loggingBackground: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingWrapper: {\r\n    width: 68,\r\n    height: 68,\r\n    marginTop: -24,\r\n    backgroundColor: 'white',\r\n    borderRadius: 68 / 2,\r\n    elevation: 3,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  vendors: state.globalReducer.vendors,\r\n  selectedVendor: state.globalReducer.selectedVendor,\r\n  userLocation: state.userReducer.location,\r\n});\r\n\r\nconst localActions = {\r\n  setSelectedVendorById: globalActions.setSelectedVendorById,\r\n  setUserLocation: userActions.setUserLocation,\r\n};\r\n\r\nexport default withTranslation('vendorMap')(connect(mapStateToProps, localActions)(LeafletMap));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity } from 'react-native';\r\nimport { connect } from 'react-redux';\r\n\r\nimport globalActions from '../../../../actions/global';\r\nimport { Black, Gray } from '../../../../Colors';\r\nimport { IVendor, IState } from '../../../../StateTypes';\r\n\r\ninterface IVendorItemOwnProps extends IVendor {\r\n  distance: number;\r\n  disabled?: boolean;\r\n}\r\n\r\ntype IVendorItemProps = IVendorItemOwnProps & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nclass VendorItem extends Component<IVendorItemProps> {\r\n  onPress = () => this.props.setSelectedVendorById(this.props.id);\r\n\r\n  render() {\r\n    const { name, address, distance, selected, disabled = false } = this.props;\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={{\r\n          paddingHorizontal: 16,\r\n          paddingVertical: 16,\r\n          backgroundColor: selected && !disabled ? 'hsl(0, 0%, 95%)' : undefined,\r\n        }}\r\n        disabled={disabled}\r\n        onPress={this.onPress}\r\n        activeOpacity={0.8}\r\n      >\r\n        <Text style={styles.distance}>{distance}M</Text>\r\n        <Text style={styles.name}>{name}</Text>\r\n        <Text style={styles.address}>{address}</Text>\r\n\r\n        {disabled && <View style={styles.disabled} />}\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 16,\r\n  },\r\n  distance: {\r\n    fontSize: 12,\r\n    fontWeight: 'bold',\r\n    color: Black,\r\n  },\r\n  name: {\r\n    fontSize: 16,\r\n    color: Black,\r\n  },\r\n  address: {\r\n    color: Gray,\r\n  },\r\n  disabled: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'hsla(0, 79%, 74%, 0.7)',\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState, props: IVendorItemOwnProps) => {\r\n  const { selectedVendor } = state.globalReducer;\r\n  return { selected: selectedVendor && selectedVendor.id === props.id ? true : false };\r\n};\r\n\r\nconst localActions = {\r\n  setSelectedVendorById: globalActions.setSelectedVendorById,\r\n};\r\n\r\nexport default connect(mapStateToProps, localActions)(VendorItem);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport VendorItem from './Item';\r\nimport { getDistance } from '../../../../helpers';\r\nimport { IState } from '../../../../StateTypes';\r\n\r\ntype IVendorListProps = ReturnType<typeof mapStateToProps> & WithTranslation;\r\n\r\nclass VendorList extends Component<IVendorListProps> {\r\n  getDistanceFromUser = (vendorLat: number, vendorLong: number) => {\r\n    const { latitude, longitude } = this.props.userLocation;\r\n    return getDistance(latitude, longitude, vendorLat, vendorLong);\r\n  };\r\n\r\n  renderVendorList = () => {\r\n    return this.props.vendors\r\n      .slice()\r\n      .sort(\r\n        (a, b) =>\r\n          this.getDistanceFromUser(a.latitude, a.longitude) -\r\n          this.getDistanceFromUser(b.latitude, b.longitude)\r\n      )\r\n      .map((vendor) => (\r\n        <VendorItem\r\n          key={vendor.id}\r\n          distance={this.getDistanceFromUser(vendor.latitude, vendor.longitude)}\r\n          {...vendor}\r\n        />\r\n      ));\r\n  };\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n    return (\r\n      <View>\r\n        <Text style={styles.title}>{t('vendorList.chooseNearestStorage')}</Text>\r\n        <View style={styles.wrapper}>{this.renderVendorList()}</View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {},\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    padding: 16,\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    padding: 16,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  vendors: state.globalReducer.vendors,\r\n  userLocation: state.userReducer.location,\r\n});\r\n\r\nexport default withTranslation('vendorMap')(connect(mapStateToProps)(VendorList));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, ScrollView, View, Text, TouchableOpacity } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as Location from 'expo-location';\r\nimport * as Permissions from 'expo-permissions';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport Selected from '../Selected';\r\nimport Map from './Leaflet';\r\nimport VendorList from './VendorList';\r\nimport { IState } from '../../../StateTypes';\r\nimport { DarkGray } from '../../../Colors';\r\nimport userActions from '../../../actions/user';\r\nimport globalActions from '../../../actions/global';\r\n\r\ninterface IVendorMapState {\r\n  locationEnabledAnswered: boolean;\r\n}\r\n\r\ntype IVendorMapProps = WithTranslation &\r\n  RouteComponentProps &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass VendorMap extends Component<IVendorMapProps, IVendorMapState> {\r\n  state = {\r\n    locationEnabledAnswered: false,\r\n  };\r\n\r\n  locationWatcher: any = null;\r\n\r\n  async componentDidMount() {\r\n    await this.promptForLocationEnable();\r\n  }\r\n\r\n  promptForLocationEnable = async () => {\r\n    const { status } = await Permissions.askAsync(Permissions.LOCATION);\r\n\r\n    // this.onLocationEnabled();\r\n    // return;\r\n\r\n    if (status === 'granted') {\r\n      this.onLocationEnabled();\r\n    } else {\r\n      this.onLocationDisabled();\r\n    }\r\n  };\r\n\r\n  onLocationEnabled = async () => {\r\n    const { setLocationEnabled, setUserLocation } = this.props;\r\n\r\n    // const latitude = 54.674299;\r\n    // const longitude = 25.273759;\r\n    // setUserLocation({ latitude, longitude });\r\n    // setLocationEnabled(true);\r\n    // this.setState({ locationEnabledAnswered: true });\r\n    // return;\r\n\r\n    this.locationWatcher = await Location.watchPositionAsync(\r\n      { accuracy: Location.Accuracy.High, timeInterval: 10000, distanceInterval: 20 },\r\n      ({ coords }) => {\r\n        // console.log(coords);\r\n        const latitude = coords.latitude!;\r\n        const longitude = coords.longitude!;\r\n        setUserLocation({ latitude, longitude });\r\n        setLocationEnabled(true);\r\n        this.setState({ locationEnabledAnswered: true });\r\n      }\r\n    );\r\n  };\r\n\r\n  onLocationDisabled = () => {\r\n    this.props.setLocationEnabled(false);\r\n    this.setState({ locationEnabledAnswered: true });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    if (this.locationWatcher) {\r\n      this.locationWatcher.remove();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { selectedVendor, locationEnabled, t } = this.props;\r\n    const { locationEnabledAnswered } = this.state;\r\n\r\n    if (!locationEnabledAnswered) {\r\n      return (\r\n        <View style={styles.wrapper}>\r\n          <View style={styles.loggingBackground}>\r\n            <Animatable.View\r\n              style={styles.loadingWrapper}\r\n              animation='fadeIn'\r\n              easing='ease-out'\r\n              duration={100}\r\n            >\r\n              <CircularProgress />\r\n            </Animatable.View>\r\n          </View>\r\n        </View>\r\n      );\r\n    }\r\n\r\n    if (locationEnabledAnswered && !locationEnabled) {\r\n      return (\r\n        <View style={styles.wrapper}>\r\n          <View style={styles.locationError}>\r\n            <Text style={styles.locationErrorText}>{t('locationDisabled')}</Text>\r\n          </View>\r\n        </View>\r\n      );\r\n    }\r\n\r\n    if (locationEnabledAnswered && locationEnabled) {\r\n      return (\r\n        <View style={styles.wrapper}>\r\n          <Map />\r\n          <View style={{ flex: 1, height: 100 }}>\r\n            <ScrollView>\r\n              <VendorList />\r\n            </ScrollView>\r\n          </View>\r\n\r\n          {selectedVendor && (\r\n            <Animatable.View animation='slideInUp' easing='ease-out' duration={200} useNativeDriver>\r\n              <TouchableOpacity activeOpacity={0.8}>\r\n                <Link to='/home/machine' style={{ textDecoration: 'none' }}>\r\n                  <Selected type='vendor' title={selectedVendor.name} subtitle={selectedVendor.address} />\r\n                </Link>\r\n              </TouchableOpacity>\r\n            </Animatable.View>\r\n          )}\r\n        </View>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n  locationError: {\r\n    flex: 1,\r\n    paddingTop: 128,\r\n    alignItems: 'center',\r\n  },\r\n  locationErrorText: {\r\n    width: '80%',\r\n    fontSize: 16,\r\n    color: DarkGray,\r\n    marginBottom: 16,\r\n    textAlign: 'center',\r\n  },\r\n  loggingBackground: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingWrapper: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 58,\r\n    height: 58,\r\n    backgroundColor: 'white',\r\n    borderRadius: 58 / 2,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  vendors: state.globalReducer.vendors,\r\n  selectedVendor: state.globalReducer.selectedVendor,\r\n  locationEnabled: state.globalReducer.locationEnabled,\r\n  userLocation: state.userReducer.location,\r\n});\r\n\r\nconst localActions = {\r\n  setUserLocation: userActions.setUserLocation,\r\n  setLocationEnabled: globalActions.setLocationEnabled,\r\n};\r\n\r\nexport default withTranslation('vendorMap')(connect(mapStateToProps, localActions)(VendorMap));\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { StyleSheet, TouchableOpacity, View, Text } from 'react-native';\r\nimport ShoppingBasket from '@material-ui/icons/ShoppingBasket';\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { DarkGray, Primary } from '../../../../Colors';\r\n\r\ninterface IBasketProps extends RouteComponentProps {\r\n  count: number;\r\n}\r\n\r\nclass Basket extends Component<IBasketProps> {\r\n  onPress = () => {\r\n    const { location, history } = this.props;\r\n\r\n    if (location.pathname === '/home/machine') {\r\n      history.push('/home/cart');\r\n    } else if (location.pathname === '/home/vault/items') {\r\n      history.push('/home/vault/confirm');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { count } = this.props;\r\n\r\n    return (\r\n      <TouchableOpacity activeOpacity={0.9} onPress={this.onPress}>\r\n        <ShoppingBasket style={{ fontSize: 50, color: DarkGray }} />\r\n        <View style={styles.circleWrapper}>\r\n          <View style={styles.circle}>\r\n            <Text style={styles.count}>{count}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  icon: {\r\n    fontSize: 50,\r\n    color: DarkGray,\r\n  },\r\n  circleWrapper: {\r\n    position: 'absolute',\r\n    left: 10,\r\n    top: 12,\r\n  },\r\n  circle: {\r\n    width: 30,\r\n    height: 30,\r\n    borderRadius: 15,\r\n    backgroundColor: Primary,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  count: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nexport default withRouter(Basket);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text } from 'react-native';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\ninterface IItemInfoProps {\r\n  type: string;\r\n  proof: number;\r\n  volume: number;\r\n  stock: number;\r\n}\r\n\r\nclass ItemInfo extends Component<IItemInfoProps & WithTranslation> {\r\n  render() {\r\n    const { type, proof, volume, stock, t } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <View style={{ flexDirection: 'row', marginRight: 16 }}>\r\n          <View style={{ alignItems: 'flex-end', marginRight: 4 }}>\r\n            <Text>{t('item.type')}:</Text>\r\n            <Text>{t('item.proof')}:</Text>\r\n          </View>\r\n          <View>\r\n            <Text style={styles.value}>{type[0].toUpperCase() + type.slice(1, type.length)}</Text>\r\n            <Text style={styles.value}>{proof}%</Text>\r\n          </View>\r\n        </View>\r\n\r\n        <View style={{ flexDirection: 'row' }}>\r\n          <View style={{ alignItems: 'flex-end', marginRight: 4 }}>\r\n            <Text>{t('item.volume')}:</Text>\r\n            <Text>{t('item.stock')}:</Text>\r\n          </View>\r\n          <View>\r\n            <Text style={styles.value}>{volume}ml</Text>\r\n            <Text style={styles.value}>{stock}</Text>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flexDirection: 'row', marginVertical: 24 },\r\n  value: {\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default withTranslation('vendingMachine')(ItemInfo);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity } from 'react-native';\r\nimport { DarkGray, Primary, LightGray, Gray } from '../../../../Colors';\r\n\r\ninterface ICounterProps {\r\n  count: number;\r\n  subtractDisabled: boolean;\r\n  addDisabled: boolean;\r\n  onSubtract: () => void;\r\n  onAdd: () => void;\r\n}\r\n\r\nclass Counter extends Component<ICounterProps> {\r\n  render() {\r\n    const { count, subtractDisabled, addDisabled, onSubtract, onAdd } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <TouchableOpacity\r\n          activeOpacity={0.8}\r\n          disabled={subtractDisabled}\r\n          onPress={onSubtract}\r\n          style={{\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            width: 36,\r\n            height: 36,\r\n            borderRadius: 36 / 2,\r\n            backgroundColor: subtractDisabled ? LightGray : Primary,\r\n          }}\r\n        >\r\n          <Text style={{ marginTop: -2, fontSize: 24, color: subtractDisabled ? DarkGray : 'white' }}>-</Text>\r\n        </TouchableOpacity>\r\n\r\n        <View style={styles.count}>\r\n          <Text style={styles.countValue}>{count}</Text>\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          activeOpacity={0.8}\r\n          onPress={onAdd}\r\n          style={{\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            width: 36,\r\n            height: 36,\r\n            borderRadius: 36 / 2,\r\n            backgroundColor: addDisabled ? LightGray : Primary,\r\n          }}\r\n        >\r\n          <Text style={{ marginTop: -2, fontSize: 24, color: addDisabled ? DarkGray : 'white' }}>+</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    backgroundColor: 'white',\r\n    borderRadius: 50,\r\n  },\r\n  button: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 36,\r\n    height: 36,\r\n    borderRadius: 36 / 2,\r\n  },\r\n  icon: {\r\n    marginTop: -2,\r\n    fontSize: 24,\r\n  },\r\n  count: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 30,\r\n  },\r\n  countValue: {\r\n    color: Gray,\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default Counter;\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, Image } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport Basket from './Basket';\r\nimport Info from './Info';\r\nimport Counter from './Counter';\r\n\r\nimport { IVendorProduct, IState } from '../../../../StateTypes';\r\nimport { Black, Primary } from '../../../../Colors';\r\nimport PrimaryButton from '../../../../components/PrimaryButton';\r\nimport globalActions from '../../../../actions/global';\r\nimport { formatCurrency, isUserNearby, getMaxItemsInfoSuffix, shouldUseContain } from '../../../../helpers';\r\n\r\ninterface IVendingItemOwnProps extends IVendorProduct {\r\n  cartSum: number;\r\n  count: number;\r\n  cartAmount: number;\r\n  layoutType: 'vendor' | 'vault';\r\n  addToCart: (vendorId: number, productId: number, count: number) => void;\r\n  removeFromCart: (vendorId: number, productId: number, count: number) => void;\r\n  onTakeProduct: (productId: number) => void;\r\n  onAddToCart: () => void;\r\n}\r\n\r\ntype IVendingItemProps = IVendingItemOwnProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\ninterface IVendingItemState {\r\n  useContain: boolean;\r\n}\r\n\r\nclass VendingItem extends Component<IVendingItemProps, IVendingItemState> {\r\n  state = {\r\n    useContain: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const useContain = await shouldUseContain(this.props.cover);\r\n    this.setState({ useContain });\r\n  }\r\n\r\n  onReserve = () => {\r\n    const {\r\n      selectedVendor,\r\n      maxCartItems,\r\n      stockEmpty,\r\n      allStockInCart,\r\n      cartFull,\r\n      onAddToCart,\r\n      showToastMessage,\r\n      t,\r\n    } = this.props;\r\n\r\n    if (stockEmpty) {\r\n      showToastMessage(t('item.noInStock'));\r\n      return;\r\n    }\r\n\r\n    if (allStockInCart) {\r\n      showToastMessage(t('item.maxTaken'));\r\n      return;\r\n    }\r\n\r\n    if (cartFull) {\r\n      showToastMessage(t('item.plan', { maxCartItems, suffix: getMaxItemsInfoSuffix(maxCartItems) }));\r\n      return;\r\n    }\r\n\r\n    this.props.addToCart(selectedVendor.id, this.props.id, 1);\r\n    onAddToCart();\r\n  };\r\n\r\n  addCount = () => {\r\n    this.props.addToCart(-1, this.props.id, 1);\r\n  };\r\n\r\n  subtractCount = () => {\r\n    this.props.removeFromCart(-1, this.props.id, 1);\r\n  };\r\n\r\n  onTakeNow = () => {\r\n    const { stockEmpty, id, showToastMessage, t } = this.props;\r\n\r\n    if (stockEmpty) {\r\n      showToastMessage(t('item.noInStock'));\r\n      return;\r\n    }\r\n\r\n    if (this.isUserNearby()) {\r\n      this.props.onTakeProduct(id);\r\n    } else {\r\n      showToastMessage(t('item.onlyNearby'));\r\n    }\r\n  };\r\n\r\n  isUserNearby = () => {\r\n    const { selectedVendor, userLocation } = this.props;\r\n    return isUserNearby(selectedVendor, userLocation);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      count,\r\n      price,\r\n      stock,\r\n      type,\r\n      proof,\r\n      name,\r\n      volume,\r\n      cover,\r\n      vault,\r\n      inVendor,\r\n      stockEmpty,\r\n      allStockInCart,\r\n      cartFull,\r\n      t,\r\n    } = this.props;\r\n    const { useContain } = this.state;\r\n\r\n    const reserveDisabled = inVendor && (stockEmpty || allStockInCart || cartFull);\r\n    const takeNowDisabled = inVendor && (stockEmpty || !this.isUserNearby());\r\n\r\n    let productInVault = false;\r\n\r\n    for (let item of vault) {\r\n      if (item.status === 'approved' && item.product.id === id) {\r\n        productInVault = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div style={{ boxShadow: '0 1px 2px rgba(0,0,0,0.2)', marginBottom: 24 }}>\r\n        <View style={styles.wrapper}>\r\n          <View style={{ flex: 1, height: 240, paddingVertical: !inVendor ? 16 : 0 }}>\r\n            <Image\r\n              style={{ flex: 1 }}\r\n              resizeMode={useContain ? 'contain' : 'cover'}\r\n              source={{ uri: cover }}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.productInfo}>\r\n            <View style={{ flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <View>\r\n                <Text style={styles.name}>{name}</Text>\r\n                <Text style={{ fontSize: productInVault ? 18 : 20 }}>\r\n                  {inVendor && productInVault ? (\r\n                    <Text style={{ color: Primary, fontWeight: 'bold' }}>{t('item.haveInVault')}</Text>\r\n                  ) : (\r\n                    formatCurrency(price)\r\n                  )}\r\n                </Text>\r\n              </View>\r\n              {inVendor && count > 0 && <Basket count={count} />}\r\n            </View>\r\n            <Info type={type} proof={proof} volume={volume} stock={stock} />\r\n\r\n            <View style={{ alignItems: inVendor ? 'center' : 'flex-start' }}>\r\n              {inVendor ? (\r\n                <PrimaryButton disabled={reserveDisabled} width={135} onPress={this.onReserve}>\r\n                  {t('item.reserve').toUpperCase()}\r\n                </PrimaryButton>\r\n              ) : (\r\n                <Counter\r\n                  count={stock === 0 ? 0 : count}\r\n                  subtractDisabled={count <= 0}\r\n                  addDisabled={false}\r\n                  onAdd={this.addCount}\r\n                  onSubtract={this.subtractCount}\r\n                />\r\n              )}\r\n            </View>\r\n\r\n            {inVendor && (\r\n              <>\r\n                <Text style={{ marginVertical: 12, textAlign: 'center' }}>{t('item.or').toLowerCase()}</Text>\r\n                <PrimaryButton disabled={takeNowDisabled} width={130} onPress={this.onTakeNow}>\r\n                  {t('item.takeNow').toUpperCase()}\r\n                </PrimaryButton>\r\n              </>\r\n            )}\r\n          </View>\r\n        </View>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: 'hsl(0, 100%, 100%)',\r\n\r\n    //elevation: 3,\r\n  },\r\n  name: {\r\n    fontSize: 22,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  productInfo: {\r\n    flex: 2,\r\n    alignSelf: 'stretch',\r\n    backgroundColor: 'hsl(0, 0%, 96%)',\r\n    padding: 16,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState, ownProps: IVendingItemOwnProps) => {\r\n  const maxCartItems = state.userReducer.membership!.max_items;\r\n\r\n  return {\r\n    maxCartItems,\r\n    selectedVendor: state.globalReducer.selectedVendor!,\r\n    userLocation: state.userReducer.location,\r\n    vault: state.userReducer.vault.vault,\r\n    inVendor: ownProps.layoutType === 'vendor',\r\n    stockEmpty: ownProps.stock === 0,\r\n    cartFull: ownProps.cartAmount >= maxCartItems,\r\n    allStockInCart: ownProps.count >= ownProps.stock,\r\n  };\r\n};\r\n\r\nconst localActions = {\r\n  showToastMessage: globalActions.initToastMessage,\r\n};\r\n\r\nexport default withTranslation('vendingMachine')(connect(mapStateToProps, localActions)(VendingItem));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, ScrollView, TouchableOpacity, RefreshControl } from 'react-native';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport Dissatisfied from '@material-ui/icons/SentimentDissatisfied';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nimport Message from '../../../components/Message';\r\nimport Item from './Item';\r\nimport Selected from '../Selected';\r\n\r\nimport userActions from '../../../actions/user';\r\nimport globalActions from '../../../actions/global';\r\nimport vendorActions from '../../../actions/vendor';\r\nimport { IState } from '../../../StateTypes';\r\n\r\ntype IVendingMachineProps = WithTranslation &\r\n  RouteComponentProps &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass VendingMachine extends Component<IVendingMachineProps, { loading: boolean }> {\r\n  state = {\r\n    loading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    this.props.fetchVendorData(this.props.id, () => this.setState({ loading: false }));\r\n  }\r\n\r\n  refreshData = () => {\r\n    this.props.fetchVendorData(this.props.id);\r\n  };\r\n\r\n  getCartProductCount = (productId: number): number => {\r\n    const { cart } = this.props;\r\n\r\n    if (cart && cart[productId]) {\r\n      return cart[productId];\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  onTakeProduct = (productId: number) => {\r\n    this.props.showTakeModal({ vendorId: this.props.id, productId });\r\n  };\r\n\r\n  render() {\r\n    const { name, address, vendorProducts, cart, allProducts, addToCart, t } = this.props;\r\n    const { loading } = this.state;\r\n\r\n    if (loading) {\r\n      return (\r\n        <View style={styles.wrapper}>\r\n          <View style={styles.loggingBackground}>\r\n            <Animatable.View\r\n              style={styles.loadingWrapper}\r\n              animation='fadeIn'\r\n              easing='ease-out'\r\n              duration={100}\r\n            >\r\n              <CircularProgress />\r\n            </Animatable.View>\r\n          </View>\r\n        </View>\r\n      );\r\n    }\r\n\r\n    let cartAmount = 0;\r\n    let cartSum = 0;\r\n\r\n    if (cart) {\r\n      for (let productId in cart) {\r\n        const product = allProducts.find((product) => product.id === Number(productId))!;\r\n\r\n        cartAmount += cart[productId];\r\n        cartSum += cart[productId] * product.price;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        {vendorProducts.length === 0 ? (\r\n          <View style={{ flex: 1, paddingTop: 128 }}>\r\n            <Message icon={Dissatisfied} title={t('noProducts')} subtitle={t('chooseOtherStorage')} />\r\n          </View>\r\n        ) : (\r\n          <View style={{ flex: 1, height: 100 }}>\r\n            <ScrollView\r\n            // refreshControl={\r\n            //   <RefreshControl\r\n            //     colors={[Primary]}\r\n            //     refreshing={this.state.loading}\r\n            //     onRefresh={this.refreshData}\r\n            //   />\r\n            // }\r\n            >\r\n              {vendorProducts.map((item) => (\r\n                <Item\r\n                  key={item.id}\r\n                  count={this.getCartProductCount(item.id)}\r\n                  cartAmount={cartAmount}\r\n                  cartSum={cartSum}\r\n                  addToCart={addToCart}\r\n                  onTakeProduct={this.onTakeProduct}\r\n                  layoutType='vendor'\r\n                  onAddToCart={() => this.props.history.push('/home/cart')}\r\n                  {...item}\r\n                />\r\n              ))}\r\n            </ScrollView>\r\n          </View>\r\n        )}\r\n        <TouchableOpacity activeOpacity={0.8}>\r\n          <Link\r\n            to='/home/cart'\r\n            style={{\r\n              pointerEvents: cartAmount <= 0 ? 'none' : 'auto',\r\n              textDecoration: 'none',\r\n            }}\r\n          >\r\n            <Selected type='cart' title={name} subtitle={address} cartAmount={cartAmount} />\r\n          </Link>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n  loggingBackground: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingWrapper: {\r\n    width: 58,\r\n    height: 58,\r\n    backgroundColor: 'white',\r\n    borderRadius: 58 / 2,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  id: state.globalReducer.selectedVendor!.id,\r\n  name: state.globalReducer.selectedVendor!.name,\r\n  address: state.globalReducer.selectedVendor!.address,\r\n  vendorProducts: state.vendorReducer.products,\r\n  takeModal: state.globalReducer.takeModal,\r\n  cart: state.userReducer.carts[state.globalReducer.selectedVendor!.id],\r\n  allProducts: state.globalReducer.products,\r\n  globalModal: state.globalReducer.globalModal,\r\n});\r\n\r\nconst localActions = {\r\n  showTakeModal: globalActions.showTakeModal,\r\n  hideTakeModal: globalActions.hideTakeModal,\r\n  hideGlobalModal: globalActions.hideGlobalModal,\r\n  addToCart: userActions.addProductToCart,\r\n  removeFromCart: userActions.removeProductFromCart,\r\n  fetchVendorData: vendorActions.fetchVendorData,\r\n};\r\n\r\nexport default withTranslation('vendingMachine')(connect(mapStateToProps, localActions)(VendingMachine));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, Image, TouchableOpacity } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport DeleteForever from '@material-ui/icons/DeleteForever';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { ICartProduct, IState } from '../../../StateTypes';\r\nimport { Black, Gray, LightGray, DarkGray } from '../../../Colors';\r\nimport { formatCurrency, getMaxItemsInfoSuffix, shouldUseContain } from '../../../helpers';\r\nimport globalActions from '../../../actions/global';\r\nimport Counter from '../VendingMachine/Item/Counter';\r\n\r\ninterface ICartConfirmationOwnProps {\r\n  item: ICartProduct;\r\n  type: 'reservation' | 'vault';\r\n  cartAmount: number;\r\n  addToCart: (vendorId: number, productId: number, count: number) => void;\r\n  removeFromCart: (vendorId: number, productId: number, count: number) => void;\r\n}\r\n\r\ntype ICartConfirmationProps = ICartConfirmationOwnProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\ninterface ICartConfirmItemState {\r\n  useContain: boolean;\r\n}\r\n\r\nclass CartConfirmItem extends Component<ICartConfirmationProps, ICartConfirmItemState> {\r\n  state = {\r\n    useContain: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const useContain = await shouldUseContain(this.props.item.cover);\r\n    this.setState({ useContain });\r\n  }\r\n\r\n  addCount = () => {\r\n    const {\r\n      addToCart,\r\n      vendorId,\r\n      item,\r\n      maxCartItems,\r\n      inReservation,\r\n      cartFull,\r\n      allStockInCart,\r\n      showToastMessage,\r\n      t,\r\n    } = this.props;\r\n\r\n    if (inReservation && cartFull) {\r\n      showToastMessage(t('item.plan', { maxCartItems, suffix: getMaxItemsInfoSuffix(maxCartItems) }));\r\n      return;\r\n    }\r\n\r\n    if (inReservation && allStockInCart) {\r\n      showToastMessage(t('item.maxTaken'));\r\n      return;\r\n    }\r\n\r\n    addToCart(vendorId, item.id, 1);\r\n  };\r\n\r\n  subtractCount = () => {\r\n    const { vendorId, item, removeFromCart } = this.props;\r\n\r\n    removeFromCart(vendorId, item.id, 1);\r\n  };\r\n\r\n  deleteFromCart = () => {\r\n    const { vendorId, item, removeFromCart } = this.props;\r\n\r\n    removeFromCart(vendorId, item.id, item.amount);\r\n  };\r\n\r\n  render() {\r\n    const { item, inVault, inReservation, cartFull, allStockInCart, t } = this.props;\r\n    const { useContain } = this.state;\r\n\r\n    const subtractDisabled = item.amount <= 1;\r\n    const addDisabled = inReservation && (cartFull || allStockInCart);\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <View style={{ flex: 1, flexDirection: 'row', marginLeft: -8, marginRight: 16 }}>\r\n          <View style={{ width: 50, height: 70, marginRight: 12 }}>\r\n            <Image\r\n              style={{ flex: 1 }}\r\n              resizeMode={useContain ? 'contain' : 'cover'}\r\n              source={{ uri: item.cover }}\r\n            />\r\n          </View>\r\n          <View style={{ flex: 1, paddingTop: 8 }}>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <Text style={styles.name}>{item.name}</Text>\r\n            </View>\r\n\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <Text style={styles.type}>{item.type.toUpperCase()}</Text>\r\n              <Text style={styles.proof}>{item.proof}%</Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        <View style={{ alignSelf: 'stretch', paddingTop: 8 }}>\r\n          <Counter\r\n            count={item.amount}\r\n            addDisabled={addDisabled}\r\n            subtractDisabled={subtractDisabled}\r\n            onAdd={this.addCount}\r\n            onSubtract={this.subtractCount}\r\n          />\r\n\r\n          <TouchableOpacity\r\n            onPress={this.deleteFromCart}\r\n            activeOpacity={0.8}\r\n            style={{ flexDirection: 'row', alignSelf: 'center', marginTop: 12 }}\r\n          >\r\n            <Text style={{ textAlign: 'center', marginLeft: 8, color: DarkGray }}>{t('item.remove')}</Text>\r\n            <DeleteForever style={{ color: DarkGray }} />\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={{ paddingTop: 8 }}>\r\n          <View\r\n            style={{\r\n              alignItems: 'flex-end',\r\n              width: 80,\r\n            }}\r\n          >\r\n            {inReservation && (\r\n              <View>\r\n                <Text style={styles.totalPrice}>{formatCurrency(item.amount * item.storage_fee)}</Text>\r\n                <Text style={{ fontSize: 10, color: Gray, textAlign: 'center' }}>\r\n                  {formatCurrency(item.storage_fee)}\r\n                </Text>\r\n              </View>\r\n            )}\r\n\r\n            {inVault && (\r\n              <View>\r\n                <Text style={styles.totalPrice}>{formatCurrency(item.amount * item.price)}</Text>\r\n                <Text style={{ fontSize: 10, color: Gray, textAlign: 'center' }}>\r\n                  {formatCurrency(item.price)}\r\n                </Text>\r\n              </View>\r\n            )}\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: LightGray,\r\n  },\r\n  imageWrapper: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 50,\r\n    height: 70,\r\n    marginRight: 12,\r\n    borderWidth: 1,\r\n  },\r\n  type: {\r\n    fontSize: 10,\r\n    letterSpacing: 1,\r\n    marginRight: 4,\r\n  },\r\n  proof: {\r\n    fontSize: 10,\r\n    letterSpacing: 1,\r\n  },\r\n  name: {\r\n    flex: 1,\r\n    flexWrap: 'wrap',\r\n    fontSize: 16,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  totalPrice: {\r\n    fontSize: 20,\r\n    color: Black,\r\n    textAlign: 'right',\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState, ownProps: ICartConfirmationOwnProps) => {\r\n  const vendorId = state.globalReducer.selectedVendor ? state.globalReducer.selectedVendor.id : -1;\r\n  const maxCartItems = state.userReducer.membership!.max_items;\r\n  const inReservation = ownProps.type === 'reservation';\r\n  const vendorProduct = state.vendorReducer.products.find((item) => item.id === Number(ownProps.item.id));\r\n  const stock = inReservation ? vendorProduct!.stock : 999;\r\n\r\n  return {\r\n    stock,\r\n    vendorId,\r\n    maxCartItems,\r\n    inReservation,\r\n    inVault: ownProps.type === 'vault',\r\n    cartFull: ownProps.cartAmount >= maxCartItems,\r\n    allStockInCart: ownProps.item.amount >= stock,\r\n  };\r\n};\r\n\r\nconst localActions = {\r\n  showToastMessage: globalActions.initToastMessage,\r\n};\r\n\r\nexport default withTranslation('cartConfirmation')(connect(mapStateToProps, localActions)(CartConfirmItem));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, ScrollView, Text, Picker, TouchableOpacity, Dimensions } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, Trans, WithTranslation } from 'react-i18next';\r\n\r\nimport Item from './Item';\r\n\r\nimport { IState, ICartProduct } from '../../../StateTypes';\r\nimport { DarkGray, Black, Gray, LightGray, Primary, Red, Blue } from '../../../Colors';\r\nimport PrimaryButton from '../../../components/PrimaryButton';\r\nimport vendorActions from '../../../actions/vendor';\r\nimport userActions from '../../../actions/user';\r\nimport globalActions from '../../../actions/global';\r\nimport { formatCurrency, formatTimeWords } from '../../../helpers';\r\n\r\ntype ICartProps = WithTranslation &\r\n  RouteComponentProps &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass Cart extends Component<ICartProps> {\r\n  showReservationModal = () => this.props.showReservationInfoModal();\r\n\r\n  onReservAnother = () => this.props.history.goBack();\r\n\r\n  onCancel = () => {\r\n    this.props.resetCart();\r\n    this.props.history.goBack();\r\n  };\r\n\r\n  onConfirm = () => {\r\n    const { selectedVendor } = this.props;\r\n\r\n    const cart = Object.assign({}, this.props.cart);\r\n\r\n    for (let productId of selectedVendor.products) {\r\n      if (!cart[productId]) {\r\n        cart[productId] = 0;\r\n      }\r\n    }\r\n    this.props.createReservation(selectedVendor.id, cart);\r\n  };\r\n\r\n  render() {\r\n    const { cart, selectedVendor, ttc, addToCart, removeFromCart, t } = this.props;\r\n\r\n    let cartAmount = 0;\r\n    let cartSum = 0;\r\n    let reservationFee = 0;\r\n\r\n    const cartProducts: ICartProduct[] = [];\r\n\r\n    for (let productId in cart) {\r\n      const product = this.props.allProducts.find((product) => product.id === Number(productId))!;\r\n      const cartProduct = { ...product, amount: cart[productId] };\r\n\r\n      cartProducts.push(cartProduct);\r\n      cartAmount += cart[productId];\r\n      cartSum += cartProduct.storage_fee * cartProduct.amount;\r\n      reservationFee += cartProduct.amount * cartProduct.reservation_fee;\r\n    }\r\n\r\n    return (\r\n      <View style={{ flex: 1, height: Dimensions.get('window').height - 56 }}>\r\n        <ScrollView>\r\n          <View style={{ paddingTop: 16, paddingBottom: 36 }}>\r\n            <Text style={styles.sectionTitle}>{t('reservationConfirm')}</Text>\r\n\r\n            <View style={{ marginTop: 16, marginBottom: 8 }}>\r\n              <div\r\n                style={{\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  alignSelf: 'center',\r\n                  width: 245,\r\n                  height: 42,\r\n                  backgroundColor: Blue,\r\n                  borderRadius: 25,\r\n                  boxShadow: '0px 1px 2px rgba(0, 0, 0, 0.3)',\r\n                }}\r\n              >\r\n                <TouchableOpacity\r\n                  activeOpacity={0.8}\r\n                  style={styles.whatIsReservation}\r\n                  onPress={this.showReservationModal}\r\n                >\r\n                  <Text style={{ fontSize: 18, color: 'white' }}>{t('whatIsReservation').toUpperCase()}</Text>\r\n                </TouchableOpacity>\r\n              </div>\r\n            </View>\r\n\r\n            {cartAmount === 0 ? (\r\n              <>\r\n                <Text style={styles.empty}>{t('reservationEmpty')}</Text>\r\n\r\n                <PrimaryButton width={200} onPress={this.onReservAnother}>\r\n                  {t('reserveProduct').toUpperCase()}\r\n                </PrimaryButton>\r\n              </>\r\n            ) : (\r\n              <>\r\n                {cartProducts.map((product) => (\r\n                  <Item\r\n                    key={product.id}\r\n                    item={product}\r\n                    type='reservation'\r\n                    addToCart={addToCart}\r\n                    removeFromCart={removeFromCart}\r\n                    cartAmount={cartAmount}\r\n                  />\r\n                ))}\r\n\r\n                <View style={{ marginBottom: 16 }}>\r\n                  <View style={styles.addFees}>\r\n                    <View\r\n                      style={{\r\n                        flexDirection: 'row',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        paddingHorizontal: 16,\r\n                        marginBottom: 4,\r\n                      }}\r\n                    >\r\n                      <Text>{t('reservationTime')}:</Text>\r\n                      <Text style={styles.endSum}>{formatTimeWords(ttc)}</Text>\r\n                    </View>\r\n\r\n                    <View style={styles.endSumWrapper}>\r\n                      <Text>{t('rservationPrice')}:</Text>\r\n                      <Text style={styles.endSum}>{formatCurrency(reservationFee)}</Text>\r\n                    </View>\r\n                  </View>\r\n\r\n                  <View style={styles.totalSumWrapper}>\r\n                    <Text style={styles.totalSumLabel}>{t('total')}:</Text>\r\n                    <Text style={styles.totalSum}>{formatCurrency(cartSum + reservationFee)}</Text>\r\n                  </View>\r\n                </View>\r\n\r\n                <Text style={styles.info}>{t('info')}</Text>\r\n\r\n                <View style={styles.vendorInfo}>\r\n                  <LocationOn style={{ marginRight: 8, color: Black, fontSize: 24 }} />\r\n                  <View>\r\n                    <Text style={styles.name}>{selectedVendor.name}</Text>\r\n                    <Text style={styles.address}>{selectedVendor.address}</Text>\r\n                  </View>\r\n                </View>\r\n\r\n                <View style={{ marginBottom: 24 }}>\r\n                  <PrimaryButton width={170} onPress={this.onConfirm}>\r\n                    {t('reserve').toUpperCase()}\r\n                    {'  '}\r\n                    <Text style={{ fontWeight: 'bold' }}>{formatCurrency(cartSum + reservationFee)}</Text>\r\n                  </PrimaryButton>\r\n                </View>\r\n\r\n                <View style={{ marginBottom: 16 }}>\r\n                  <TouchableOpacity\r\n                    activeOpacity={0.8}\r\n                    style={styles.reserveAnother}\r\n                    onPress={this.onReservAnother}\r\n                  >\r\n                    <Text style={{ color: Primary }}>{t('reserveOtherProduct').toUpperCase()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n\r\n                <TouchableOpacity activeOpacity={0.8} style={styles.cancel} onPress={this.onCancel}>\r\n                  <Text style={{ color: Red }}>{t('cancel').toUpperCase()}</Text>\r\n                </TouchableOpacity>\r\n              </>\r\n            )}\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1, paddingTop: 16 },\r\n  sectionTitle: {\r\n    marginLeft: 16,\r\n    color: DarkGray,\r\n  },\r\n  whatIsReservation: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    width: 245,\r\n    height: 42,\r\n    backgroundColor: Blue,\r\n    borderRadius: 25,\r\n    elevation: 3,\r\n  },\r\n  empty: {\r\n    marginTop: 36,\r\n    marginBottom: 16,\r\n    textAlign: 'center',\r\n    fontSize: 18,\r\n    color: Gray,\r\n  },\r\n  link: {\r\n    alignSelf: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 8,\r\n    paddingBottom: 4,\r\n    marginTop: 12,\r\n    marginBottom: 4,\r\n    borderBottomWidth: 4,\r\n    borderBottomColor: Primary,\r\n  },\r\n  linkText: {\r\n    fontSize: 22,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  info: {\r\n    marginHorizontal: 36,\r\n    textAlign: 'center',\r\n    color: Gray,\r\n  },\r\n  addFees: {\r\n    paddingVertical: 12,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: LightGray,\r\n  },\r\n  reservation: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginHorizontal: 16,\r\n  },\r\n  reservationPrice: {\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n    fontSize: 20,\r\n  },\r\n  endSumWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 16,\r\n  },\r\n  endSum: {\r\n    fontSize: 18,\r\n    color: Black,\r\n  },\r\n  totalSumWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 8,\r\n    paddingHorizontal: 16,\r\n  },\r\n  totalSumLabel: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: Black,\r\n  },\r\n  totalSum: {\r\n    fontSize: 26,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  vendorInfo: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginVertical: 24,\r\n  },\r\n  icon: {\r\n    marginRight: 8,\r\n    color: Black,\r\n  },\r\n  name: {\r\n    color: Black,\r\n    fontSize: 16,\r\n  },\r\n  address: {\r\n    color: Gray,\r\n  },\r\n  reserveAnother: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    borderRadius: 25,\r\n    width: 230,\r\n    height: 36,\r\n    backgroundColor: undefined,\r\n    borderWidth: 1,\r\n    borderColor: Primary,\r\n  },\r\n  cancel: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    borderRadius: 25,\r\n    width: 150,\r\n    height: 36,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  selectedVendor: state.globalReducer.selectedVendor!,\r\n  cart: state.userReducer.carts[state.globalReducer.selectedVendor!.id],\r\n  allProducts: state.globalReducer.products,\r\n  ttc: state.userReducer.membership!.ttc,\r\n});\r\n\r\nconst localActions = {\r\n  createReservation: vendorActions.createReservation,\r\n  addToCart: userActions.addProductToCart,\r\n  removeFromCart: userActions.removeProductFromCart,\r\n  resetCart: userActions.resetCart,\r\n  showReservationInfoModal: globalActions.showReservationInfoModal,\r\n};\r\n\r\nexport default withTranslation('cartConfirmation')(connect(mapStateToProps, localActions)(Cart));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, Image } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport PrimaryButton from '../../../components/PrimaryButton';\r\n\r\nimport { ICartProduct, IState, IVendor } from '../../../StateTypes';\r\nimport { Black, LightGray, Primary } from '../../../Colors';\r\nimport { isUserNearby, shouldUseContain } from '../../../helpers';\r\nimport globalActions from '../../../actions/global';\r\n\r\ninterface ICartCheckoutItemOwnProps {\r\n  vendor: IVendor;\r\n  item: ICartProduct;\r\n  isVending: boolean;\r\n  onTakeProduct: (productId: number) => void;\r\n}\r\n\r\ntype ICartCheckoutItemProps = ICartCheckoutItemOwnProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\ninterface ICartCheckoutItemState {\r\n  useContain: boolean;\r\n}\r\n\r\nclass CartCheckoutItem extends Component<ICartCheckoutItemProps, ICartCheckoutItemState> {\r\n  state = {\r\n    useContain: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const useContain = await shouldUseContain(this.props.item.cover);\r\n    this.setState({ useContain });\r\n  }\r\n\r\n  onTake = (id: number) => {\r\n    const { onTakeProduct, showToastMessage, t } = this.props;\r\n\r\n    if (this.isUserNearby()) {\r\n      onTakeProduct(id);\r\n    } else {\r\n      showToastMessage(t('item.onlyNearby'));\r\n    }\r\n  };\r\n\r\n  isUserNearby = () => {\r\n    const { vendor, userLocation } = this.props;\r\n    return isUserNearby(vendor, userLocation);\r\n  };\r\n\r\n  render() {\r\n    const { item, isVending, t } = this.props;\r\n    const { useContain } = this.state;\r\n\r\n    return (\r\n      <View key={item.id} style={styles.wrapper}>\r\n        <View style={{ flex: 1, flexDirection: 'row', marginRight: 16 }}>\r\n          <View style={{ width: 50, height: 70, marginRight: 12 }}>\r\n            <Image\r\n              style={{ flex: 1 }}\r\n              resizeMode={useContain ? 'contain' : 'cover'}\r\n              source={{ uri: item.cover }}\r\n            />\r\n          </View>\r\n          <View style={{ flex: 1, justifyContent: 'center' }}>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <Text style={styles.name}>{item.name}</Text>\r\n            </View>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <Text style={styles.type}>{item.type.toUpperCase()}</Text>\r\n              <Text style={styles.proof}>{item.proof}%</Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        <View style={{ marginRight: 16 }}>\r\n          <Text style={{ fontSize: 16, color: Black }}>\r\n            {item.amount} {t('item.quantity')}\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n          {!isVending ? (\r\n            <PrimaryButton width={85} disabled={!this.isUserNearby()} onPress={() => this.onTake(item.id)}>\r\n              {t('item.take').toUpperCase()}\r\n            </PrimaryButton>\r\n          ) : (\r\n            <View style={{ width: 85, paddingVertical: 8 }} />\r\n          )}\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: LightGray,\r\n  },\r\n  imageWrapper: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 50,\r\n    height: 70,\r\n    marginRight: 12,\r\n    borderWidth: 1,\r\n  },\r\n  type: { fontSize: 10, letterSpacing: 1, marginRight: 4 },\r\n  proof: {\r\n    fontSize: 10,\r\n    letterSpacing: 1,\r\n  },\r\n  name: {\r\n    flex: 1,\r\n    flexWrap: 'wrap',\r\n    fontSize: 16,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  totalPrice: {\r\n    fontSize: 20,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  takeButton: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 85,\r\n    paddingVertical: 8,\r\n    borderRadius: 40,\r\n    backgroundColor: Primary,\r\n    elevation: 3,\r\n  },\r\n  takeText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  userLocation: state.userReducer.location,\r\n});\r\n\r\nconst localActions = {\r\n  showToastMessage: globalActions.initToastMessage,\r\n};\r\n\r\nexport default withTranslation('cartCheckout')(connect(mapStateToProps, localActions)(CartCheckoutItem));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, ScrollView, Text, AppStateStatus, AppState, Dimensions } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport Timer from '@material-ui/icons/Timer';\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport { connect } from 'react-redux';\r\nimport { differenceInSeconds } from 'date-fns';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport Item from './Item';\r\n\r\nimport { IState } from '../../../StateTypes';\r\nimport { DarkGray, Black, Gray, Red } from '../../../Colors';\r\nimport { formatCountdown, getReservationProducts } from '../../../helpers';\r\nimport { getCurrentTime } from '../../../api';\r\nimport globalActions from '../../../actions/global';\r\n\r\ntype ICartCheckoutProps = WithTranslation &\r\n  RouteComponentProps &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\ninterface ICartCheckoutState {\r\n  secondsLeft: number;\r\n  show: boolean;\r\n  appState: AppStateStatus;\r\n}\r\n\r\nclass CartCheckout extends Component<ICartCheckoutProps, ICartCheckoutState> {\r\n  state = {\r\n    secondsLeft: 0,\r\n    show: false,\r\n    appState: AppState.currentState,\r\n  };\r\n\r\n  startDate = '';\r\n  interval = 0;\r\n\r\n  async componentDidMount() {\r\n    const { token, ttc, createdAt } = this.props;\r\n\r\n    AppState.addEventListener('change', this.handleAppStateChange);\r\n\r\n    try {\r\n      if (token) {\r\n        const currentDate = (await getCurrentTime(token)).date;\r\n        const secondsLeft = ttc - differenceInSeconds(currentDate, createdAt);\r\n\r\n        this.setState(\r\n          {\r\n            secondsLeft: Math.max(0, secondsLeft),\r\n            show: true,\r\n          },\r\n          () => {\r\n            this.interval = setInterval(this.timerCb, 1000);\r\n          }\r\n        );\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleAppStateChange = async (nextAppState: AppStateStatus) => {\r\n    const { token } = this.props;\r\n    const { appState } = this.state;\r\n\r\n    // app going into background\r\n    if (appState === 'active' && nextAppState.match(/inactive|background/)) {\r\n      if (token) {\r\n        this.stopCountdown();\r\n        try {\r\n          this.startDate = (await getCurrentTime(token)).date;\r\n        } catch (e) {\r\n          console.error(e);\r\n          this.startDate = new Date().toISOString();\r\n        }\r\n      }\r\n    }\r\n\r\n    // app back from background\r\n    if (appState.match(/inactive|background/) && nextAppState === 'active') {\r\n      if (token) {\r\n        let currentDate;\r\n\r\n        try {\r\n          currentDate = (await getCurrentTime(token)).date;\r\n        } catch (e) {\r\n          console.error(e);\r\n          currentDate = new Date().toISOString();\r\n        }\r\n\r\n        const secondsInBackground = differenceInSeconds(currentDate, this.startDate);\r\n\r\n        this.setState(\r\n          (state) => ({\r\n            secondsLeft: Math.max(0, state.secondsLeft - secondsInBackground),\r\n          }),\r\n          () => {\r\n            this.interval = setInterval(this.timerCb, 1000);\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    this.setState({ appState: nextAppState });\r\n  };\r\n\r\n  timerCb = () => {\r\n    const { secondsLeft } = this.state;\r\n\r\n    if (secondsLeft > 0) {\r\n      this.setState((state) => ({ secondsLeft: state.secondsLeft - 1 }));\r\n    } else {\r\n      this.stopCountdown();\r\n    }\r\n  };\r\n\r\n  onTakeProduct = (productId: number) => {\r\n    this.props.showTakeModal({ vendorId: this.props.vendor.id, productId });\r\n  };\r\n\r\n  stopCountdown() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.stopCountdown();\r\n    AppState.removeEventListener('change', this.handleAppStateChange);\r\n  }\r\n\r\n  render() {\r\n    const { vendor, reservationProducts, isVending, t } = this.props;\r\n    const { secondsLeft, show } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, height: Dimensions.get('window').height - 56 }}>\r\n        <ScrollView>\r\n          <View style={{ paddingTop: 16, paddingBottom: 36 }}>\r\n            <Text style={styles.sectionTitle}>{t('reservation')}</Text>\r\n\r\n            <View style={{ marginTop: 16, marginBottom: 24 }}>\r\n              <View\r\n                style={{\r\n                  flexDirection: 'row',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                <Timer style={{ marginRight: 12, color: Black, fontSize: 70 }} />\r\n\r\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <LocationOn style={{ marginRight: 8, color: Black, fontSize: 24 }} />\r\n                  <View>\r\n                    <Text style={styles.name}>{vendor.name}</Text>\r\n                    <Text style={styles.address}>{vendor.address}</Text>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n\r\n              <View style={styles.countdown}>\r\n                {show ? (\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 40,\r\n                      color: show && secondsLeft < 60 ? Red : Black,\r\n                    }}\r\n                  >\r\n                    {formatCountdown(secondsLeft)}\r\n                  </Text>\r\n                ) : (\r\n                  <Text>{t('loading')}...</Text>\r\n                )}\r\n              </View>\r\n\r\n              <Text style={{ marginHorizontal: 36, textAlign: 'center', color: Gray, marginTop: 12 }}>\r\n                {t('info')}\r\n              </Text>\r\n            </View>\r\n\r\n            <Text style={styles.sectionTitle}>{t('productServe')}</Text>\r\n\r\n            {reservationProducts.map((product) => (\r\n              <Item\r\n                key={product.id}\r\n                vendor={vendor}\r\n                item={product}\r\n                onTakeProduct={this.onTakeProduct}\r\n                isVending={isVending}\r\n              />\r\n            ))}\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {},\r\n  imageWrapper: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 50,\r\n    height: 70,\r\n    marginRight: 16,\r\n    borderWidth: 1,\r\n  },\r\n  sectionTitle: {\r\n    marginLeft: 16,\r\n    color: DarkGray,\r\n  },\r\n  countdown: {\r\n    height: 50,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  time: {\r\n    color: Black,\r\n    fontSize: 40,\r\n  },\r\n  info: {\r\n    marginHorizontal: 36,\r\n    textAlign: 'center',\r\n    color: Gray,\r\n  },\r\n  icon: {\r\n    marginRight: 8,\r\n    color: Black,\r\n  },\r\n  name: {\r\n    color: Black,\r\n    fontSize: 16,\r\n  },\r\n  address: {\r\n    color: DarkGray,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  const reservation = state.userReducer.reservations[0];\r\n  const vendor = state.globalReducer.vendors.find((vendor) => vendor.id === reservation.vendor)!;\r\n  return {\r\n    vendor,\r\n    reservationProducts: getReservationProducts(reservation, state.globalReducer.products),\r\n    takeModal: state.globalReducer.takeModal,\r\n    ttc: state.userReducer.membership!.ttc,\r\n    isVending: reservation.status === 3,\r\n    createdAt: reservation.created_at,\r\n    token: state.loginReducer.token?.access_token,\r\n  };\r\n};\r\n\r\nconst localActions = {\r\n  showTakeModal: globalActions.showTakeModal,\r\n  hideTakeModal: globalActions.hideTakeModal,\r\n};\r\n\r\nexport default withTranslation('cartCheckout')(connect(mapStateToProps, localActions)(CartCheckout));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { Gray, DarkGray, Black } from '../../../Colors';\r\nimport { IState } from '../../../StateTypes';\r\nimport globalActions from '../../../actions/global';\r\n\r\ntype ISettingsProps = RouteComponentProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\ninterface ISettingsState {\r\n  showLanguageModal: boolean;\r\n}\r\n\r\nclass Settings extends Component<ISettingsProps, ISettingsState> {\r\n  render() {\r\n    const { language, showLanguageModal, t } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <Text style={{ marginLeft: 16, marginBottom: 12, color: DarkGray }}>{t('settings')}</Text>\r\n\r\n        <View style={styles.optionsWrapper}>\r\n          <TouchableOpacity onPress={showLanguageModal} activeOpacity={0.8}>\r\n            <Text style={{ fontSize: 16, color: Black }}>{t('language:language')}</Text>\r\n            <Text style={{ fontSize: 14, color: Gray, lineHeight: 14 }}>{t(`language:${language}`)}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1, paddingTop: 16 },\r\n  optionsWrapper: { flex: 1, marginLeft: 16 },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  language: state.globalReducer.language,\r\n});\r\n\r\nconst localActions = {\r\n  showLanguageModal: globalActions.showLanguageModal,\r\n};\r\n\r\nexport default withTranslation('settings')(connect(mapStateToProps, localActions)(Settings));\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { IVaultProduct, ICartProduct } from '../StateTypes';\r\nimport { View, Image, Text, StyleSheet } from 'react-native';\r\nimport { formatCurrency, shouldUseContain } from '../helpers';\r\nimport { Black, LightGray, Primary, DarkGray, Gray } from '../Colors';\r\n\r\ninterface IVaultDebtProductOwnProps {\r\n  item: IVaultProduct | ICartProduct;\r\n}\r\n\r\ninterface IVaultDebtProductState {\r\n  useContain: boolean;\r\n}\r\n\r\ntype VaultDebtProductProps = IVaultDebtProductOwnProps & WithTranslation;\r\n\r\nclass VaultDebtProduct extends Component<VaultDebtProductProps, IVaultDebtProductState> {\r\n  state = {\r\n    useContain: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const useContain = await shouldUseContain(this.props.item.cover);\r\n    this.setState({ useContain });\r\n  }\r\n\r\n  render() {\r\n    const { item, t } = this.props;\r\n    const { useContain } = this.state;\r\n\r\n    return (\r\n      <View style={styles.itemWrapper}>\r\n        <View style={{ flex: 1, flexDirection: 'row', marginLeft: -8, marginRight: 16 }}>\r\n          <View style={{ width: 50, height: 70, marginRight: 12 }}>\r\n            <Image\r\n              style={{ flex: 1 }}\r\n              resizeMode={useContain ? 'contain' : 'cover'}\r\n              source={{ uri: item.cover }}\r\n            />\r\n          </View>\r\n          <View style={{ flex: 1, paddingTop: 8 }}>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <Text style={styles.name}>{item.name}</Text>\r\n            </View>\r\n\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <Text style={styles.type}>{item.type.toUpperCase()}</Text>\r\n              <Text style={styles.proof}>{item.proof}%</Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        <View\r\n          style={{\r\n            paddingTop: 12,\r\n            marginRight: 16,\r\n          }}\r\n        >\r\n          <Text style={{ fontSize: 16, color: Black }}>\r\n            <Text style={{ fontSize: 16, fontWeight: 'bold' }}>{item.amount}</Text> {t('quantity')}\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={{ paddingTop: 8 }}>\r\n          <View\r\n            style={{\r\n              alignItems: 'flex-end',\r\n              width: 80,\r\n            }}\r\n          >\r\n            <View>\r\n              <Text style={styles.totalPrice}>{formatCurrency(item.amount * item.price)}</Text>\r\n              <Text style={{ fontSize: 10, color: Gray, textAlign: 'center' }}>\r\n                {formatCurrency(item.price)}\r\n              </Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n  sectionTitle: {\r\n    marginLeft: 16,\r\n    color: DarkGray,\r\n    marginBottom: 8,\r\n  },\r\n  empty: {\r\n    marginTop: 24,\r\n    marginBottom: 36,\r\n    textAlign: 'center',\r\n    fontSize: 18,\r\n    color: Gray,\r\n  },\r\n  info: {\r\n    marginHorizontal: 36,\r\n    textAlign: 'center',\r\n    color: Gray,\r\n  },\r\n  loggingBackground: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingWrapper: {\r\n    width: 68,\r\n    height: 68,\r\n    marginTop: -24,\r\n    backgroundColor: 'white',\r\n    borderRadius: 68 / 2,\r\n    elevation: 3,\r\n  },\r\n  totalDebt: {\r\n    alignSelf: 'center',\r\n    alignItems: 'center',\r\n    padding: 4,\r\n    paddingHorizontal: 16,\r\n    borderWidth: 4,\r\n    borderColor: Primary,\r\n    borderRadius: 10,\r\n  },\r\n\r\n  itemWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: LightGray,\r\n  },\r\n  imageWrapper: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 50,\r\n    height: 70,\r\n    marginRight: 12,\r\n    borderWidth: 1,\r\n  },\r\n  type: {\r\n    fontSize: 10,\r\n    letterSpacing: 0.5,\r\n    marginRight: 4,\r\n  },\r\n  proof: {\r\n    fontSize: 10,\r\n    letterSpacing: 0.5,\r\n  },\r\n  name: {\r\n    flex: 1,\r\n    flexWrap: 'wrap',\r\n    fontSize: 16,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  totalPrice: {\r\n    fontSize: 20,\r\n    color: Black,\r\n    textAlign: 'right',\r\n  },\r\n  totalSumWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 8,\r\n    paddingHorizontal: 16,\r\n  },\r\n  totalSumLabel: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: Black,\r\n  },\r\n  totalSum: {\r\n    fontSize: 26,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default withTranslation()(VaultDebtProduct);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, ScrollView, Text, Image } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport Mood from '@material-ui/icons/Mood';\r\n\r\nimport Message from '../../../components/Message';\r\n\r\nimport { IState, ICartProduct } from '../../../StateTypes';\r\nimport { DarkGray, Black, Gray, Primary, LightGray } from '../../../Colors';\r\nimport { formatCurrency } from '../../../helpers';\r\nimport VaultDebtProduct from '../../../components/VaultDebtProduct';\r\n\r\ntype IDebtProps = RouteComponentProps & WithTranslation & ReturnType<typeof mapStateToProps>;\r\n\r\nclass Debt extends Component<IDebtProps> {\r\n  render() {\r\n    const {\r\n      membership: { products, debt, distributor, order_id },\r\n      allProducts,\r\n      t,\r\n    } = this.props;\r\n\r\n    const cartProducts: ICartProduct[] = [];\r\n\r\n    if (products) {\r\n      for (let item of products) {\r\n        const productName = Object.keys(item)[0];\r\n        const product = allProducts.find((product) => product.name === productName)!;\r\n        const cartProduct = { ...product, amount: item[productName] / product.price };\r\n\r\n        cartProducts.push(cartProduct);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <View style={{ flex: 1, paddingTop: 16 }}>\r\n        {debt === 0 ? (\r\n          <View style={{ paddingTop: 128 }}>\r\n            <Message icon={Mood} title={t('notInDebt')} subtitle={t('canTakeProduct')} />\r\n          </View>\r\n        ) : (\r\n          <ScrollView>\r\n            <View style={{ paddingBottom: 36 }}>\r\n              <View style={styles.title}>\r\n                <Text>{t('myDebt')}</Text>\r\n\r\n                <Text>\r\n                  {t('debtNumber')}:{' '}\r\n                  <Text style={{ fontSize: 20, color: Primary, fontWeight: 'bold' }}>{order_id}</Text>\r\n                </Text>\r\n              </View>\r\n\r\n              {cartProducts.map((item) => (\r\n                <VaultDebtProduct key={item.id} item={item} />\r\n              ))}\r\n\r\n              <View style={{ marginBottom: 16 }}>\r\n                <View style={styles.totalSumWrapper}>\r\n                  <Text style={styles.totalSumLabel}>{t('total')}:</Text>\r\n                  <Text style={styles.totalSum}>{formatCurrency(debt)}</Text>\r\n                </View>\r\n              </View>\r\n\r\n              <View style={styles.paymentInfo}>\r\n                <View style={{ marginBottom: 16 }}>\r\n                  <Text style={{ textAlign: 'center' }}>{t('paymentBank')}</Text>\r\n\r\n                  <Text style={{ color: Black, fontWeight: 'bold', textAlign: 'center' }}>\r\n                    {t('specifyDebtNumber', { order_id })}\r\n                  </Text>\r\n                </View>\r\n\r\n                {distributor.banks.map((item) => (\r\n                  <View key={item.number} style={{ marginBottom: 16, alignItems: 'center' }}>\r\n                    <Text style={{ fontSize: 20, color: Primary, fontWeight: 'bold' }}>{item.number}</Text>\r\n                    <Text style={{ fontSize: 12 }}>{item.name}</Text>\r\n                  </View>\r\n                ))}\r\n              </View>\r\n\r\n              <View\r\n                style={{\r\n                  marginBottom: 16,\r\n                  marginHorizontal: 36,\r\n                  borderBottomColor: LightGray,\r\n                  borderBottomWidth: 1,\r\n                  paddingTop: 0,\r\n                }}\r\n              />\r\n\r\n              <View style={{ alignItems: 'center' }}>\r\n                <Text style={{ marginBottom: 8 }}>\r\n                  {t('serves')} <Text style={{ color: Black, fontWeight: 'bold' }}>{distributor.name}</Text>\r\n                </Text>\r\n\r\n                <Text>{t('companyNumber', { number: distributor.unique_number })}</Text>\r\n                <Text>{t('vatNumber', { number: distributor.vat_number })}</Text>\r\n                <Text>{t('address', { address: distributor.address })}</Text>\r\n              </View>\r\n            </View>\r\n          </ScrollView>\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n  title: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'baseline',\r\n    marginHorizontal: 16,\r\n  },\r\n  totalSumWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 8,\r\n    paddingHorizontal: 16,\r\n  },\r\n  totalSumLabel: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: Black,\r\n  },\r\n  totalSum: {\r\n    fontSize: 26,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  paymentInfo: {\r\n    alignItems: 'center',\r\n    marginHorizontal: 36,\r\n  },\r\n  divider: {\r\n    paddingTop: 16,\r\n    marginBottom: 16,\r\n    marginHorizontal: 36,\r\n    borderBottomColor: LightGray,\r\n    borderBottomWidth: 1,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  membership: state.userReducer.membership!,\r\n  allProducts: state.globalReducer.products,\r\n});\r\n\r\nexport default withTranslation('debt')(connect(mapStateToProps)(Debt));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, Image } from 'react-native';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { Black, LightGray, Blue } from '../../../../Colors';\r\nimport { IVaultProduct } from '../../../../StateTypes';\r\nimport { shouldUseContain } from '../../../../helpers';\r\n\r\ninterface IVaultItemProps {\r\n  item: IVaultProduct;\r\n}\r\n\r\ninterface IVaultItemState {\r\n  useContain: boolean;\r\n}\r\n\r\nclass VaultItem extends Component<IVaultItemProps & WithTranslation, IVaultItemState> {\r\n  state = {\r\n    useContain: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const useContain = await shouldUseContain(this.props.item.cover);\r\n    this.setState({ useContain });\r\n  }\r\n\r\n  render() {\r\n    const { item, t } = this.props;\r\n    const { useContain } = this.state;\r\n\r\n    const pending = item.status === 'pending';\r\n\r\n    return (\r\n      <View style={{ marginBottom: 16 }}>\r\n        <View\r\n          style={{\r\n            flexDirection: 'row',\r\n            borderWidth: 1,\r\n            borderColor: LightGray,\r\n            borderRadius: 3,\r\n            opacity: pending ? 0.3 : 1,\r\n            backgroundColor: 'white',\r\n          }}\r\n        >\r\n          <View style={{ alignSelf: 'center', width: 50, height: 90 }}>\r\n            <Image\r\n              style={{ flex: 1 }}\r\n              resizeMode={useContain ? 'contain' : 'cover'}\r\n              source={{ uri: item.cover }}\r\n            />\r\n          </View>\r\n          <View\r\n            style={{\r\n              justifyContent: 'center',\r\n              width: 110,\r\n              paddingVertical: 16,\r\n              paddingHorizontal: 8,\r\n              backgroundColor: 'white',\r\n            }}\r\n          >\r\n            <View>\r\n              <Text style={styles.name}>{item.name}</Text>\r\n            </View>\r\n            <View style={{ flexDirection: 'row', marginBottom: 8 }}>\r\n              <Text style={styles.type}>{item.type.toUpperCase()}</Text>\r\n              <Text style={styles.proof}>{item.proof}%</Text>\r\n            </View>\r\n            <View>\r\n              <Text style={{ fontSize: 16, color: Black }}>\r\n                <Text style={{ fontWeight: 'bold' }}>{item.amount}</Text> {t('item.quantity')}\r\n              </Text>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        {pending && (\r\n          <View style={styles.pendingBackground}>\r\n            <View style={styles.pendingMessage}>\r\n              <Text style={{ color: 'white', textAlign: 'center' }}>{t('item.pending').toUpperCase()}</Text>\r\n            </View>\r\n          </View>\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    borderWidth: 1,\r\n    borderColor: LightGray,\r\n    borderRadius: 3,\r\n  },\r\n  imageWrapper: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 50,\r\n    height: 70,\r\n    marginRight: 12,\r\n    borderWidth: 1,\r\n  },\r\n  type: {\r\n    fontSize: 10,\r\n    letterSpacing: 0.5,\r\n    marginRight: 4,\r\n  },\r\n  proof: {\r\n    fontSize: 10,\r\n    letterSpacing: 0.5,\r\n  },\r\n  name: {\r\n    flex: 1,\r\n    flexWrap: 'wrap',\r\n    fontSize: 16,\r\n    color: Black,\r\n  },\r\n  totalPrice: {\r\n    fontSize: 20,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n    textAlign: 'right',\r\n  },\r\n  pendingBackground: {\r\n    position: 'absolute',\r\n    left: 8,\r\n    right: 8,\r\n    top: 0,\r\n    bottom: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  pendingMessage: {\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 8,\r\n    backgroundColor: Blue,\r\n    borderRadius: 3,\r\n  },\r\n});\r\n\r\nexport default withTranslation('vault')(VaultItem);\r\n","import React, { Component } from 'react';\r\nimport { Dimensions, StyleSheet, View, Text, ScrollView } from 'react-native';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport Item from './Item';\r\nimport PrimaryButton from '../../../../components/PrimaryButton';\r\nimport VaultDebtProduct from '../../../../components/VaultDebtProduct';\r\nimport userActions from '../../../../actions/user';\r\nimport globalActions from '../../../../actions/global';\r\n\r\nimport { Gray, Primary, LightGray, Black } from '../../../../Colors';\r\nimport { formatCurrency } from '../../../../helpers';\r\nimport { IState, IVaultProduct } from '../../../../StateTypes';\r\n\r\ntype IVaultHomeProps = RouteComponentProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass VaultHome extends Component<IVaultHomeProps, { vaultLoading: boolean }> {\r\n  state = {\r\n    vaultLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getVault(() => this.setState({ vaultLoading: false }));\r\n  }\r\n\r\n  showAllProducts = () => {\r\n    this.props.history.push('/home/vault/items');\r\n  };\r\n\r\n  render() {\r\n    const { allProducts, vault, t } = this.props;\r\n    const { vaultLoading } = this.state;\r\n\r\n    if (vaultLoading) {\r\n      return null;\r\n    }\r\n\r\n    const vaultProducts: IVaultProduct[] = [];\r\n    const productIds: { [key: number]: string } = {};\r\n    const vaultApprovedGrouped = [];\r\n    const vaultPendingGrouped = [];\r\n    const vaultFormatted = [];\r\n\r\n    for (let item of vault.vault) {\r\n      productIds[item.product.id] = '';\r\n      vaultProducts.push({ ...item.product, amount: 1, status: item.status });\r\n    }\r\n\r\n    const vaultApproved = vaultProducts.filter((item) => item.status === 'approved');\r\n    const vaultPending = vaultProducts.filter((item) => item.status === 'pending');\r\n\r\n    for (let id in productIds) {\r\n      const vaultFiltered = vaultApproved.filter((item) => item.id === Number(id));\r\n\r\n      if (vaultFiltered.length !== 0) {\r\n        vaultApprovedGrouped.push(vaultFiltered);\r\n      }\r\n    }\r\n\r\n    for (let array of vaultApprovedGrouped) {\r\n      vaultFormatted.push({ ...array[0], amount: array.length });\r\n    }\r\n\r\n    for (let id in productIds) {\r\n      const vaultFiltered = vaultPending.filter((item) => item.id === Number(id));\r\n\r\n      if (vaultFiltered.length !== 0) {\r\n        vaultPendingGrouped.push(vaultFiltered);\r\n      }\r\n    }\r\n\r\n    for (let array of vaultPendingGrouped) {\r\n      vaultFormatted.push({ ...array[0], amount: array.length });\r\n    }\r\n\r\n    const orderProducts: IVaultProduct[] = [];\r\n    const orderGrouped = [];\r\n    const orderFormatted = [];\r\n    const orderProductIds: { [key: number]: string } = {};\r\n\r\n    if (vault.products) {\r\n      for (let item of vault.products) {\r\n        const product = allProducts.find((product) => product.name === Object.keys(item)[0])!;\r\n        orderProductIds[product.id] = '';\r\n        orderProducts.push({ ...product, amount: 1, status: 'pending' });\r\n      }\r\n\r\n      for (let id in orderProductIds) {\r\n        const orderFiltered = orderProducts.filter((item) => item.id === Number(id));\r\n        if (orderFiltered.length !== 0) {\r\n          orderGrouped.push(orderFiltered);\r\n        }\r\n      }\r\n\r\n      for (let array of orderGrouped) {\r\n        orderFormatted.push({ ...array[0], amount: array.length });\r\n      }\r\n    }\r\n\r\n    return (\r\n      <View style={{ flex: 1, height: Dimensions.get('window').height - 56 }}>\r\n        <ScrollView>\r\n          <View style={{ paddingTop: 16 }}>\r\n            <Text style={{ marginLeft: 16, marginBottom: 8 }}>{t('myVault')}</Text>\r\n            <View style={{ paddingBottom: 60 }}>\r\n              {vaultFormatted.length === 0 ? (\r\n                <Text style={styles.empty}>{t('empty')}</Text>\r\n              ) : (\r\n                <View\r\n                  style={{\r\n                    flexDirection: 'row',\r\n                    justifyContent: 'space-evenly',\r\n                    flexWrap: 'wrap',\r\n                    marginBottom: 8,\r\n                  }}\r\n                >\r\n                  {vaultFormatted.map((item, index) => (\r\n                    <Item key={`${item.id}${index}`} item={item} />\r\n                  ))}\r\n                </View>\r\n              )}\r\n\r\n              {vault.debt ? (\r\n                <>\r\n                  <View style={styles.unpaidTitle}>\r\n                    <Text>{t('unpaid')}</Text>\r\n\r\n                    <Text style={{ fontSize: 12, color: Gray }}>\r\n                      {t('vaultNumber')}:{' '}\r\n                      <Text style={{ fontSize: 20, color: Primary, fontWeight: 'bold' }}>\r\n                        {vault.order_id}\r\n                      </Text>\r\n                    </Text>\r\n                  </View>\r\n\r\n                  {orderFormatted.map((item, index) => (\r\n                    <VaultDebtProduct key={`${item.id}${index}`} item={item} />\r\n                  ))}\r\n\r\n                  <View style={{ marginBottom: 16 }}>\r\n                    <View style={styles.totalSumWrapper}>\r\n                      <Text style={styles.totalSumLabel}>Viso:</Text>\r\n                      <Text style={styles.totalSum}>{formatCurrency(vault.debt)}</Text>\r\n                    </View>\r\n                  </View>\r\n\r\n                  <View style={styles.paymentInfo}>\r\n                    <View style={{ marginBottom: 16 }}>\r\n                      <Text style={{ textAlign: 'center' }}>{t('paymentBank')}</Text>\r\n\r\n                      <Text style={{ color: Black, fontWeight: 'bold', textAlign: 'center' }}>\r\n                        {t('specifyVaultNumber', { number: vault.order_id })}\r\n                      </Text>\r\n                    </View>\r\n\r\n                    {vault.distributor!.banks.map((item) => (\r\n                      <View key={item.number} style={{ marginBottom: 16, alignItems: 'center' }}>\r\n                        <Text style={{ fontSize: 20, color: Primary, fontWeight: 'bold' }}>\r\n                          {item.number}\r\n                        </Text>\r\n                        <Text style={{ fontSize: 12 }}>{item.name}</Text>\r\n                      </View>\r\n                    ))}\r\n                  </View>\r\n\r\n                  <View\r\n                    style={{\r\n                      marginBottom: 16,\r\n                      marginHorizontal: 36,\r\n                      borderBottomColor: LightGray,\r\n                      borderBottomWidth: 1,\r\n                      paddingTop: 0,\r\n                    }}\r\n                  />\r\n\r\n                  <View style={styles.paymentInfo}>\r\n                    <Text style={{ marginBottom: 8 }}>\r\n                      {t('serves')}{' '}\r\n                      <Text style={{ color: Black, fontWeight: 'bold' }}>{vault.distributor!.name}</Text>\r\n                    </Text>\r\n\r\n                    <Text>{t('companyNumber', { number: vault.distributor!.unique_number })}</Text>\r\n                    <Text>{t('vatNumber', { number: vault.distributor!.vat_number })}</Text>\r\n                    <Text>{t('address', { address: vault.distributor!.address })}</Text>\r\n                  </View>\r\n\r\n                  <View\r\n                    style={{\r\n                      paddingTop: 16,\r\n                      marginHorizontal: 36,\r\n                      borderBottomColor: LightGray,\r\n                      borderBottomWidth: 1,\r\n                      marginBottom: 24,\r\n                    }}\r\n                  />\r\n\r\n                  <PrimaryButton width={190} onPress={this.props.showVaultModal}>\r\n                    {t('cancel').toUpperCase()}\r\n                  </PrimaryButton>\r\n                </>\r\n              ) : (\r\n                <PrimaryButton width={190} onPress={this.showAllProducts}>\r\n                  {t('addToVault').toUpperCase()}\r\n                </PrimaryButton>\r\n              )}\r\n            </View>\r\n          </View>\r\n        </ScrollView>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n  empty: {\r\n    marginTop: 24,\r\n    marginBottom: 36,\r\n    textAlign: 'center',\r\n    fontSize: 18,\r\n    color: Gray,\r\n  },\r\n  loggingBackground: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  loadingWrapper: {\r\n    width: 68,\r\n    height: 68,\r\n    marginTop: -24,\r\n    backgroundColor: 'white',\r\n    borderRadius: 68 / 2,\r\n    elevation: 3,\r\n  },\r\n  totalSumWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 8,\r\n    paddingHorizontal: 16,\r\n  },\r\n  totalSumLabel: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: Black,\r\n  },\r\n  totalSum: {\r\n    fontSize: 26,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n  paymentInfo: {\r\n    alignItems: 'center',\r\n    marginHorizontal: 36,\r\n  },\r\n  unpaidTitle: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'baseline',\r\n    marginHorizontal: 16,\r\n  },\r\n  divider: {\r\n    paddingTop: 16,\r\n    marginBottom: 16,\r\n    marginHorizontal: 36,\r\n    borderBottomColor: LightGray,\r\n    borderBottomWidth: 1,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  vault: state.userReducer.vault,\r\n  allProducts: state.globalReducer.products,\r\n});\r\n\r\nconst localActions = {\r\n  getVault: userActions.getVault,\r\n  showVaultModal: globalActions.showVaultModal,\r\n};\r\n\r\nexport default withTranslation('vault')(connect(mapStateToProps, localActions)(VaultHome));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, ScrollView, TouchableOpacity } from 'react-native';\r\nimport { RouteComponentProps, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Item from '../VendingMachine/Item';\r\n\r\nimport { IState, ICartProduct } from '../../../StateTypes';\r\nimport Selected from '../Selected';\r\nimport userActions from '../../../actions/user';\r\n\r\ntype IVaultItemsProps = RouteComponentProps & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nclass VaultItems extends Component<IVaultItemsProps> {\r\n  getCartProductCount = (productId: number): number => {\r\n    const { cart } = this.props;\r\n\r\n    if (cart && cart[productId]) {\r\n      return cart[productId];\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { allProducts, cart, addToCart, removeFromCart } = this.props;\r\n\r\n    let cartAmount = 0;\r\n    let cartSum = 0;\r\n\r\n    const cartProducts: ICartProduct[] = [];\r\n\r\n    for (let productId in cart) {\r\n      const product = allProducts.find((product) => product.id === Number(productId))!;\r\n      const cartProduct = { ...product, amount: cart[productId] };\r\n\r\n      cartProducts.push(cartProduct);\r\n      cartAmount += cart[productId];\r\n      cartSum += cartProduct.price * cartProduct.amount;\r\n    }\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <ScrollView>\r\n          {allProducts.map((item) => (\r\n            <Item\r\n              key={item.id}\r\n              cartAmount={cartAmount}\r\n              cartSum={cartSum}\r\n              count={this.getCartProductCount(item.id)}\r\n              addToCart={addToCart}\r\n              removeFromCart={removeFromCart}\r\n              onTakeProduct={() => {}}\r\n              stock={999}\r\n              layoutType='vault'\r\n              {...item}\r\n            />\r\n          ))}\r\n        </ScrollView>\r\n        <TouchableOpacity activeOpacity={0.8}>\r\n          <Link\r\n            to='/home/vault/confirm'\r\n            style={{ pointerEvents: cartAmount <= 0 ? 'none' : 'auto', textDecoration: 'none' }}\r\n          >\r\n            <Selected type='vault' title='Saugyklos papildymas' cartAmount={cartAmount} />\r\n          </Link>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  allProducts: state.globalReducer.products,\r\n  cart: state.userReducer.vaultCart,\r\n});\r\n\r\nconst localActions = {\r\n  addToCart: userActions.addProductToVaultCart,\r\n  removeFromCart: userActions.removeProductFromVaultCart,\r\n};\r\n\r\nexport default connect(mapStateToProps, localActions)(VaultItems);\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, ScrollView } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport { RouteComponentProps } from 'react-router';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { DarkGray, Black, Gray, LightGray } from '../../../Colors';\r\nimport Item from '../CartConfirmation/Item';\r\nimport { IState, ICartProduct } from '../../../StateTypes';\r\nimport { formatCurrency } from '../../../helpers';\r\nimport userActions from '../../../actions/user';\r\nimport PrimaryButton from '../../../components/PrimaryButton';\r\n\r\ntype IVaultConfirmProps = RouteComponentProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass VaultConfirm extends Component<IVaultConfirmProps> {\r\n  render() {\r\n    const { allProducts, cart, addToCart, removeFromCart, onConfirm, t } = this.props;\r\n\r\n    let cartAmount = 0;\r\n    let cartSum = 0;\r\n\r\n    const cartProducts: ICartProduct[] = [];\r\n\r\n    for (let productId in cart) {\r\n      const product = allProducts.find((product) => product.id === Number(productId))!;\r\n      const cartProduct = { ...product, amount: cart[productId] };\r\n\r\n      cartProducts.push(cartProduct);\r\n      cartAmount += cart[productId];\r\n      cartSum += cartProduct.price * cartProduct.amount;\r\n    }\r\n\r\n    return (\r\n      <ScrollView>\r\n        <View style={{ paddingTop: 16, paddingBottom: 36 }}>\r\n          <Text style={styles.sectionTitle}>{t('confirm.addToVaultConfirm')}</Text>\r\n\r\n          {cartAmount === 0 ? (\r\n            <Text style={styles.empty}>{t('confirm.empty')}</Text>\r\n          ) : (\r\n            <>\r\n              {cartProducts.map((item) => (\r\n                <Item\r\n                  key={item.id}\r\n                  item={item}\r\n                  type='vault'\r\n                  addToCart={addToCart}\r\n                  removeFromCart={removeFromCart}\r\n                  cartAmount={cartAmount}\r\n                />\r\n              ))}\r\n\r\n              <View style={{ marginBottom: 24 }}>\r\n                <View style={styles.totalSumWrapper}>\r\n                  <Text style={styles.totalSumLabel}>{t('confirm.total')}:</Text>\r\n                  <Text style={styles.totalSum}>{formatCurrency(cartSum)}</Text>\r\n                </View>\r\n              </View>\r\n\r\n              <PrimaryButton width={180} onPress={() => onConfirm(cart)}>\r\n                {t('confirm.continue').toUpperCase()}\r\n              </PrimaryButton>\r\n            </>\r\n          )}\r\n        </View>\r\n      </ScrollView>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n  empty: {\r\n    marginTop: 48,\r\n    marginBottom: 36,\r\n    textAlign: 'center',\r\n    fontSize: 18,\r\n    color: Gray,\r\n  },\r\n  sectionTitle: {\r\n    marginLeft: 16,\r\n    color: DarkGray,\r\n  },\r\n  info: {\r\n    marginHorizontal: 36,\r\n    marginBottom: 24,\r\n    textAlign: 'center',\r\n    color: Gray,\r\n  },\r\n  endSumWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 16,\r\n  },\r\n  endSum: {\r\n    fontSize: 18,\r\n    color: Black,\r\n  },\r\n  totalSumWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginTop: 8,\r\n    paddingHorizontal: 16,\r\n  },\r\n  totalSumLabel: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: Black,\r\n  },\r\n  totalSum: {\r\n    fontSize: 26,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  allProducts: state.globalReducer.products,\r\n  cart: state.userReducer.vaultCart,\r\n  membership: state.userReducer.membership!,\r\n});\r\n\r\nconst localActions = {\r\n  addToCart: userActions.addProductToVaultCart,\r\n  removeFromCart: userActions.removeProductFromVaultCart,\r\n  onConfirm: userActions.onVaultPaymentConfirm,\r\n};\r\n\r\nexport default withTranslation('vault')(connect(mapStateToProps, localActions)(VaultConfirm));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View } from 'react-native';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Home from './Home';\r\nimport Items from './Items';\r\nimport Confirm from './Confirm';\r\n\r\nimport { DarkGray, Gray } from '../../../Colors';\r\n\r\nclass Vault extends Component {\r\n  render() {\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <Switch>\r\n          <Route exact path='/home/vault' component={Home} />\r\n          <Route path='/home/vault/items' component={Items} />\r\n          <Route path='/home/vault/confirm' component={Confirm} />\r\n        </Switch>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n  sectionTitle: {\r\n    marginLeft: 16,\r\n    color: DarkGray,\r\n  },\r\n  info: {\r\n    marginHorizontal: 36,\r\n    textAlign: 'center',\r\n    color: Gray,\r\n  },\r\n});\r\n\r\nexport default Vault;\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { StyleSheet, View, Text, Linking, TouchableOpacity, Platform } from 'react-native';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { Primary, Black, DarkGray } from '../../../Colors';\r\n\r\nlet domainName = 'artimiausias.impressbox.eu';\r\n\r\n// if (__DEV__) {\r\n//   domainName = 'artimiausias.impressbox.eu';\r\n// } else {\r\n//   domainName = 'www.artimiausias.lt';\r\n// }\r\n\r\nclass Help extends Component<WithTranslation> {\r\n  onPress = (path: string) => {\r\n    const url = `https://${domainName}${path}`;\r\n\r\n    if (Platform.OS === 'web') {\r\n      window.open(url, '_blank', 'noopener');\r\n    } else {\r\n      Linking.canOpenURL(url).then((supported) => {\r\n        if (supported) {\r\n          Linking.openURL(url);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <Text style={styles.sectionTitle}>{t('help')}</Text>\r\n        <View style={{ marginTop: 16, marginBottom: 24 }}>\r\n          <TouchableOpacity activeOpacity={0.8} onPress={() => this.onPress('/')}>\r\n            <View style={styles.link}>\r\n              <Text style={styles.linkText}>{t('about').toUpperCase()}</Text>\r\n            </View>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity activeOpacity={0.8} onPress={() => this.onPress('/privatumo-politika/')}>\r\n            <View style={styles.link}>\r\n              <Text style={styles.linkText}>{t('privacyPolicy').toUpperCase()}</Text>\r\n            </View>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity activeOpacity={0.8} onPress={() => this.onPress('/taisykles/')}>\r\n            <View style={styles.link}>\r\n              <Text style={styles.linkText}>{t('rules').toUpperCase()}</Text>\r\n            </View>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <Text style={{ fontSize: 16, textAlign: 'center', marginBottom: 8 }}>{t('emailHelp')}</Text>\r\n\r\n        <TouchableOpacity\r\n          activeOpacity={0.8}\r\n          onPress={() => window.open('mailto:info@artimiausias.lt', '_blank')}\r\n        >\r\n          <View style={styles.link}>\r\n            <Text style={styles.linkText}>info@artimiausias.lt</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  sectionTitle: {\r\n    color: DarkGray,\r\n  },\r\n  link: {\r\n    alignSelf: 'center',\r\n    alignItems: 'center',\r\n    padding: 4,\r\n    paddingTop: 0,\r\n    marginBottom: 16,\r\n    paddingHorizontal: 8,\r\n    borderBottomWidth: 4,\r\n    borderBottomColor: Primary,\r\n  },\r\n  linkText: {\r\n    fontSize: 22,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default withTranslation('help')(Help);\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { TouchableOpacity, ImageBackground, View, Image, Text, StyleSheet } from 'react-native';\r\n\r\nimport { IPaymentInstrument } from '../StateTypes';\r\nimport { Primary } from '../Colors';\r\n\r\ninterface MiniCreditCardProps {\r\n  item: IPaymentInstrument;\r\n  selected: boolean;\r\n  onSelect: () => void;\r\n}\r\n\r\nclass MiniCreditCard extends Component<MiniCreditCardProps> {\r\n  getBackgroundImage = (type: string) => {\r\n    if (type === 'Visa') {\r\n      return require('../../assets/card-visa.png');\r\n    } else if (type === 'MasterCard') {\r\n      return require('../../assets/card-mastercard.png');\r\n    } else return require('../../assets/card-unknown.png');\r\n  };\r\n\r\n  getLogo = (type: string) => {\r\n    if (type === 'Visa') {\r\n      return require('../../assets/visa.png');\r\n    } else if (type === 'MasterCard') {\r\n      return require('../../assets/mastercard.png');\r\n    } else return require('../../assets/unknown.png');\r\n  };\r\n\r\n  render() {\r\n    const { item, selected, onSelect } = this.props;\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        key={item.payment_id}\r\n        activeOpacity={0.8}\r\n        onPress={onSelect}\r\n        style={{\r\n          flexDirection: 'row',\r\n          justifyContent: 'center',\r\n          padding: 16,\r\n          backgroundColor: selected ? 'hsl(28, 87%, 95%)' : undefined,\r\n        }}\r\n      >\r\n        <View style={{ justifyContent: 'center', marginRight: 48 }}>\r\n          {selected ? (\r\n            <View style={styles.radioOuter}>\r\n              <View style={styles.radioBackground}>\r\n                <View style={styles.radioInner}></View>\r\n              </View>\r\n            </View>\r\n          ) : (\r\n            <View style={styles.radioOuter}>\r\n              <View style={styles.radioBackground}></View>\r\n            </View>\r\n          )}\r\n        </View>\r\n        <View>\r\n          <ImageBackground style={styles.imageBackground} source={this.getBackgroundImage(item.card_brand)}>\r\n            <View style={{ padding: 16, paddingTop: 8 }}>\r\n              <View\r\n                style={{\r\n                  marginBottom: 16,\r\n                  alignSelf: 'flex-end',\r\n                }}\r\n              >\r\n                <Image\r\n                  resizeMode='cover'\r\n                  style={{ height: 25, width: 35 }}\r\n                  source={this.getLogo(item.card_brand)}\r\n                />\r\n              </View>\r\n\r\n              <View style={styles.cardNumber}>\r\n                <Text style={styles.cardNumberObscured}>\r\n                  ••••{'  '}••••{'  '}••••{'  '}\r\n                </Text>\r\n                <Text style={styles.cardNumberPan}>{item.pan}</Text>\r\n              </View>\r\n\r\n              <View style={{ flexDirection: 'row' }}>\r\n                <View style={{ flex: 1, marginRight: 8 }}>\r\n                  <Text numberOfLines={1} style={styles.cardText}>\r\n                    {item.holder}\r\n                  </Text>\r\n                </View>\r\n                <View>\r\n                  <Text style={styles.cardText}>\r\n                    {item.exp_month}/{String(item.exp_year).slice(2)}\r\n                  </Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </ImageBackground>\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    padding: 16,\r\n  },\r\n  imageBackground: {\r\n    width: 175,\r\n    height: 110,\r\n  },\r\n  cardNumber: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 4,\r\n  },\r\n  cardNumberObscured: {\r\n    color: 'white',\r\n    fontSize: 18,\r\n  },\r\n  cardNumberPan: {\r\n    color: 'white',\r\n    fontSize: 14,\r\n  },\r\n  cardText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n  },\r\n  radioOuter: {\r\n    width: 38,\r\n    height: 38,\r\n    borderRadius: 19,\r\n    backgroundColor: Primary,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  radioBackground: {\r\n    width: 29,\r\n    height: 29,\r\n    borderRadius: 20,\r\n    backgroundColor: 'white',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  radioInner: {\r\n    width: 18,\r\n    height: 18,\r\n    borderRadius: 9,\r\n    backgroundColor: Primary,\r\n  },\r\n});\r\n\r\nexport default MiniCreditCard;\r\n","import React, { Component, ChangeEvent, FocusEvent } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, ScrollView, StatusBar, TouchableOpacity } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { connect } from 'react-redux';\r\nimport Cards from 'react-credit-cards';\r\nimport 'react-credit-cards/es/styles-compiled.css';\r\nimport * as valid from 'card-validator';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport MiniCreditCard from '../../components/MiniCreditCard';\r\nimport PrimaryButton from '../../components/PrimaryButton';\r\n\r\nimport paymentActions from '../../actions/payment';\r\nimport globalActions from '../../actions/global';\r\nimport { getPhoneOrientation, formatCurrency, OrientationType } from '../../helpers';\r\nimport { IState } from '../../StateTypes';\r\nimport { Red, Primary, LightGray } from '../../Colors';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport interface ICardValuesFormatted {\r\n  pan: string;\r\n  exp_month: number;\r\n  exp_year: number;\r\n  cvc: string;\r\n  holder: string;\r\n}\r\n\r\ntype ICardModalProps = WithTranslation & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\ntype Focused = 'name' | 'number' | 'expiry' | 'cvc';\r\n\r\ninterface ICardModalState {\r\n  cvc: string;\r\n  expiry: string;\r\n  focus: Focused;\r\n  name: string;\r\n  number: string;\r\n  numberValid: boolean;\r\n  expiryValid: boolean;\r\n  cvcValid: boolean;\r\n  nameValid: boolean;\r\n  orientation: OrientationType;\r\n  showCardDetails: boolean;\r\n  selectedCard: string | undefined;\r\n}\r\n\r\nclass CardModal extends Component<ICardModalProps, ICardModalState> {\r\n  state = {\r\n    cvc: '',\r\n    expiry: '',\r\n    focus: 'name' as Focused,\r\n    name: '',\r\n    number: '',\r\n    numberValid: true,\r\n    expiryValid: true,\r\n    cvcValid: true,\r\n    nameValid: true,\r\n    orientation: getPhoneOrientation(),\r\n    showCardDetails: false,\r\n    selectedCard: undefined,\r\n  };\r\n\r\n  cvcSize = 3;\r\n\r\n  numberRef = React.createRef<HTMLInputElement>();\r\n  expiryRef = React.createRef<HTMLInputElement>();\r\n  cvcRef = React.createRef<HTMLInputElement>();\r\n  nameRef = React.createRef<HTMLInputElement>();\r\n\r\n  componentDidMount() {\r\n    this.numberRef.current?.focus();\r\n    Dimensions.addEventListener('change', this.onOrientationChange);\r\n\r\n    this.onOrientationChange();\r\n  }\r\n\r\n  handleInputFocus = (e: FocusEvent<HTMLInputElement>) => {\r\n    this.setState({ focus: e.target.name as Focused });\r\n  };\r\n\r\n  handleInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n\r\n    if (name === 'number') {\r\n      let newValue = value.replace(/[A-Za-z]| /g, '');\r\n\r\n      const { card, isPotentiallyValid, isValid } = valid.number(newValue);\r\n\r\n      if (card) {\r\n        this.cvcSize = card.code.size;\r\n\r\n        if (newValue.length > Math.max(...card.lengths)) {\r\n          return;\r\n        }\r\n\r\n        for (const ky in card.gaps) {\r\n          const key = Number(ky);\r\n\r\n          if (newValue.length > card.gaps[key] + key) {\r\n            newValue = `${newValue.slice(0, card.gaps[key] + key)} ${newValue.slice(card.gaps[key] + key)}`;\r\n          }\r\n        }\r\n      } else {\r\n        if (newValue.length > 16) {\r\n          return;\r\n        }\r\n\r\n        const defaultGaps = [4, 8, 12];\r\n\r\n        for (const ky in defaultGaps) {\r\n          const key = Number(ky);\r\n\r\n          if (newValue.length > defaultGaps[key] + key) {\r\n            newValue = `${newValue.slice(0, defaultGaps[key] + key)} ${newValue.slice(\r\n              defaultGaps[key] + key\r\n            )}`;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!isPotentiallyValid) {\r\n        this.setState({ [name]: newValue, numberValid: false });\r\n      } else {\r\n        this.setState({ [name]: newValue, numberValid: true }, () => {\r\n          if (isValid && !this.isFormValid()) {\r\n            this.expiryRef.current?.focus();\r\n            this.setState({ focus: 'expiry' });\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    if (name === 'name') {\r\n      let newValue = value.replace(/[0-9]/g, '');\r\n\r\n      this.setState({ [name]: newValue, nameValid: true });\r\n    }\r\n\r\n    if (name === 'expiry') {\r\n      let newValue = value.replace(/[A-Za-z]| |\\//g, '');\r\n\r\n      const { isPotentiallyValid, isValid } = valid.expirationDate(newValue);\r\n\r\n      if (newValue.length > 6) {\r\n        return;\r\n      }\r\n\r\n      if (newValue.length > 2) {\r\n        newValue = `${newValue.slice(0, 2)}/${newValue.slice(2)}`;\r\n      }\r\n\r\n      if (!isPotentiallyValid) {\r\n        this.setState({ [name]: newValue, expiryValid: false });\r\n      } else {\r\n        this.setState({ [name]: newValue, expiryValid: true }, () => {\r\n          if (isValid && newValue.length > 4 && !this.isFormValid()) {\r\n            this.cvcRef.current?.focus();\r\n            this.setState({ focus: 'cvc' });\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    if (name === 'cvc') {\r\n      const { isPotentiallyValid, isValid } = valid.cvv(value, this.cvcSize);\r\n\r\n      if (value.length > this.cvcSize) {\r\n        return;\r\n      }\r\n\r\n      if (!isPotentiallyValid) {\r\n        this.setState({ [name]: value, cvcValid: false });\r\n      } else {\r\n        this.setState({ [name]: value, cvcValid: true }, () => {\r\n          if (isValid && !this.isFormValid()) {\r\n            this.nameRef.current?.focus();\r\n            this.setState({ focus: 'name' });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onConfirm = () => {\r\n    const { number, expiry, cvc, name } = this.state;\r\n\r\n    if (this.isFormValid()) {\r\n      const exp = expiry.split('/');\r\n      let exp_month = exp[0];\r\n      let exp_year = exp[1];\r\n      if (exp_month.startsWith('0')) {\r\n        exp_month = exp_month.slice(1);\r\n      }\r\n      exp_year = `20${exp_year}`;\r\n\r\n      const values = {\r\n        pan: number.split(' ').join(''),\r\n        holder: name.trim().toUpperCase(),\r\n        exp_month: Number(exp_month),\r\n        exp_year: Number(exp_year),\r\n        cvc,\r\n      };\r\n      this.props.onConfirm(values);\r\n    } else {\r\n      if (!valid.number(number).isValid) {\r\n        this.setState({ numberValid: false });\r\n      }\r\n\r\n      if (!valid.expirationDate(expiry).isValid) {\r\n        this.setState({ expiryValid: false });\r\n      }\r\n\r\n      if (!valid.cvv(cvc).isValid) {\r\n        this.setState({ cvcValid: false });\r\n      }\r\n\r\n      if (!(name.trim().length > 0)) {\r\n        this.setState({ nameValid: false });\r\n      }\r\n    }\r\n  };\r\n\r\n  payRecurrent = () => {\r\n    const { pastPayments, onConfirm, showToastMessage } = this.props;\r\n    const { selectedCard } = this.state;\r\n    if (selectedCard) {\r\n      const selectedPayment = pastPayments.find((item) => item.payment_id === selectedCard)!;\r\n      onConfirm(selectedPayment);\r\n    } else {\r\n      showToastMessage(`Pasirinkite kortelę`);\r\n    }\r\n  };\r\n\r\n  onOrientationChange = () => this.setState({ orientation: getPhoneOrientation() });\r\n\r\n  onCancel = () => this.props.hideCardModal();\r\n\r\n  componentWillUnmount() {\r\n    const { currentReservationId, cancelPayment } = this.props;\r\n\r\n    if (currentReservationId) {\r\n      cancelPayment();\r\n    }\r\n\r\n    Dimensions.removeEventListener('change', this.onOrientationChange);\r\n  }\r\n\r\n  isFormValid = () => {\r\n    const { isValid: numberValid } = valid.number(this.state.number);\r\n    const { isValid: expiryValid } = valid.expirationDate(this.state.expiry);\r\n    const { isValid: cvcValid } = valid.cvv(this.state.cvc);\r\n    const nameValid = this.state.name.trim().length > 0;\r\n\r\n    return numberValid && expiryValid && cvcValid && nameValid;\r\n  };\r\n\r\n  render() {\r\n    const { amount, pastPayments, t } = this.props;\r\n    const { orientation, showCardDetails, selectedCard } = this.state;\r\n    const { focus, number, name, expiry, cvc, numberValid, expiryValid, cvcValid, nameValid } = this.state;\r\n\r\n    const statusBarHeight = StatusBar.currentHeight || 0;\r\n    const isPortrait = orientation === 'portrait';\r\n\r\n    const valid = this.isFormValid();\r\n\r\n    return (\r\n      <Animatable.View\r\n        style={styles.wrapper}\r\n        animation='fadeIn'\r\n        easing='ease-out'\r\n        duration={150}\r\n        useNativeDriver\r\n      >\r\n        <ScrollView style={{ alignSelf: 'stretch' }} keyboardShouldPersistTaps='handled'>\r\n          <View\r\n            style={{\r\n              justifyContent: 'space-between',\r\n              paddingTop: isPortrait ? statusBarHeight + 24 : statusBarHeight + 12,\r\n              paddingBottom: 36,\r\n              marginHorizontal: 16,\r\n            }}\r\n          >\r\n            {pastPayments.length > 0 && !showCardDetails ? (\r\n              <>\r\n                <Text style={{ marginBottom: 16 }}>\r\n                  Pasirinkite vieną iš anksčiau naudotų kortelių arba įveskite naujus duomenis\r\n                </Text>\r\n                <View\r\n                  style={{\r\n                    marginBottom: 16,\r\n                  }}\r\n                >\r\n                  {pastPayments.map((item) => (\r\n                    <View key={item.payment_id}>\r\n                      <MiniCreditCard\r\n                        item={item}\r\n                        selected={selectedCard === item.payment_id}\r\n                        onSelect={() => this.setState({ selectedCard: item.payment_id })}\r\n                      />\r\n                      <View\r\n                        style={{\r\n                          borderBottomWidth: 1,\r\n                          borderBottomColor: LightGray,\r\n                        }}\r\n                      ></View>\r\n                    </View>\r\n                  ))}\r\n                </View>\r\n\r\n                <PrimaryButton disabled={!selectedCard} width={300} height={46} onPress={this.payRecurrent}>\r\n                  <Text style={{ fontSize: 16 }}>\r\n                    MOKĖTI <Text style={{ fontWeight: 'bold' }}>{formatCurrency(amount)}</Text>\r\n                  </Text>\r\n                </PrimaryButton>\r\n\r\n                <Text style={{ textAlign: 'center', fontSize: 14, marginVertical: 24 }}>arba</Text>\r\n\r\n                {selectedCard ? (\r\n                  <TouchableOpacity\r\n                    activeOpacity={0.8}\r\n                    style={styles.enterCardDetails}\r\n                    onPress={() => this.setState({ showCardDetails: true })}\r\n                  >\r\n                    <Text style={{ color: Primary }}>ĮVESTI NAUJUS KORTELĖS DUOMENIS</Text>\r\n                  </TouchableOpacity>\r\n                ) : (\r\n                  <PrimaryButton\r\n                    width={300}\r\n                    height={46}\r\n                    onPress={() => this.setState({ showCardDetails: true })}\r\n                  >\r\n                    ĮVESTI NAUJUS KORTELĖS DUOMENIS\r\n                  </PrimaryButton>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <View style={{ marginBottom: 12 }}>\r\n                  <Cards\r\n                    cvc={cvc}\r\n                    expiry={expiry}\r\n                    focused={focus}\r\n                    name={name}\r\n                    number={number}\r\n                    locale={{\r\n                      valid: 'VALID THRU',\r\n                    }}\r\n                    placeholders={{\r\n                      name: 'Vardas pavardė',\r\n                    }}\r\n                  />\r\n\r\n                  <View style={{ alignSelf: 'center', width: '100%', maxWidth: 600, marginTop: 24 }}>\r\n                    <TextField\r\n                      label='Kortelės numeris'\r\n                      type='text'\r\n                      name='number'\r\n                      value={number}\r\n                      onFocus={this.handleInputFocus}\r\n                      onChange={this.handleInputChange}\r\n                      autoCapitalize='none'\r\n                      variant='outlined'\r\n                      style={{ marginBottom: 12 }}\r\n                      error={!numberValid}\r\n                      helperText={!numberValid && 'Netinkamas kortelės numeris'}\r\n                      inputRef={this.numberRef}\r\n                    />\r\n\r\n                    <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                      <View style={{ width: '45%' }}>\r\n                        <TextField\r\n                          label='Galiojimo data'\r\n                          type='text'\r\n                          name='expiry'\r\n                          value={expiry}\r\n                          onFocus={this.handleInputFocus}\r\n                          onChange={this.handleInputChange}\r\n                          autoCapitalize='none'\r\n                          variant='outlined'\r\n                          style={{ marginBottom: 12 }}\r\n                          error={!expiryValid}\r\n                          helperText={!expiryValid && 'Netinakama galiojimo data'}\r\n                          inputRef={this.expiryRef}\r\n                        />\r\n                      </View>\r\n\r\n                      <View style={{ width: '45%' }}>\r\n                        <TextField\r\n                          label='Saugos kodas'\r\n                          type='number'\r\n                          name='cvc'\r\n                          value={cvc}\r\n                          onFocus={this.handleInputFocus}\r\n                          onChange={this.handleInputChange}\r\n                          autoCapitalize='none'\r\n                          variant='outlined'\r\n                          style={{ marginBottom: 12 }}\r\n                          error={!cvcValid}\r\n                          helperText={!cvcValid && 'Netinakama CVC saugos kodas'}\r\n                          inputRef={this.cvcRef}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n\r\n                    <TextField\r\n                      label='Kortelės savininkas'\r\n                      type='text'\r\n                      name='name'\r\n                      value={name}\r\n                      onFocus={this.handleInputFocus}\r\n                      onChange={this.handleInputChange}\r\n                      variant='outlined'\r\n                      style={{ marginBottom: 12 }}\r\n                      error={!nameValid}\r\n                      helperText={!nameValid && 'Užpildykite lauką'}\r\n                      inputRef={this.nameRef}\r\n                    />\r\n                  </View>\r\n                </View>\r\n\r\n                <PrimaryButton disabled={!valid} width={300} height={46} onPress={this.onConfirm}>\r\n                  <Text style={{ fontSize: 16 }}>\r\n                    MOKĖTI <Text style={{ fontWeight: 'bold' }}>{formatCurrency(amount)}</Text>\r\n                  </Text>\r\n                </PrimaryButton>\r\n              </>\r\n            )}\r\n\r\n            <TouchableOpacity activeOpacity={0.8} style={styles.cancel} onPress={this.onCancel}>\r\n              <Text style={{ color: Red }}>{t('cancel').toUpperCase()}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </ScrollView>\r\n      </Animatable.View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    position: 'absolute',\r\n\r\n    right: 0,\r\n\r\n    left: 0,\r\n    backgroundColor: 'hsl(0, 0%, 96%)',\r\n    height: Dimensions.get('window').height - 56,\r\n  },\r\n  incomplete: {\r\n    paddingVertical: 12,\r\n    marginHorizontal: -16,\r\n    marginBottom: 16,\r\n    backgroundColor: Red,\r\n  },\r\n  incompleteText: {\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    fontSize: 14,\r\n  },\r\n  enterCardDetails: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    borderRadius: 25,\r\n    width: 300,\r\n    height: 46,\r\n    backgroundColor: undefined,\r\n    borderWidth: 1,\r\n    borderColor: Primary,\r\n  },\r\n  cancel: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    borderRadius: 25,\r\n    width: 150,\r\n    height: 36,\r\n    marginTop: 24,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  amount: state.paymentReducer.cardModal.amount,\r\n  onConfirm: state.paymentReducer.cardModal.onConfirm,\r\n  pastPayments: state.paymentReducer.pastPayments,\r\n  currentReservationId: state.paymentReducer.currentReservationId,\r\n});\r\n\r\nconst localActions = {\r\n  cancelPayment: paymentActions.cancelPayment,\r\n  showToastMessage: globalActions.initToastMessage,\r\n  hideCardModal: paymentActions.hideCardModal,\r\n};\r\n\r\nexport default withTranslation()(connect(mapStateToProps, localActions)(CardModal));\r\n","import * as React from 'react';\r\nimport { PureComponent } from 'react';\r\nimport { View, Text } from 'react-native';\r\nimport { connect } from 'react-redux';\r\nimport * as Animatable from 'react-native-animatable';\r\n\r\nimport { IState } from '../StateTypes';\r\nimport globalActions from '../actions/global';\r\nimport { DarkGray } from '../Colors';\r\n\r\ntype IToastMessageProps = ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nclass ToastMessage extends PureComponent<IToastMessageProps> {\r\n  componentDidMount() {\r\n    const { hide } = this.props;\r\n\r\n    setTimeout(hide, 3000);\r\n  }\r\n\r\n  render() {\r\n    const { show, message, duration } = this.props;\r\n\r\n    if (show) {\r\n      return (\r\n        <Animatable.View animation='fadeIn' easing='ease-out' duration={200} useNativeDriver>\r\n          <View\r\n            style={{\r\n              position: 'absolute',\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              left: '50%',\r\n              transform: [{ translateX: -130 }],\r\n              bottom: 120,\r\n              paddingHorizontal: 12,\r\n              paddingVertical: 12,\r\n              backgroundColor: DarkGray,\r\n              width: 260,\r\n              borderRadius: 20,\r\n            }}\r\n          >\r\n            <Text style={{ color: 'white', textAlign: 'center' }}>{message}</Text>\r\n          </View>\r\n        </Animatable.View>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  ...state.globalReducer.toastMessage,\r\n});\r\n\r\nconst localActions = {\r\n  hide: globalActions.hideToastMessage,\r\n};\r\n\r\nexport default connect(mapStateToProps, localActions)(ToastMessage);\r\n","import React, { Component } from 'react';\r\nimport { AppState, StyleSheet, View, AppStateStatus } from 'react-native';\r\nimport { Switch, Route, RouteComponentProps, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { differenceInSeconds } from 'date-fns';\r\n\r\nimport { getCurrentTime } from '../../api';\r\n\r\nimport Drawer from './Drawer';\r\nimport NotPayed from './NotPayed';\r\nimport NotIdentified from './NotIdentified';\r\n\r\nimport VendorMap from './VendorMap';\r\nimport VendingMachine from './VendingMachine';\r\nimport CartConfirm from './CartConfirmation';\r\nimport CartCheckout from './CartCheckout';\r\n\r\nimport Settings from './Settings';\r\nimport Debt from './Debt';\r\nimport Vault from './Vault';\r\nimport Help from './Help';\r\n\r\nimport CardModal from './CardModal';\r\nimport globalActions from '../../actions/global';\r\nimport userActions from '../../actions/user';\r\nimport loginActions from '../../actions/login';\r\nimport paymentActions from '../../actions/payment';\r\nimport vendorActions from '../../actions/vendor';\r\nimport { IState } from '../../StateTypes';\r\nimport ToastMessage from '../../components/ToastMessage';\r\n\r\ntype IHomeProps = RouteComponentProps & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\ninterface IHomeState {\r\n  appState: AppStateStatus;\r\n}\r\n\r\nclass Home extends Component<IHomeProps, IHomeState> {\r\n  state = {\r\n    appState: AppState.currentState,\r\n  };\r\n\r\n  startDate = '';\r\n\r\n  componentDidMount() {\r\n    AppState.addEventListener('change', this.handleAppStateChange);\r\n  }\r\n\r\n  handleAppStateChange = async (nextAppState: AppStateStatus) => {\r\n    const { token, cancelPayment, logout } = this.props;\r\n    const { appState } = this.state;\r\n\r\n    // app going into background\r\n    if (appState === 'active' && nextAppState.match(/inactive|background/)) {\r\n      if (token) {\r\n        try {\r\n          this.startDate = (await getCurrentTime(token)).date;\r\n        } catch (e) {\r\n          console.error(e);\r\n          this.startDate = new Date().toISOString();\r\n        }\r\n      }\r\n    }\r\n\r\n    // app back from background\r\n    if (appState.match(/inactive|background/) && nextAppState === 'active') {\r\n      if (token) {\r\n        let currentDate;\r\n\r\n        try {\r\n          currentDate = (await getCurrentTime(token)).date;\r\n        } catch (e) {\r\n          console.error(e);\r\n          currentDate = new Date().toISOString();\r\n        }\r\n\r\n        const secondsInBackground = differenceInSeconds(currentDate, this.startDate);\r\n\r\n        if (secondsInBackground > 60 * 5) {\r\n          cancelPayment();\r\n          logout();\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({ appState: nextAppState });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    AppState.removeEventListener('change', this.handleAppStateChange);\r\n  }\r\n\r\n  render() {\r\n    const { identified, payed, toastMessage, loggedIn, cardModal, vaultModal } = this.props;\r\n\r\n    if (!loggedIn) {\r\n      return <Redirect to='/' />;\r\n    }\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        {!payed && <NotPayed />}\r\n        {payed && !identified && <NotIdentified />}\r\n        <View style={{ flex: 1, flexDirection: 'row' }}>\r\n          <Drawer />\r\n          <Switch>\r\n            <Route exact path='/home' component={VendorMap} />\r\n            <Route exact path='/home/machine' component={VendingMachine} />\r\n            <Route exact path='/home/cart' component={CartConfirm} />\r\n            <Route exact path='/home/cartCheckout' component={CartCheckout} />\r\n            <Route exact path='/home/debt' component={Debt} />\r\n            <Route path='/home/vault' component={Vault} />\r\n            <Route path='/home/settings' component={Settings} />\r\n            <Route exact path='/home/help' component={Help} />\r\n          </Switch>\r\n        </View>\r\n\r\n        {cardModal.show && <CardModal />}\r\n        {toastMessage.show && <ToastMessage />}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  identified: state.userReducer.identified,\r\n  payed: state.userReducer.registrationFeePayed,\r\n  takeModal: state.globalReducer.takeModal,\r\n  globalModal: state.globalReducer.globalModal,\r\n  codeModal: state.globalReducer.codeModal,\r\n  toastMessage: state.globalReducer.toastMessage,\r\n  loggedIn: state.loginReducer.loggedIn,\r\n  cardModal: state.paymentReducer.cardModal,\r\n  vaultModal: state.globalReducer.vaultModal,\r\n  token: state.loginReducer.token?.access_token,\r\n});\r\n\r\nconst localActions = {\r\n  hideTakeModal: globalActions.hideTakeModal,\r\n  hideGlobalModal: globalActions.hideGlobalModal,\r\n  hideVaultModal: globalActions.hideVaultModal,\r\n  cancelPayment: paymentActions.cancelPayment,\r\n  setUserLocation: userActions.setUserLocation,\r\n  clearPollInterval: vendorActions.clearPollInterval,\r\n  logout: loginActions.logout,\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: { flex: 1 },\r\n});\r\n\r\nexport default connect(mapStateToProps, localActions)(Home);\r\n","import * as React from 'react';\r\nimport { Component } from 'react';\r\nimport { BackHandler, View, StatusBar, Platform } from 'react-native';\r\nimport WebView from 'react-native-webview';\r\nimport { connect } from 'react-redux';\r\nimport { RouteComponentProps, Redirect } from 'react-router';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport WarningModal from '../../components/WarningModal';\r\nimport Marker from '../../components/Marker';\r\nimport Message from '../../components/Message';\r\nimport authorizeActions from '../../actions/authorize';\r\nimport paymentActions from '../../actions/payment';\r\nimport { IState } from '../../StateTypes';\r\nimport { Primary } from '../../Colors';\r\nimport AppBar from '../../components/AppBar';\r\n\r\ntype IAuthorizeProps = RouteComponentProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\ntype IAuthorizeState = {\r\n  showWarning: boolean;\r\n};\r\n\r\nclass Authorize extends Component<IAuthorizeProps, IAuthorizeState> {\r\n  state = {\r\n    showWarning: false,\r\n  };\r\n\r\n  formRef = React.createRef<HTMLFormElement>();\r\n\r\n  componentDidMount() {\r\n    const { loggedIn } = this.props;\r\n\r\n    if (loggedIn) {\r\n      StatusBar.setBackgroundColor(Primary);\r\n      BackHandler.addEventListener('hardwareBackPress', this.handleBackPress);\r\n\r\n      if (Platform.OS === 'web') {\r\n        this.formRef.current!.submit();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleBackPress = () => {\r\n    const { showWarning } = this.state;\r\n\r\n    if (showWarning) {\r\n      this.setState({ showWarning: false });\r\n    } else {\r\n      this.setState({ showWarning: true });\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  onLeave = () => {\r\n    this.props.clearPaymentPoll();\r\n    this.props.cancelPayment();\r\n    this.props.history.goBack();\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearPaymentPoll();\r\n    this.props.cancelPayment();\r\n\r\n    StatusBar.setBackgroundColor('rgba(0, 0, 0, 0.2)');\r\n    BackHandler.removeEventListener('hardwareBackPress', this.handleBackPress);\r\n  }\r\n\r\n  render() {\r\n    const { html, info, loggedIn, t } = this.props;\r\n    const { showWarning } = this.state;\r\n\r\n    if (!loggedIn) {\r\n      return <Redirect to='/' />;\r\n    }\r\n\r\n    if (!info) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        {Platform.OS === 'web' ? (\r\n          <>\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', paddingTop: 128 }}>\r\n              <View\r\n                style={{\r\n                  width: 96,\r\n                  height: 96,\r\n                  borderRadius: 96 / 2,\r\n                  backgroundColor: Primary,\r\n                  marginBottom: 8,\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                <Marker width={82} height={82} type='light' />\r\n              </View>\r\n              <Message title={`${t('authorizationPending')}...`} subtitle={t('dontCloseWindow')} />\r\n            </View>\r\n            <form target='_blank' ref={this.formRef} method='POST' action={info.url}>\r\n              {/* <button type='submit'>{t('clickHere')}</button> */}\r\n              <input type='hidden' name='PaReq' value={info.data} />\r\n              <input type='hidden' name='TermUrl' value={info.TermUrl} />\r\n              <input type='hidden' name='MD' value={info.md} />\r\n            </form>\r\n          </>\r\n        ) : (\r\n          <WebView source={{ html }} />\r\n        )}\r\n\r\n        {showWarning && (\r\n          <WarningModal\r\n            message='Ar tikrai norite nutraukti mokėjimą?'\r\n            onClose={() => this.setState({ showWarning: false })}\r\n            onLeave={this.onLeave}\r\n          />\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  html: state.authorizeReducer.html,\r\n  info: state.authorizeReducer.info,\r\n  loggedIn: state.loginReducer.loggedIn,\r\n});\r\n\r\nconst localActions = {\r\n  pollPayment: authorizeActions.pollPayment,\r\n  clearPaymentPoll: authorizeActions.clearPaymentPoll,\r\n  cancelPayment: paymentActions.cancelPayment,\r\n};\r\n\r\nexport default withTranslation('authorize')(connect(mapStateToProps, localActions)(Authorize));\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  TouchableWithoutFeedback,\r\n  TouchableHighlight,\r\n  View,\r\n  ViewStyle,\r\n  Dimensions,\r\n  ScrollView,\r\n  StatusBar,\r\n} from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\nimport CheckCircle from '@material-ui/icons/CheckCircle';\r\nimport ErrorOutline from '@material-ui/icons/ErrorOutline';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nimport globalActions from './actions/global';\r\nimport { Black, DarkGray, Primary, Green, Red, Blue } from './Colors';\r\nimport { IState } from './StateTypes';\r\nimport { connect } from 'react-redux';\r\nimport { getPhoneOrientation } from './helpers';\r\n\r\ntype IModalProps = WithTranslation &\r\n  RouteComponentProps &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\ninterface IModalState {\r\n  width: number;\r\n}\r\n\r\nclass Modal extends Component<IModalProps, IModalState> {\r\n  state = {\r\n    width: 280,\r\n  };\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener('change', this.onOrientationChange);\r\n\r\n    this.onOrientationChange();\r\n  }\r\n\r\n  onOrientationChange = () => {\r\n    if (getPhoneOrientation() === 'portrait') {\r\n      this.setState({ width: Dimensions.get('window').width - 48 });\r\n    } else {\r\n      if (Dimensions.get('window').width - 128 > 500) {\r\n        this.setState({ width: 500 });\r\n      } else {\r\n        this.setState({ width: Dimensions.get('window').width - 128 });\r\n      }\r\n    }\r\n  };\r\n\r\n  onClose = () => {\r\n    if (this.props.type !== 'init') {\r\n      this.props.hideModal();\r\n    }\r\n  };\r\n\r\n  getHeaderStyle = (backgroundColor: string): ViewStyle => {\r\n    return {\r\n      height: 96,\r\n      width: 280,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      backgroundColor,\r\n      borderTopLeftRadius: 3,\r\n      borderTopRightRadius: 3,\r\n    };\r\n  };\r\n\r\n  goToVault = () => {\r\n    this.props.hideModal();\r\n    this.props.history.push('/home/vault');\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    Dimensions.removeEventListener('change', this.onOrientationChange);\r\n  }\r\n\r\n  render() {\r\n    const { title, type, message, t } = this.props;\r\n    const { width } = this.state;\r\n\r\n    if (type === 'info_reservation') {\r\n      return (\r\n        <TouchableWithoutFeedback onPress={this.onClose}>\r\n          <Animatable.View\r\n            style={styles.background}\r\n            animation='fadeIn'\r\n            easing='ease-out'\r\n            duration={150}\r\n            useNativeDriver\r\n          >\r\n            <ScrollView style={{ marginTop: StatusBar.currentHeight }}>\r\n              <TouchableWithoutFeedback onPress={() => {}}>\r\n                <View>\r\n                  <View style={{ ...this.getHeaderStyle(Blue), width }}>\r\n                    <ErrorOutline style={{ color: 'white', fontSize: 80 }} />\r\n                  </View>\r\n\r\n                  <Animatable.View\r\n                    style={{\r\n                      width: width || 280,\r\n                      padding: 24,\r\n                      backgroundColor: 'white',\r\n                      borderBottomLeftRadius: 3,\r\n                      borderBottomRightRadius: 3,\r\n                      elevation: 10,\r\n                      paddingTop: 24,\r\n                    }}\r\n                    animation='fadeIn'\r\n                    easing='ease-out'\r\n                    duration={100}\r\n                    useNativeDriver\r\n                  >\r\n                    <Text style={styles.title}>{t(title!)}</Text>\r\n\r\n                    <Text\r\n                      style={{\r\n                        color: DarkGray,\r\n                        fontSize: 16,\r\n                        lineHeight: 22,\r\n                        textAlign: 'left',\r\n                        marginBottom: 16,\r\n                      }}\r\n                    >\r\n                      {t(message)}\r\n                    </Text>\r\n\r\n                    <View\r\n                      style={{\r\n                        flexDirection: 'row',\r\n                        justifyContent: 'flex-end',\r\n                        marginRight: -12,\r\n                        marginBottom: -16,\r\n                      }}\r\n                    >\r\n                      <TouchableHighlight\r\n                        style={styles.button}\r\n                        activeOpacity={0.8}\r\n                        onPress={this.onClose}\r\n                        underlayColor='hsl(0, 0%, 96%)'\r\n                      >\r\n                        <Text style={{ color: Primary }}>{t('common:ok').toUpperCase()}</Text>\r\n                      </TouchableHighlight>\r\n                    </View>\r\n                  </Animatable.View>\r\n                </View>\r\n              </TouchableWithoutFeedback>\r\n            </ScrollView>\r\n          </Animatable.View>\r\n        </TouchableWithoutFeedback>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <TouchableWithoutFeedback onPress={this.onClose}>\r\n        <Animatable.View\r\n          style={styles.background}\r\n          animation='fadeIn'\r\n          easing='ease-out'\r\n          duration={150}\r\n          useNativeDriver\r\n        >\r\n          <TouchableWithoutFeedback onPress={() => {}}>\r\n            <View>\r\n              {type === 'init' && (\r\n                <View style={this.getHeaderStyle('white')}>\r\n                  <CircularProgress size={50} />\r\n                </View>\r\n              )}\r\n\r\n              {type === 'success' && (\r\n                <View style={this.getHeaderStyle(Green)}>\r\n                  <CheckCircle style={{ color: 'white', fontSize: 80 }} />\r\n                </View>\r\n              )}\r\n\r\n              {type === 'failure' && (\r\n                <View style={this.getHeaderStyle(Red)}>\r\n                  <ErrorOutline style={{ color: 'white', fontSize: 80 }} />\r\n                </View>\r\n              )}\r\n\r\n              {type === 'info' && (\r\n                <View style={{ ...this.getHeaderStyle(Blue) }}>\r\n                  <ErrorOutline style={{ color: 'white', fontSize: 80 }} />\r\n                </View>\r\n              )}\r\n\r\n              <Animatable.View\r\n                style={{\r\n                  width: 280,\r\n                  padding: 24,\r\n                  backgroundColor: 'white',\r\n                  borderBottomLeftRadius: 3,\r\n                  borderBottomRightRadius: 3,\r\n                  paddingTop: type === 'init' ? 0 : 24,\r\n                  elevation: type === 'init' ? 0 : 5,\r\n                }}\r\n                animation='fadeIn'\r\n                easing='ease-out'\r\n                duration={100}\r\n                useNativeDriver\r\n              >\r\n                {title && <Text style={styles.title}>{t(title)}</Text>}\r\n                {message && (\r\n                  <Text\r\n                    style={{\r\n                      ...styles.body,\r\n                      textAlign: type === 'init' ? 'center' : 'left',\r\n                      marginBottom: type === 'init' ? 8 : 16,\r\n                    }}\r\n                  >\r\n                    {t(message)}\r\n                  </Text>\r\n                )}\r\n                {type !== 'init' && (\r\n                  <View\r\n                    style={{\r\n                      flexDirection: 'row',\r\n                      justifyContent: 'flex-end',\r\n                      marginRight: -12,\r\n                      marginBottom: -16,\r\n                    }}\r\n                  >\r\n                    <TouchableHighlight\r\n                      style={styles.button}\r\n                      activeOpacity={0.8}\r\n                      onPress={this.onClose}\r\n                      underlayColor='hsl(0, 0%, 96%)'\r\n                    >\r\n                      <Text style={{ color: Primary }}>{t('common:ok').toUpperCase()}</Text>\r\n                    </TouchableHighlight>\r\n                  </View>\r\n                )}\r\n              </Animatable.View>\r\n            </View>\r\n          </TouchableWithoutFeedback>\r\n        </Animatable.View>\r\n      </TouchableWithoutFeedback>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  background: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'hsla(0, 0%, 0%, 0.55)',\r\n  },\r\n  message: {\r\n    width: 280,\r\n    padding: 24,\r\n    backgroundColor: 'white',\r\n    borderBottomLeftRadius: 3,\r\n    borderBottomRightRadius: 3,\r\n    elevation: 10,\r\n  },\r\n  title: {\r\n    marginBottom: 12,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n    fontSize: 20,\r\n  },\r\n  body: {\r\n    color: DarkGray,\r\n    fontSize: 16,\r\n    lineHeight: 22,\r\n  },\r\n  button: {\r\n    alignSelf: 'flex-end',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 12,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  ...state.globalReducer.globalModal,\r\n});\r\n\r\nconst localActions = {\r\n  hideModal: globalActions.hideGlobalModal,\r\n};\r\n\r\nexport default withTranslation('globalModal')(connect(mapStateToProps, localActions)(withRouter(Modal)));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, AppState, AppStateStatus } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { connect } from 'react-redux';\r\nimport { differenceInSeconds } from 'date-fns';\r\n\r\nimport { Black, DarkGray, Red } from './Colors';\r\nimport { IState } from './StateTypes';\r\nimport { formatCountdown } from './helpers';\r\nimport { getCurrentTime } from './api';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\ntype ICodeModalProps = WithTranslation & ReturnType<typeof mapStateToProps>;\r\n\r\ninterface ICodeModalState {\r\n  secondsLeft: number;\r\n  show: boolean;\r\n  appState: AppStateStatus;\r\n}\r\n\r\nclass CodeModal extends Component<ICodeModalProps, ICodeModalState> {\r\n  state = {\r\n    secondsLeft: 0,\r\n    show: false,\r\n    appState: AppState.currentState,\r\n  };\r\n\r\n  startDate = '';\r\n  interval = 0;\r\n\r\n  async componentDidMount() {\r\n    const { token, lastModified } = this.props;\r\n\r\n    AppState.addEventListener('change', this.handleAppStateChange);\r\n\r\n    try {\r\n      if (token) {\r\n        const currentDate = (await getCurrentTime(token)).date;\r\n        const secondsLeft = 60 - differenceInSeconds(currentDate, lastModified);\r\n\r\n        this.setState(\r\n          {\r\n            secondsLeft: Math.max(0, secondsLeft),\r\n            show: true,\r\n          },\r\n          () => {\r\n            this.interval = setInterval(this.timerCb, 1000);\r\n          }\r\n        );\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleAppStateChange = async (nextAppState: AppStateStatus) => {\r\n    const { token } = this.props;\r\n    const { appState } = this.state;\r\n    // app going into background\r\n    if (appState === 'active' && nextAppState.match(/inactive|background/)) {\r\n      if (token) {\r\n        this.stopCountdown();\r\n        try {\r\n          this.startDate = (await getCurrentTime(token)).date;\r\n        } catch (e) {\r\n          console.error(e);\r\n          this.startDate = new Date().toISOString();\r\n        }\r\n      }\r\n    }\r\n\r\n    // app back from background\r\n    if (appState.match(/inactive|background/) && nextAppState === 'active') {\r\n      if (token) {\r\n        let currentDate;\r\n\r\n        try {\r\n          currentDate = (await getCurrentTime(token)).date;\r\n        } catch (e) {\r\n          console.error(e);\r\n          currentDate = new Date().toISOString();\r\n        }\r\n\r\n        const secondsInBackground = differenceInSeconds(currentDate, this.startDate);\r\n\r\n        this.setState(\r\n          (state) => ({\r\n            secondsLeft: Math.max(0, state.secondsLeft - secondsInBackground),\r\n          }),\r\n          () => {\r\n            this.interval = setInterval(this.timerCb, 1000);\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    this.setState({ appState: nextAppState });\r\n  };\r\n\r\n  timerCb = () => {\r\n    const { secondsLeft } = this.state;\r\n\r\n    if (secondsLeft > 0) {\r\n      this.setState((state) => ({ secondsLeft: state.secondsLeft - 1 }));\r\n    } else {\r\n      this.stopCountdown();\r\n    }\r\n  };\r\n\r\n  stopCountdown = () => {\r\n    clearInterval(this.interval);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.stopCountdown();\r\n    AppState.removeEventListener('change', this.handleAppStateChange);\r\n  }\r\n\r\n  render() {\r\n    const { code, t } = this.props;\r\n    const { secondsLeft, show } = this.state;\r\n\r\n    return (\r\n      <Animatable.View\r\n        style={styles.wrapper}\r\n        animation='fadeIn'\r\n        easing='ease-out'\r\n        duration={150}\r\n        useNativeDriver\r\n      >\r\n        <View style={styles.message}>\r\n          <Text style={styles.code}>{code}</Text>\r\n          <Text style={styles.body}>{t('enterThisCombination')}</Text>\r\n          <View style={styles.countdown}>\r\n            {show ? (\r\n              <Text style={styles.time}>{formatCountdown(secondsLeft)}</Text>\r\n            ) : (\r\n              <Text>{t('common:loading')}</Text>\r\n            )}\r\n          </View>\r\n        </View>\r\n      </Animatable.View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'hsla(0, 0%, 0%, 0.55)',\r\n  },\r\n  message: {\r\n    width: 280,\r\n    padding: 24,\r\n    backgroundColor: 'white',\r\n    elevation: 10,\r\n    borderRadius: 3,\r\n  },\r\n  code: {\r\n    color: Black,\r\n    fontSize: 80,\r\n    textAlign: 'center',\r\n    letterSpacing: -5,\r\n    lineHeight: 80,\r\n  },\r\n  body: {\r\n    marginBottom: 16,\r\n    color: DarkGray,\r\n    fontSize: 14,\r\n    lineHeight: 18,\r\n    textAlign: 'center',\r\n  },\r\n  countdown: {\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  time: {\r\n    color: Red,\r\n    fontSize: 22,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  code: state.globalReducer.codeModal.code,\r\n  lastModified: '',\r\n  token: state.loginReducer.token?.access_token,\r\n});\r\n\r\nexport default withTranslation('codeModal')(connect(mapStateToProps)(CodeModal));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, TouchableWithoutFeedback, Text, AsyncStorage } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Black, DarkGray, Red } from './Colors';\r\nimport { IState, AppLanguage } from './StateTypes';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\nimport globalActions from './actions/global';\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\ntype ILanguageModalProps = WithTranslation & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nclass LanguageModal extends Component<ILanguageModalProps> {\r\n  languages: string[];\r\n\r\n  constructor(props: ILanguageModalProps) {\r\n    super(props);\r\n    this.languages = props.i18n.languages;\r\n  }\r\n\r\n  onClose = () => {\r\n    this.props.hideLanguageModal();\r\n  };\r\n\r\n  onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { i18n, setAppLanguage, hideLanguageModal } = this.props;\r\n\r\n    i18n.changeLanguage(e.target.value);\r\n    setAppLanguage(e.target.value as AppLanguage);\r\n    hideLanguageModal();\r\n    AsyncStorage.setItem('language', e.target.value);\r\n  };\r\n\r\n  render() {\r\n    const { show, t, language } = this.props;\r\n\r\n    return (\r\n      <div style={{ display: show ? 'flex' : 'none' }}>\r\n        <TouchableWithoutFeedback onPress={this.onClose}>\r\n          <Animatable.View\r\n            style={styles.wrapper}\r\n            animation={show ? 'fadeIn' : 'fadeOut'}\r\n            easing='ease-out'\r\n            duration={150}\r\n            useNativeDriver\r\n          >\r\n            <TouchableWithoutFeedback onPress={() => {}}>\r\n              <View style={styles.message}>\r\n                <Text style={{ fontSize: 16, marginBottom: 4, color: Black }}>{t('language')}</Text>\r\n                <RadioGroup value={language} onChange={this.onChange}>\r\n                  {this.languages.map((language) => (\r\n                    <FormControlLabel\r\n                      key={language}\r\n                      value={language}\r\n                      control={<Radio color='primary' />}\r\n                      label={t(language)}\r\n                    />\r\n                  ))}\r\n                </RadioGroup>\r\n              </View>\r\n            </TouchableWithoutFeedback>\r\n          </Animatable.View>\r\n        </TouchableWithoutFeedback>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'hsla(0, 0%, 0%, 0.55)',\r\n    zIndex: 9999,\r\n  },\r\n  message: {\r\n    width: 280,\r\n    padding: 24,\r\n    backgroundColor: 'white',\r\n    elevation: 10,\r\n    borderRadius: 3,\r\n  },\r\n  code: {\r\n    color: Black,\r\n    fontSize: 80,\r\n    textAlign: 'center',\r\n    letterSpacing: -5,\r\n    lineHeight: 80,\r\n  },\r\n  body: {\r\n    marginBottom: 16,\r\n    color: DarkGray,\r\n    fontSize: 14,\r\n    lineHeight: 18,\r\n    textAlign: 'center',\r\n  },\r\n  countdown: {\r\n    height: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  time: {\r\n    color: Red,\r\n    fontSize: 22,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  show: state.globalReducer.showLanguageModal,\r\n  language: state.globalReducer.language,\r\n});\r\n\r\nconst localActions = {\r\n  setAppLanguage: globalActions.setAppLanguage,\r\n  hideLanguageModal: globalActions.hideLanguageModal,\r\n};\r\n\r\nexport default withTranslation('language')(connect(mapStateToProps, localActions)(LanguageModal));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, TouchableWithoutFeedback, TouchableHighlight, View } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport vendorActions from './actions/vendor';\r\nimport globalActions from './actions/global';\r\nimport { Black, DarkGray, Gray, Primary } from './Colors';\r\nimport { IState } from './StateTypes';\r\nimport { formatCurrency } from './helpers';\r\n\r\ntype IModalProps = RouteComponentProps &\r\n  WithTranslation &\r\n  ReturnType<typeof mapStateToProps> &\r\n  typeof localActions;\r\n\r\nclass Modal extends Component<IModalProps> {\r\n  onTake = () => {\r\n    const { vendorId, productId } = this.props;\r\n\r\n    if (this.props.location.pathname === '/home/machine') {\r\n      this.props.takeProduct(vendorId, productId);\r\n    } else {\r\n      this.props.takeProductFromReservation(productId);\r\n    }\r\n  };\r\n\r\n  onClose = () => {\r\n    this.props.hideModal();\r\n  };\r\n\r\n  render() {\r\n    const { show, allProducts, productId, vault, t } = this.props;\r\n\r\n    if (!show) {\r\n      return null;\r\n    }\r\n\r\n    const isInMachine = this.props.location.pathname === '/home/machine';\r\n    const product = allProducts.find((product) => product.id === Number(productId))!;\r\n    const hasInVault = vault.vault.some(\r\n      (item) => item.product.id === productId && item.status === 'approved'\r\n    );\r\n\r\n    return (\r\n      <TouchableWithoutFeedback onPress={this.onClose}>\r\n        <Animatable.View\r\n          style={styles.background}\r\n          animation='fadeIn'\r\n          easing='ease-out'\r\n          duration={150}\r\n          useNativeDriver\r\n        >\r\n          <TouchableWithoutFeedback onPress={() => {}}>\r\n            <View style={styles.message}>\r\n              <Text style={styles.title}>{product.name}</Text>\r\n              <Text style={styles.body}>\r\n                {isInMachine ? (\r\n                  <Text>\r\n                    {t('payment', { price: formatCurrency(product.storage_fee) })}{' '}\r\n                    {hasInVault ? '' : <Text>{t('repay')}</Text>}\r\n                  </Text>\r\n                ) : (\r\n                  t('areYouSure')\r\n                )}\r\n              </Text>\r\n              <View style={styles.buttonWrapper}>\r\n                <TouchableHighlight\r\n                  style={styles.button}\r\n                  activeOpacity={0.8}\r\n                  onPress={this.onClose}\r\n                  underlayColor='hsl(0, 0%, 96%)'\r\n                >\r\n                  <Text style={{ color: Gray }}>{t('cancel').toUpperCase()}</Text>\r\n                </TouchableHighlight>\r\n                <TouchableHighlight\r\n                  style={styles.button}\r\n                  activeOpacity={0.8}\r\n                  onPress={this.onTake}\r\n                  underlayColor='hsl(0, 0%, 96%)'\r\n                >\r\n                  <Text style={{ color: Primary }}>{t('take').toUpperCase()}</Text>\r\n                </TouchableHighlight>\r\n              </View>\r\n            </View>\r\n          </TouchableWithoutFeedback>\r\n        </Animatable.View>\r\n      </TouchableWithoutFeedback>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  background: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'hsla(0, 0%, 0%, 0.55)',\r\n  },\r\n  message: {\r\n    width: 280,\r\n    padding: 24,\r\n    backgroundColor: 'white',\r\n    elevation: 5,\r\n    borderRadius: 3,\r\n  },\r\n  title: {\r\n    marginBottom: 12,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n    fontSize: 20,\r\n  },\r\n  body: {\r\n    marginBottom: 16,\r\n    color: DarkGray,\r\n    fontSize: 16,\r\n    lineHeight: 22,\r\n  },\r\n  buttonWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    marginRight: -12,\r\n    marginBottom: -16,\r\n  },\r\n  button: {\r\n    alignSelf: 'flex-end',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 12,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  show: state.globalReducer.takeModal.show,\r\n  ...state.globalReducer.takeModal.info,\r\n  allProducts: state.globalReducer.products,\r\n  vault: state.userReducer.vault,\r\n});\r\n\r\nconst localActions = {\r\n  takeProduct: vendorActions.takeProduct,\r\n  takeProductFromReservation: vendorActions.takeProductFromReservation,\r\n  hideModal: globalActions.hideTakeModal,\r\n};\r\n\r\nexport default withTranslation('takeModal')(connect(mapStateToProps, localActions)(withRouter(Modal)));\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, TouchableWithoutFeedback, TouchableHighlight, View } from 'react-native';\r\nimport * as Animatable from 'react-native-animatable';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport globalActions from './actions/global';\r\nimport userActions from './actions/user';\r\nimport { Black, DarkGray, Gray, Red } from './Colors';\r\n\r\ntype IModalProps = WithTranslation & typeof localActions;\r\n\r\nclass VaultModal extends Component<IModalProps> {\r\n  onConfirm = () => {\r\n    this.props.deleteLastVaultOrder();\r\n    this.onClose();\r\n  };\r\n\r\n  onClose = () => this.props.hide();\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <TouchableWithoutFeedback onPress={this.onClose}>\r\n        <Animatable.View\r\n          style={styles.background}\r\n          animation='fadeIn'\r\n          easing='ease-out'\r\n          duration={150}\r\n          useNativeDriver\r\n        >\r\n          <TouchableWithoutFeedback onPress={() => {}}>\r\n            <View style={styles.message}>\r\n              <Text style={styles.title}>{t('adding')}</Text>\r\n              <Text style={styles.body}>{t('areYouSure')}</Text>\r\n              <View style={styles.buttonWrapper}>\r\n                <TouchableHighlight\r\n                  style={styles.button}\r\n                  activeOpacity={0.8}\r\n                  onPress={this.onClose}\r\n                  underlayColor='hsl(0, 0%, 96%)'\r\n                >\r\n                  <Text style={{ color: Gray }}>{t('no').toUpperCase()}</Text>\r\n                </TouchableHighlight>\r\n                <TouchableHighlight\r\n                  style={styles.button}\r\n                  activeOpacity={0.8}\r\n                  onPress={this.onConfirm}\r\n                  underlayColor='hsl(0, 0%, 96%)'\r\n                >\r\n                  <Text style={{ color: Red }}>{t('yes').toUpperCase()}</Text>\r\n                </TouchableHighlight>\r\n              </View>\r\n            </View>\r\n          </TouchableWithoutFeedback>\r\n        </Animatable.View>\r\n      </TouchableWithoutFeedback>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  background: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'hsla(0, 0%, 0%, 0.55)',\r\n  },\r\n  message: {\r\n    width: 280,\r\n    padding: 24,\r\n    backgroundColor: 'white',\r\n    elevation: 5,\r\n    borderRadius: 3,\r\n  },\r\n  title: {\r\n    marginBottom: 12,\r\n    color: Black,\r\n    fontWeight: 'bold',\r\n    fontSize: 20,\r\n  },\r\n  body: {\r\n    marginBottom: 16,\r\n    color: DarkGray,\r\n    fontSize: 16,\r\n    lineHeight: 22,\r\n  },\r\n  buttonWrapper: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    marginRight: -12,\r\n    marginBottom: -16,\r\n  },\r\n  button: {\r\n    alignSelf: 'flex-end',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 12,\r\n  },\r\n});\r\n\r\nconst localActions = {\r\n  hide: globalActions.hideVaultModal,\r\n  deleteLastVaultOrder: userActions.deleteLastVaultOrder,\r\n};\r\n\r\nexport default withTranslation('vaultModal')(connect(null, localActions)(VaultModal));\r\n","import React, { Component } from 'react';\r\nimport Svg, { Ellipse, Path } from 'react-native-svg';\r\n\r\ninterface IHeaderProp {\r\n  width?: number;\r\n  height?: number;\r\n}\r\n\r\nclass HeaderLogo extends Component<IHeaderProp> {\r\n  render() {\r\n    const { width = 180, height = 38 } = this.props;\r\n\r\n    return (\r\n      <Svg width={width} height={height} viewBox='0 0 141 32' fill='none'>\r\n        <Path\r\n          d='M129.011 0C122.93 0 118 5.02788 118 11.2295C118 11.7043 118.037 12.167 118.094 12.6257C119.035 21.3974 128.296 31.5072 128.296 31.5072C128.461 31.6956 128.62 31.8117 128.773 31.8958L128.781 31.8998L129.09 32L129.398 31.8998L129.406 31.8958C129.559 31.8117 129.718 31.6895 129.883 31.5072C129.883 31.5072 139.011 21.3794 139.93 12.6057C139.985 12.153 140.022 11.6943 140.022 11.2276C140.02 5.02788 135.092 0 129.011 0ZM129.011 18.4529C125.106 18.4529 121.928 15.2118 121.928 11.2296C121.928 7.24738 125.106 4.00633 129.011 4.00633C132.916 4.00633 136.092 7.24738 136.092 11.2296C136.092 15.2118 132.916 18.4529 129.011 18.4529Z'\r\n          fill='white'\r\n        />\r\n        <Path\r\n          d='M121.24 21.5724C124.255 27.0956 128.296 31.5072 128.296 31.5072C128.461 31.6956 128.62 31.8117 128.774 31.8958L128.781 31.8998L129.09 32L129.398 31.8998L129.406 31.8958C129.559 31.8117 129.718 31.6895 129.883 31.5072C129.883 31.5072 132.998 28.0513 135.772 23.4282C134.267 24.2472 132.757 24.8544 130.896 24.6076C128.647 24.3094 127.424 23.4282 126.134 22.5823C124.899 21.7721 123.853 20.7595 121.24 21.5724Z'\r\n          fill='#FFD7B3'\r\n        />\r\n        <Ellipse cx='130.102' cy='29.5696' rx='0.5952' ry='0.607596' fill='white' />\r\n        <Ellipse cx='128.614' cy='25.0127' rx='0.297601' ry='0.303797' fill='white' />\r\n        <Ellipse cx='131.194' cy='26.8354' rx='0.495999' ry='0.506329' fill='white' />\r\n        <Path\r\n          d='M7.5455 16.8831H2.9526L1.60753 20.5384H0.344482L4.67493 9.09045H5.83956L10.1864 20.5384H8.89056L7.5455 16.8831ZM7.16822 15.8861L5.24905 10.6689L3.31347 15.8861H7.16822ZM15.7894 15.4209H13.7062V20.5384H12.4267V9.23999H16.0518C17.2657 9.23999 18.1952 9.51691 18.8404 10.0708C19.4856 10.6246 19.8082 11.3668 19.8082 12.2972C19.8082 13.1058 19.5785 13.7704 19.1192 14.2911C18.6709 14.8006 18.0093 15.1274 17.1345 15.2714L20.858 20.5384H19.3817L15.7894 15.4209ZM13.7062 14.424H16.0518C17.7031 14.424 18.5287 13.7261 18.5287 12.3304C18.5287 11.6769 18.3155 11.1674 17.889 10.8018C17.4625 10.4252 16.8501 10.2369 16.0518 10.2369H13.7062V14.424ZM31.1576 10.2369H27.3028V20.5384H26.0234V10.2369H22.1358V9.23999H31.1576V10.2369ZM33.6516 9.23999H34.931V20.5384H33.6516V9.23999ZM49.1796 9.23999V20.5384H47.9166V16.4344L47.9658 11.3834L44.3406 16.7501H43.5205L39.8953 11.3668L39.9446 16.4344V20.5384H38.6815V9.23999H39.7969L43.9305 15.3544L48.0642 9.23999H49.1796ZM52.9382 9.23999H54.2177V20.5384H52.9382V9.23999ZM63.6272 16.8831H59.0343L57.6892 20.5384H56.4262L60.7566 9.09045H61.9213L66.2681 20.5384H64.9723L63.6272 16.8831ZM63.2499 15.8861L61.3308 10.6689L59.3952 15.8861H63.2499ZM72.757 20.8043C71.8056 20.8043 70.9964 20.616 70.3293 20.2394C69.6732 19.8628 69.1756 19.3421 68.8366 18.6775C68.5085 18.0129 68.3445 17.2431 68.3445 16.368V9.23999H69.624V16.3514C69.624 17.4369 69.8919 18.2843 70.4277 18.8935C70.9745 19.4917 71.7509 19.7908 72.757 19.7908C73.7521 19.7908 74.5176 19.4917 75.0534 18.8935C75.6002 18.2843 75.8736 17.4369 75.8736 16.3514V9.23999H77.153V16.3348C77.153 17.2209 76.9835 18.0018 76.6445 18.6775C76.3165 19.3421 75.8189 19.8628 75.1518 20.2394C74.4957 20.616 73.6974 20.8043 72.757 20.8043ZM83.6173 20.8043C82.7643 20.8043 82.0426 20.7157 81.452 20.5384C80.8615 20.3501 80.3038 20.0677 79.7789 19.6911L80.3038 18.7274C81.1677 19.4363 82.2722 19.7908 83.6173 19.7908C84.3937 19.7908 85.0334 19.5969 85.5365 19.2092C86.0395 18.8104 86.291 18.2677 86.291 17.5809C86.291 17.1711 86.1707 16.8277 85.9301 16.5508C85.6896 16.2738 85.3888 16.0523 85.028 15.8861C84.678 15.72 84.1969 15.5261 83.5845 15.3046C82.8627 15.0498 82.2777 14.8117 81.8293 14.5901C81.381 14.3575 80.9982 14.0418 80.6811 13.6431C80.3749 13.2332 80.2218 12.7126 80.2218 12.0812C80.2218 11.0954 80.5553 10.3421 81.2224 9.82153C81.9004 9.28983 82.7643 9.02399 83.8141 9.02399C84.5031 9.02399 85.1264 9.11814 85.6841 9.30645C86.2418 9.48368 86.7667 9.75506 87.2588 10.1206L86.7503 11.0677C85.8864 10.3809 84.9131 10.0375 83.8305 10.0375C83.1525 10.0375 82.5893 10.2092 82.141 10.5526C81.7036 10.8849 81.4849 11.3778 81.4849 12.0314C81.4849 12.4301 81.5997 12.768 81.8293 13.0449C82.0699 13.3108 82.3652 13.5268 82.7151 13.6929C83.065 13.8591 83.5462 14.0529 84.1586 14.2744C84.8913 14.5403 85.4818 14.7895 85.9301 15.0221C86.3785 15.2437 86.7612 15.5594 87.0784 15.9692C87.3955 16.3791 87.5541 16.9052 87.5541 17.5477C87.5541 18.2012 87.3846 18.7772 87.0455 19.2757C86.7175 19.7631 86.2527 20.1397 85.6513 20.4055C85.0608 20.6714 84.3828 20.8043 83.6173 20.8043ZM90.374 9.23999H91.6535V20.5384H90.374V9.23999ZM101.063 16.8831H96.4701L95.1251 20.5384H93.862L98.1925 9.09045H99.3571L103.704 20.5384H102.408L101.063 16.8831ZM100.686 15.8861L98.7666 10.6689L96.831 15.8861H100.686ZM108.815 20.8043C107.962 20.8043 107.24 20.7157 106.65 20.5384C106.059 20.3501 105.501 20.0677 104.977 19.6911L105.501 18.7274C106.365 19.4363 107.47 19.7908 108.815 19.7908C109.591 19.7908 110.231 19.5969 110.734 19.2092C111.237 18.8104 111.489 18.2677 111.489 17.5809C111.489 17.1711 111.368 16.8277 111.128 16.5508C110.887 16.2738 110.586 16.0523 110.226 15.8861C109.876 15.72 109.394 15.5261 108.782 15.3046C108.06 15.0498 107.475 14.8117 107.027 14.5901C106.579 14.3575 106.196 14.0418 105.879 13.6431C105.573 13.2332 105.419 12.7126 105.419 12.0812C105.419 11.0954 105.753 10.3421 106.42 9.82153C107.098 9.28983 107.962 9.02399 109.012 9.02399C109.701 9.02399 110.324 9.11814 110.882 9.30645C111.439 9.48368 111.964 9.75506 112.456 10.1206L111.948 11.0677C111.084 10.3809 110.111 10.0375 109.028 10.0375C108.35 10.0375 107.787 10.2092 107.339 10.5526C106.901 10.8849 106.682 11.3778 106.682 12.0314C106.682 12.4301 106.797 12.768 107.027 13.0449C107.268 13.3108 107.563 13.5268 107.913 13.6929C108.263 13.8591 108.744 14.0529 109.356 14.2744C110.089 14.5403 110.679 14.7895 111.128 15.0221C111.576 15.2437 111.959 15.5594 112.276 15.9692C112.593 16.3791 112.752 16.9052 112.752 17.5477C112.752 18.2012 112.582 18.7772 112.243 19.2757C111.915 19.7631 111.45 20.1397 110.849 20.4055C110.258 20.6714 109.58 20.8043 108.815 20.8043Z'\r\n          fill='white'\r\n        />\r\n      </Svg>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HeaderLogo;\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity } from 'react-native';\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\r\nimport { withTranslation, WithTranslation } from 'react-i18next';\r\n\r\nimport { DarkPrimary } from '../../Colors';\r\nimport { formatCurrency } from '../../helpers';\r\n\r\nclass Skola extends Component<RouteComponentProps & WithTranslation> {\r\n  onPress = () => {\r\n    const { location, history } = this.props;\r\n\r\n    if (location.pathname !== '/home/debt') {\r\n      history.push('/home/debt');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={{ flexDirection: 'row', marginRight: -16 }}\r\n        activeOpacity={0.8}\r\n        onPress={this.onPress}\r\n      >\r\n        <View style={styles.triangle} />\r\n        <View style={styles.amount}>\r\n          <Text style={styles.amountText}>{t('debt').toUpperCase()}</Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  triangle: {\r\n    backgroundColor: 'transparent',\r\n    borderStyle: 'solid',\r\n    borderTopWidth: 56,\r\n    borderTopColor: DarkPrimary,\r\n    borderLeftWidth: 24,\r\n    borderLeftColor: 'transparent',\r\n  },\r\n  amount: {\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    height: 56,\r\n    paddingLeft: 4,\r\n    paddingRight: 16,\r\n    backgroundColor: DarkPrimary,\r\n  },\r\n  amountText: {\r\n    color: 'white',\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default withTranslation()(withRouter(Skola));\r\n","import React, { Component } from 'react';\r\nimport { Dimensions, StyleSheet, View, TouchableOpacity, ViewStyle } from 'react-native';\r\nimport { RouteComponentProps, withRouter } from 'react-router';\r\nimport Menu from '@material-ui/icons/Menu';\r\nimport { connect } from 'react-redux';\r\n\r\nimport HeaderLogo from '../HeaderLogo';\r\nimport Skola from './Skola';\r\nimport globalActions from '../../actions/global';\r\nimport { Primary } from '../../Colors';\r\nimport { IState } from '../../StateTypes';\r\n\r\ninterface IAppBarState {\r\n  screenWidth: number;\r\n}\r\n\r\ntype IAppBarProps = RouteComponentProps & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nclass AppBar extends Component<IAppBarProps, IAppBarState> {\r\n  state = {\r\n    screenWidth: Dimensions.get('window').width,\r\n  };\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener('change', this.onOrientationChange);\r\n  }\r\n\r\n  onMenuPress = () => {\r\n    const { isDrawerOpen } = this.props;\r\n\r\n    if (isDrawerOpen) {\r\n      this.props.closeDrawer();\r\n    } else {\r\n      this.props.openDrawer();\r\n    }\r\n  };\r\n\r\n  getLogoStyle = (screenWidth: number): ViewStyle => ({\r\n    position: 'absolute',\r\n    left: '50%',\r\n    transform: [{ translateX: -90 }],\r\n  });\r\n\r\n  onOrientationChange = () => {\r\n    this.setState({ screenWidth: Dimensions.get('window').width });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    Dimensions.removeEventListener('change', this.onOrientationChange);\r\n  }\r\n\r\n  render() {\r\n    const { debt, location } = this.props;\r\n    const { screenWidth } = this.state;\r\n\r\n    if (location.pathname === '/' || location.pathname === '/login' || location.pathname === '/register') {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <View style={{ backgroundColor: Primary }}>\r\n        <View style={styles.wrapper}>\r\n          {screenWidth < 1000 ? (\r\n            <TouchableOpacity\r\n              style={{ padding: 8, marginLeft: -8 }}\r\n              activeOpacity={0.8}\r\n              onPress={this.onMenuPress}\r\n            >\r\n              <Menu style={{ color: 'white', fontSize: 24 }} />\r\n            </TouchableOpacity>\r\n          ) : (\r\n            <View />\r\n          )}\r\n\r\n          <View style={this.getLogoStyle(screenWidth)}>\r\n            <HeaderLogo />\r\n          </View>\r\n\r\n          {debt !== undefined && debt > 0 && <Skola />}\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    width: '100%',\r\n    maxWidth: 1000,\r\n    height: 56,\r\n    paddingHorizontal: 16,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  isDrawerOpen: state.globalReducer.isDrawerOpen,\r\n  debt: state.userReducer.membership?.debt,\r\n});\r\n\r\nconst localActions = {\r\n  openDrawer: globalActions.openDrawer,\r\n  closeDrawer: globalActions.closeDrawer,\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, localActions)(AppBar));\r\n","import { ActionType } from 'typesafe-actions';\r\n\r\nimport { actions as loginActions } from './login';\r\nimport { actions as userActions } from './user';\r\nimport { actions as globalActions } from './global';\r\nimport { actions as vendorActions } from './vendor';\r\nimport { actions as paymentActions } from './payment';\r\nimport { actions as authorizeActions } from './authorize';\r\n\r\nexport const actions = {\r\n  ...loginActions,\r\n  ...userActions,\r\n  ...globalActions,\r\n  ...vendorActions,\r\n  ...paymentActions,\r\n  ...authorizeActions\r\n};\r\n\r\nexport type Action = ActionType<typeof actions>;\r\n","import { RouterState } from 'connected-react-router';\r\nimport { ICardValuesFormatted } from './pages/Home/CardModal';\r\nimport { IAuthInfo } from './api/types';\r\n\r\nexport interface IPosition {\r\n  lat: number;\r\n  lng: number;\r\n}\r\n\r\nexport interface ILocation {\r\n  latitude: number;\r\n  longitude: number;\r\n}\r\n\r\nexport interface IRegion extends ILocation {\r\n  latitudeDelta: number;\r\n  longitudeDelta: number;\r\n}\r\n\r\nexport interface IProduct {\r\n  id: number;\r\n  name: string;\r\n  type: string;\r\n  proof: number;\r\n  volume: number;\r\n  price: number;\r\n  cover: string;\r\n  product_code: number;\r\n  storage_fee: number;\r\n  reservation_fee: number;\r\n}\r\n\r\nexport interface IVendorProduct extends IProduct {\r\n  stock: number;\r\n}\r\n\r\nexport interface ICartProduct extends IProduct {\r\n  amount: number;\r\n}\r\n\r\nexport interface IVaultProduct extends ICartProduct {\r\n  status: 'approved' | 'pending';\r\n}\r\n\r\nexport interface IVendor {\r\n  id: number;\r\n  name: string;\r\n  address: string;\r\n  latitude: number;\r\n  longitude: number;\r\n  products: number[];\r\n}\r\n\r\nexport type IMarker = IVendor;\r\n\r\nexport interface ICartProducts {\r\n  [productId: number]: number;\r\n}\r\n\r\nexport interface ICarts {\r\n  [vendorId: string]: ICartProducts;\r\n}\r\n\r\nexport interface ICredentials {\r\n  username: string;\r\n  client_id: string;\r\n  client_secret: string;\r\n  verify_url?: string;\r\n  registration_fee_paid: boolean;\r\n}\r\n\r\nexport type PaymentType = 'registration' | 'service' | 'debt' | 'vault';\r\n\r\n// Login\r\nexport interface IToken {\r\n  access_token: string;\r\n  refresh_token: string;\r\n  expires_in: number;\r\n  token_type: string;\r\n  scope: string;\r\n}\r\n\r\nexport interface ILoginError {\r\n  email?: string;\r\n  auth?: string;\r\n}\r\n\r\nexport interface ILoginState {\r\n  loggedIn: boolean;\r\n  loggingIn: boolean;\r\n  token: IToken | null;\r\n  reidentification: boolean;\r\n  error: ILoginError | undefined;\r\n}\r\n\r\nexport const LoginInitial: ILoginState = {\r\n  loggedIn: false,\r\n  loggingIn: false,\r\n  token: null,\r\n  reidentification: false,\r\n  error: undefined,\r\n};\r\n\r\n// User\r\nexport interface IUserMembership {\r\n  id: number;\r\n  name: string;\r\n  credit: number;\r\n  max_items: number;\r\n  ttc: number;\r\n  debt: number;\r\n  distributor: {\r\n    banks: { name: string; number: string }[];\r\n    name: string;\r\n    address: string;\r\n    unique_number: string;\r\n    vat_number: string;\r\n  };\r\n  products?: {\r\n    [key: string]: number;\r\n  }[];\r\n  order_id?: string;\r\n}\r\n\r\nexport interface IUserVault {\r\n  vault: IVaultItem[];\r\n  distributor?: {\r\n    banks: { name: string; number: string }[];\r\n    name: string;\r\n    address: string;\r\n    unique_number: string;\r\n    vat_number: string;\r\n  };\r\n  debt?: number;\r\n  products?: {\r\n    [key: string]: number;\r\n  }[];\r\n  order_id?: string;\r\n}\r\n\r\nexport interface IReservation {\r\n  id: number;\r\n  created_at: string;\r\n  last_modified: string;\r\n  products: { product: number; quantity: number }[];\r\n  user: number;\r\n  status: number;\r\n  vendor: number;\r\n  vended: string | null;\r\n  errors: string | null;\r\n}\r\n\r\nexport interface ICreateUserError {\r\n  email?: string;\r\n  password?: string;\r\n}\r\n\r\nexport interface IVaultItem {\r\n  product: IProduct;\r\n  status: 'approved' | 'pending';\r\n}\r\n\r\nexport interface IUserState {\r\n  location: ILocation;\r\n  membership: IUserMembership | null;\r\n  email: string;\r\n  username: string;\r\n  reservations: IReservation[];\r\n  carts: ICarts;\r\n  creatingUser: boolean;\r\n  error: ICreateUserError | undefined;\r\n  identified: boolean;\r\n  registrationFeePayed: boolean;\r\n  vault: IUserVault;\r\n  vaultCart: ICartProducts;\r\n}\r\n\r\nexport const UserInitial: IUserState = {\r\n  location: {\r\n    latitude: 0,\r\n    longitude: 0,\r\n  },\r\n  email: '',\r\n  username: '',\r\n  membership: null,\r\n  reservations: [],\r\n  carts: {},\r\n  creatingUser: false,\r\n  error: undefined,\r\n  identified: true,\r\n  registrationFeePayed: false,\r\n  vault: {} as IUserVault,\r\n  vaultCart: {},\r\n};\r\n\r\n// Global\r\nexport interface ICodeModal {\r\n  show: boolean;\r\n  code: string;\r\n}\r\n\r\nexport const CodeModalInitial: ICodeModal = {\r\n  show: false,\r\n  code: '',\r\n};\r\n\r\nexport interface ITakeModalInfo {\r\n  vendorId: number;\r\n  productId: number;\r\n}\r\n\r\nexport interface ITakeModal {\r\n  show: boolean;\r\n  info: ITakeModalInfo;\r\n}\r\n\r\nexport const TakeModalInitial: ITakeModal = {\r\n  show: false,\r\n  info: { vendorId: 0, productId: 0 },\r\n};\r\n\r\nexport type IGlobalModalType = 'init' | 'success' | 'failure' | 'info' | 'info_reservation';\r\n\r\nexport interface IGlobalModalBody {\r\n  title?: string;\r\n  message: string;\r\n}\r\n\r\nexport interface IGlobalModal extends IGlobalModalBody {\r\n  show: boolean;\r\n  type: IGlobalModalType;\r\n}\r\n\r\nexport const GlobalModalInitial: IGlobalModal = {\r\n  show: false,\r\n  type: 'init',\r\n  title: undefined,\r\n  message: '',\r\n};\r\n\r\nexport interface IFees {\r\n  debt_extra_percents: number;\r\n  debt_extra_fixed: number;\r\n}\r\n\r\nexport interface IToastMessage {\r\n  show: boolean;\r\n  message: string;\r\n  duration: number;\r\n}\r\n\r\nexport const ToastMessageInitial: IToastMessage = {\r\n  show: false,\r\n  message: '',\r\n  duration: 0,\r\n};\r\n\r\nexport interface IVaultModal {\r\n  show: boolean;\r\n}\r\n\r\nexport const VaultModalInitial: IVaultModal = {\r\n  show: false,\r\n};\r\n\r\nexport type AppLanguage = 'lt' | 'en';\r\n\r\nexport interface IGlobalState {\r\n  vaultModal: IVaultModal;\r\n  takeModal: ITakeModal;\r\n  globalModal: IGlobalModal;\r\n  codeModal: ICodeModal;\r\n  vendors: IVendor[];\r\n  products: IProduct[];\r\n  selectedVendor: IVendor | null;\r\n  isDrawerOpen: boolean;\r\n  fees: IFees | undefined;\r\n  userConfirmName: {\r\n    firstName: string;\r\n    lastName: string;\r\n  };\r\n  toastMessage: IToastMessage;\r\n  locationEnabled: boolean;\r\n  showLanguageModal: boolean;\r\n  language: AppLanguage;\r\n}\r\n\r\nexport const GlobalInitial: IGlobalState = {\r\n  takeModal: TakeModalInitial,\r\n  vaultModal: VaultModalInitial,\r\n  globalModal: GlobalModalInitial,\r\n  codeModal: CodeModalInitial,\r\n  vendors: [],\r\n  products: [],\r\n  selectedVendor: null,\r\n  isDrawerOpen: false,\r\n  fees: undefined,\r\n  userConfirmName: {\r\n    firstName: '',\r\n    lastName: '',\r\n  },\r\n  toastMessage: ToastMessageInitial,\r\n  locationEnabled: false,\r\n  showLanguageModal: false,\r\n  language: 'lt',\r\n};\r\n\r\n// Vendor\r\nexport interface IVendorState {\r\n  products: IVendorProduct[];\r\n}\r\n\r\nexport const VendorInitial: IVendorState = {\r\n  products: [],\r\n};\r\n\r\n// Payment\r\nexport interface ICardModal {\r\n  show: boolean;\r\n  amount: number;\r\n  onConfirm: (values: ICardValuesFormatted | IPaymentInstrument) => void;\r\n}\r\n\r\nexport const CardModalInitial = {\r\n  show: false,\r\n  amount: 0,\r\n  onConfirm: () => {},\r\n};\r\n\r\nexport interface IPaymentInstrument {\r\n  exp_month: number;\r\n  exp_year: number;\r\n  holder: string;\r\n  pan: string;\r\n  card_brand: string;\r\n  payment_id: string;\r\n}\r\n\r\nexport interface IPaymentState {\r\n  cardModal: ICardModal;\r\n  currentReservationId: number | null;\r\n  pastPayments: IPaymentInstrument[];\r\n}\r\n\r\nexport const PaymentInitial: IPaymentState = {\r\n  cardModal: CardModalInitial,\r\n  currentReservationId: null,\r\n  pastPayments: [],\r\n};\r\n\r\nexport interface IAuthorizeState {\r\n  html: string;\r\n  info: IAuthInfo | null;\r\n}\r\n\r\nexport const AuthorizeInitial: IAuthorizeState = {\r\n  html: '',\r\n  info: null,\r\n};\r\n\r\n// All\r\nexport interface IState {\r\n  loginReducer: ILoginState;\r\n  userReducer: IUserState;\r\n  globalReducer: IGlobalState;\r\n  vendorReducer: IVendorState;\r\n  paymentReducer: IPaymentState;\r\n  authorizeReducer: IAuthorizeState;\r\n  router: RouterState;\r\n}\r\n","import { getType } from 'typesafe-actions';\r\n\r\nimport { actions, Action } from '../actions';\r\nimport { ILoginState, LoginInitial } from '../StateTypes';\r\n\r\nexport default function loginReducer(state = LoginInitial, action: Action): ILoginState {\r\n  switch (action.type) {\r\n    case getType(actions.resetLoginFormErrors):\r\n      return { ...state, error: undefined };\r\n    case getType(actions.loginInit):\r\n      return { ...state, loggingIn: true };\r\n    case getType(actions.loginSuccess):\r\n      return {\r\n        ...state,\r\n        loggingIn: state.reidentification ? false : state.loggedIn,\r\n        loggedIn: true,\r\n        error: undefined,\r\n        token: action.payload.token\r\n      };\r\n    case getType(actions.fetchAppDataSuccess):\r\n      return { ...state, loggingIn: false };\r\n    case getType(actions.loginFailure):\r\n      return {\r\n        ...state,\r\n        loggingIn: false,\r\n        error: action.payload\r\n      };\r\n    case getType(actions.logout):\r\n      return LoginInitial;\r\n    case getType(actions.createUserSuccess):\r\n      return { ...state, error: undefined };\r\n    case getType(actions.setReidentification):\r\n      return { ...state, reidentification: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { getType } from 'typesafe-actions';\r\n\r\nimport { actions, Action } from '../actions';\r\nimport { IUserState, UserInitial } from '../StateTypes';\r\n\r\nexport default function userReducer(state = UserInitial, action: Action): IUserState {\r\n  switch (action.type) {\r\n    case getType(actions.resetRegisterFormErrors):\r\n      return { ...state, error: undefined };\r\n    case getType(actions.setIdentified):\r\n      return { ...state, identified: action.payload };\r\n    case getType(actions.setPayed):\r\n      return { ...state, registrationFeePayed: action.payload };\r\n    case getType(actions.registrationPaymentSuccess):\r\n      return {\r\n        ...state,\r\n        registrationFeePayed: true,\r\n      };\r\n    case getType(actions.createUserInit):\r\n      return { ...state, creatingUser: true };\r\n    case getType(actions.createUserSuccess):\r\n      return { ...state, creatingUser: false };\r\n    case getType(actions.createUserFailure):\r\n      return { ...state, creatingUser: false, error: action.payload };\r\n    case getType(actions.loginSuccess):\r\n      return { ...state, email: action.payload.email, username: action.payload.username };\r\n    case getType(actions.setUserLocation):\r\n      return { ...state, location: action.payload };\r\n    case getType(actions.setUserReservations):\r\n      return { ...state, reservations: action.payload };\r\n    case getType(actions.fetchAppDataSuccess):\r\n    case getType(actions.fetchUserDataSuccess):\r\n      const { membership, reservations } = action.payload;\r\n      return { ...state, membership, reservations };\r\n    case getType(actions.addVendedProduct):\r\n      const newReservations = [...state.reservations];\r\n      const { vended } = newReservations[0];\r\n      newReservations[0].vended = `${vended ? vended : ''}${action.payload},`;\r\n\r\n      return { ...state, reservations: newReservations };\r\n    case getType(actions.addProductToCart): {\r\n      const { vendorId, productId, count } = action.payload;\r\n\r\n      let carts = { ...state.carts };\r\n      let cart = { ...state.carts[vendorId] };\r\n\r\n      if (cart) {\r\n        if (cart[productId]) {\r\n          cart[productId] = cart[productId] + count;\r\n        } else {\r\n          cart[productId] = count;\r\n        }\r\n      } else {\r\n        cart = { [productId]: count };\r\n      }\r\n\r\n      carts[vendorId] = cart;\r\n\r\n      return { ...state, carts };\r\n    }\r\n    case getType(actions.removeProductFromCart): {\r\n      const { vendorId, productId, count } = action.payload;\r\n\r\n      let carts = { ...state.carts };\r\n      let cart = { ...state.carts[vendorId] };\r\n\r\n      if (cart) {\r\n        if (cart[productId] && cart[productId] > count) {\r\n          cart[productId] = cart[productId] - count;\r\n        } else if (cart[productId] && cart[productId] === count) {\r\n          delete cart[productId];\r\n        }\r\n\r\n        if (Object.keys(cart).length === 0) {\r\n          delete carts[vendorId];\r\n        } else {\r\n          carts[vendorId] = cart;\r\n        }\r\n      }\r\n\r\n      return { ...state, carts };\r\n    }\r\n    case getType(actions.resetCart):\r\n      return { ...state, carts: {} };\r\n    case getType(actions.addProductToVaultCart): {\r\n      const { productId, count } = action.payload;\r\n\r\n      let vaultCart = { ...state.vaultCart };\r\n\r\n      if (vaultCart[productId]) {\r\n        vaultCart[productId] = vaultCart[productId] + count;\r\n      } else {\r\n        vaultCart[productId] = count;\r\n      }\r\n\r\n      return { ...state, vaultCart };\r\n    }\r\n    case getType(actions.removeProductFromVaultCart): {\r\n      const { productId, count } = action.payload;\r\n\r\n      let vaultCart = { ...state.vaultCart };\r\n\r\n      if (vaultCart[productId] && vaultCart[productId] > count) {\r\n        vaultCart[productId] = vaultCart[productId] - count;\r\n      } else if (vaultCart[productId] && vaultCart[productId] === count) {\r\n        delete vaultCart[productId];\r\n      }\r\n\r\n      return { ...state, vaultCart };\r\n    }\r\n    case getType(actions.setVault): {\r\n      return { ...state, vault: action.payload };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const vendors = [\r\n  {\r\n    id: 2,\r\n    name: 'ARTIMIAUSIAS_001_DEV',\r\n    address: 'Mindaugo g. 23A',\r\n    latitude: 54.674349,\r\n    longitude: 25.273856,\r\n    products: [2, 1],\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'ARTIMIAUSIAS_002_DEV',\r\n    address: 'Naugarduko g. 23A',\r\n    latitude: 54.673073,\r\n    longitude: 25.265103,\r\n    products: [2, 1, 2, 2],\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'ARTIMIAUSIAS_003_DEV',\r\n    address: 'Naugarduko g. 23A',\r\n    latitude: 54.674073,\r\n    longitude: 25.266,\r\n    products: [2, 1, 2, 2],\r\n  },\r\n  {\r\n    id: 5,\r\n    name: 'ARTIMIAUSIAS_004_DEV',\r\n    address: 'Naugarduko g. 23A',\r\n    latitude: 54.6742,\r\n    longitude: 25.2666,\r\n    products: [2, 1, 2, 2],\r\n  },\r\n];\r\n","import { getType } from 'typesafe-actions';\r\n\r\nimport { actions, Action } from '../actions';\r\nimport {\r\n  IGlobalState,\r\n  GlobalInitial,\r\n  TakeModalInitial,\r\n  GlobalModalInitial,\r\n  CodeModalInitial,\r\n  ToastMessageInitial,\r\n  VaultModalInitial,\r\n} from '../StateTypes';\r\nimport { vendors } from '../mockups';\r\n\r\nexport default function globalReducer(state = GlobalInitial, action: Action): IGlobalState {\r\n  switch (action.type) {\r\n    case getType(actions.showTakeModal):\r\n      return { ...state, takeModal: { show: true, info: action.payload } };\r\n    case getType(actions.hideTakeModal):\r\n      return { ...state, takeModal: TakeModalInitial };\r\n    case getType(actions.showVaultModal):\r\n      return { ...state, vaultModal: { show: true } };\r\n    case getType(actions.hideVaultModal):\r\n      return { ...state, vaultModal: VaultModalInitial };\r\n    case getType(actions.showGlobalModal):\r\n      return { ...state, globalModal: action.payload };\r\n    case getType(actions.hideGlobalModal):\r\n      return { ...state, globalModal: GlobalModalInitial };\r\n    case getType(actions.showCodeModal):\r\n      return { ...state, codeModal: { show: true, code: action.payload } };\r\n    case getType(actions.hideCodeModal):\r\n      return { ...state, codeModal: CodeModalInitial };\r\n    case getType(actions.createUserSuccess):\r\n      return {\r\n        ...state,\r\n        globalModal: {\r\n          show: true,\r\n          type: 'success',\r\n          title: 'createUserSuccessTitle',\r\n          message: 'createUserSuccessMessage',\r\n        },\r\n      };\r\n\r\n    case getType(actions.paymentSuccess):\r\n      return {\r\n        ...state,\r\n        globalModal: {\r\n          show: true,\r\n          type: 'success',\r\n          title: 'paymentSuccessTitle',\r\n          message: 'paymentSuccessMessage',\r\n        },\r\n      };\r\n\r\n    case getType(actions.registrationPaymentSuccess):\r\n      return {\r\n        ...state,\r\n        globalModal: {\r\n          show: true,\r\n          type: 'success',\r\n          title: 'registrationPaymentSuccessTitle',\r\n          message: 'registrationPaymentSuccessMessage',\r\n        },\r\n      };\r\n\r\n    case getType(actions.paymentFailure):\r\n      return {\r\n        ...state,\r\n        globalModal: {\r\n          show: true,\r\n          type: 'failure',\r\n          title: 'paymentFailureTitle',\r\n          message: 'paymentFailureMessage',\r\n        },\r\n      };\r\n\r\n    case getType(actions.showReservationInfoModal):\r\n      return {\r\n        ...state,\r\n        globalModal: {\r\n          show: true,\r\n          type: 'info_reservation',\r\n          title: 'reservationInfoTitle',\r\n          message: 'reservationInfoMessage',\r\n        },\r\n      };\r\n\r\n    case getType(actions.showToastMessage):\r\n      return { ...state, toastMessage: { show: true, ...action.payload } };\r\n    case getType(actions.hideToastMessage):\r\n      return { ...state, toastMessage: ToastMessageInitial };\r\n\r\n    case getType(actions.createReservationInit):\r\n    case getType(actions.paymentInit):\r\n    case getType(actions.vendInit):\r\n      return {\r\n        ...state,\r\n        takeModal: TakeModalInitial,\r\n        globalModal: { show: true, type: 'init', title: undefined, message: 'working' },\r\n      };\r\n    case getType(actions.vendSuccess):\r\n      return {\r\n        ...state,\r\n        globalModal: {\r\n          show: true,\r\n          type: 'success',\r\n          title: 'vendSuccessTitle',\r\n          message: 'vendSuccessMessage',\r\n        },\r\n      };\r\n\r\n    case getType(actions.showGlobalErrorModal):\r\n    case getType(actions.fetchUserDataFailure):\r\n    case getType(actions.fetchAppDataFailure):\r\n    case getType(actions.fetchVendorProductsFailure):\r\n    case getType(actions.createReservationFailure):\r\n    case getType(actions.vendFailure):\r\n      return {\r\n        ...state,\r\n        takeModal: TakeModalInitial,\r\n        globalModal: { show: true, type: 'failure', ...action.payload },\r\n      };\r\n\r\n    case getType(actions.openDrawer):\r\n      return { ...state, isDrawerOpen: true };\r\n    case getType(actions.closeDrawer):\r\n      return { ...state, isDrawerOpen: false };\r\n\r\n    case getType(actions.fetchAppDataSuccess):\r\n      return { ...state, vendors: vendors, products: action.payload.products };\r\n    //return { ...state, vendors: action.payload.vendors, products: action.payload.products };\r\n\r\n    case getType(actions.setSelectedVendor):\r\n      return { ...state, selectedVendor: action.payload };\r\n    case getType(actions.setFees):\r\n      return { ...state, fees: action.payload };\r\n    case getType(actions.setLocationEnabled):\r\n      return { ...state, locationEnabled: action.payload };\r\n    case getType(actions.showLanguageModal):\r\n      return { ...state, showLanguageModal: true };\r\n    case getType(actions.hideLanguageModal):\r\n      return { ...state, showLanguageModal: false };\r\n    case getType(actions.setAppLanguage):\r\n      return { ...state, language: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { getType } from 'typesafe-actions';\r\n\r\nimport { actions, Action } from '../actions';\r\nimport { IVendorState, VendorInitial } from '../StateTypes';\r\n\r\nexport default function vendorReducer(state = VendorInitial, action: Action): IVendorState {\r\n  switch (action.type) {\r\n    case getType(actions.fetchVendorProductsSuccess):\r\n      return { ...state, products: action.payload };\r\n    case getType(actions.fetchVendorProductsFailure):\r\n      return { ...state, products: [] };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { getType } from 'typesafe-actions';\r\n\r\nimport { actions, Action } from '../actions';\r\nimport { IPaymentState, PaymentInitial, CardModalInitial } from '../StateTypes';\r\n\r\nexport default function paymentReducer(state = PaymentInitial, action: Action): IPaymentState {\r\n  switch (action.type) {\r\n    case getType(actions.showCardModal):\r\n      return { ...state, cardModal: { show: true, ...action.payload } };\r\n    case getType(actions.hideCardModal):\r\n    case getType(actions.registrationPaymentSuccess):\r\n    case getType(actions.reservationPaymentSuccess):\r\n    case getType(actions.paymentFailure):\r\n      return { ...state, cardModal: CardModalInitial };\r\n    case getType(actions.setCurrentReservationId):\r\n      return { ...state, currentReservationId: action.payload };\r\n    case getType(actions.setPastPayments):\r\n      return { ...state, pastPayments: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { getType } from 'typesafe-actions';\r\n\r\nimport { actions, Action } from '../actions';\r\nimport { IAuthorizeState, AuthorizeInitial } from '../StateTypes';\r\n\r\nexport default function authorizeReducer(state = AuthorizeInitial, action: Action): IAuthorizeState {\r\n  switch (action.type) {\r\n    case getType(actions.setHTML):\r\n      return { ...state, html: action.payload };\r\n    case getType(actions.setParameters):\r\n      return { ...state, info: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { connectRouter } from 'connected-react-router';\r\nimport { combineReducers } from 'redux';\r\nimport { History } from 'history';\r\n\r\nimport loginReducer from './login';\r\nimport userReducer from './user';\r\nimport globalReducer from './global';\r\nimport vendorReducer from './vendor';\r\nimport paymentReducer from './payment';\r\nimport authorizeReducer from './authorize';\r\n\r\nconst rootReducer = (history: History) =>\r\n  combineReducers({\r\n    loginReducer,\r\n    userReducer,\r\n    globalReducer,\r\n    vendorReducer,\r\n    paymentReducer,\r\n    authorizeReducer,\r\n    router: connectRouter(history),\r\n  });\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createBrowserHistory } from 'history';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from '../reducers';\r\n\r\nexport const history = createBrowserHistory({});\r\nconst router = routerMiddleware(history);\r\n\r\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport function configureStore() {\r\n  return createStore(rootReducer(history), composeEnhancers(applyMiddleware(thunk, router)));\r\n}\r\n","import React, { Component } from 'react';\r\nimport { StatusBar, StyleSheet, View, AsyncStorage, Dimensions } from 'react-native';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport { connect } from 'react-redux';\r\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core';\r\nimport { WithTranslation, withTranslation } from 'react-i18next';\r\nimport * as Updates from 'expo-updates';\r\n\r\nimport Splash from './pages/Splash';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport Identification from './pages/Identification';\r\nimport Home from './pages/Home';\r\nimport Authorize from './pages/Authorize';\r\n\r\nimport GlobalModal from './GlobalModal';\r\nimport CodeModal from './CodeModal';\r\nimport LanguageModal from './LanguageModal';\r\nimport TakeModal from './TakeModal';\r\nimport VaultModal from './VaultModal';\r\n\r\nimport AppBar from './components/AppBar';\r\n\r\nimport globalActions from './actions/global';\r\nimport paymentActions from './actions/payment';\r\nimport { configureStore, history } from './store/configureStore';\r\nimport { IState, AppLanguage } from './StateTypes';\r\nimport { Primary, Accent } from './Colors';\r\n\r\nconst store = configureStore();\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: Primary,\r\n    },\r\n    secondary: {\r\n      main: Accent,\r\n    },\r\n  },\r\n});\r\n\r\ntype AppProps = WithTranslation & ReturnType<typeof mapStateToProps> & typeof localActions;\r\n\r\nclass App extends Component<AppProps> {\r\n  async componentDidMount() {\r\n    const { i18n, setAppLanguage } = this.props;\r\n\r\n    StatusBar.setBackgroundColor('rgba(0, 0, 0, 0.2)');\r\n    StatusBar.setTranslucent(true);\r\n\r\n    try {\r\n      const language = await AsyncStorage.getItem('language');\r\n\r\n      if (language) {\r\n        i18n.changeLanguage(language);\r\n        setAppLanguage(language as AppLanguage);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n\r\n    history.listen(this.handleBackPress);\r\n  }\r\n\r\n  handleBackPress = (location: any, action: 'PUSH' | 'POP' | 'REPLACE') => {\r\n    const { takeModal, globalModal, cardModal, vaultModal } = this.props;\r\n    const { hideTakeModal, hideGlobalModal, hideVaultModal, hideCardModal } = this.props;\r\n\r\n    if (cardModal.show) {\r\n      hideCardModal();\r\n    }\r\n\r\n    if (vaultModal.show) {\r\n      hideVaultModal();\r\n    }\r\n\r\n    if (takeModal.show) {\r\n      hideTakeModal();\r\n    }\r\n\r\n    if (globalModal.show) {\r\n      //hideGlobalModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { showGlobalModal, showCodeModal, vaultModal } = this.props;\r\n\r\n    return (\r\n      <View style={styles.wrapper}>\r\n        <ConnectedRouter history={history}>\r\n          <MuiThemeProvider theme={theme}>\r\n            <View style={{ width: '100%' }}>\r\n              <AppBar />\r\n            </View>\r\n\r\n            <View style={styles.container}>\r\n              <StatusBar backgroundColor='rgba(0, 0, 0, 0.2)' translucent />\r\n\r\n              <Switch>\r\n                <Route exact path='/' component={Splash} />\r\n                <Route path='/login' component={Login} />\r\n                <Route path='/register' component={Register} />\r\n                <Route path='/idenfy' component={Identification} />\r\n                <Route path='/home' component={Home} />\r\n                <Route path='/authorize' component={Authorize} />\r\n                <Redirect to='/' />\r\n              </Switch>\r\n            </View>\r\n            {showGlobalModal && <GlobalModal />}\r\n            {showCodeModal && <CodeModal />}\r\n            {vaultModal.show && <VaultModal />}\r\n            <LanguageModal />\r\n            <TakeModal />\r\n          </MuiThemeProvider>\r\n        </ConnectedRouter>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst withStore = (Component: React.ComponentType<any>) => () => (\r\n  <Provider store={store}>\r\n    <Component />\r\n  </Provider>\r\n);\r\n\r\nconst mapStateToProps = (state: IState) => ({\r\n  showGlobalModal: state.globalReducer.globalModal.show,\r\n  showCodeModal: state.globalReducer.codeModal.show,\r\n  cardModal: state.paymentReducer.cardModal,\r\n  vaultModal: state.globalReducer.vaultModal,\r\n  takeModal: state.globalReducer.takeModal,\r\n  globalModal: state.globalReducer.globalModal,\r\n  codeModal: state.globalReducer.codeModal,\r\n});\r\n\r\nconst localActions = {\r\n  setAppLanguage: globalActions.setAppLanguage,\r\n  hideTakeModal: globalActions.hideTakeModal,\r\n  hideGlobalModal: globalActions.hideGlobalModal,\r\n  hideVaultModal: globalActions.hideVaultModal,\r\n  hideCardModal: paymentActions.hideCardModal,\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    backgroundColor: '#fafafa',\r\n  },\r\n  container: {\r\n    position: 'relative',\r\n    flex: 1,\r\n    width: '100%',\r\n    maxWidth: 1000,\r\n    overflow: 'hidden',\r\n    backgroundColor: '#fff',\r\n  },\r\n});\r\n\r\nexport default withStore(connect(mapStateToProps, localActions)(withTranslation()(App)));\r\n","import React, { Suspense } from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\n\nimport i18n from './src/i18n';\nimport App from './src/App';\n\nclass AppWrapper extends React.Component {\n  render() {\n    return (\n      <I18nextProvider i18n={i18n}>\n        <SafeAreaProvider>\n          <Suspense fallback={null}>\n            <App />\n          </Suspense>\n        </SafeAreaProvider>\n      </I18nextProvider>\n    );\n  }\n}\n\nexport default AppWrapper;\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHJlY3QgZmlsbD0idHJhbnNwYXJlbnQiIGhlaWdodD0iODAiIHdpZHRoPSI4MCIgLz4KICA8Y2lyY2xlIGN4PSI0MCIgY3k9IjQwIiByPSI0MCIgZmlsbD0iI2ZmZiIvPgogIDxjaXJjbGUgY3g9IjQwIiBjeT0iNDAiIHI9IjMyIiBmaWxsPSIjZjI5OTRhIiAvPgo8L3N2Zz4=\"","module.exports = __webpack_public_path__ + \"static/media/artimiausias_icon.a85be830.png\";","module.exports = __webpack_public_path__ + \"static/media/card-visa.a591306c.png\";","module.exports = __webpack_public_path__ + \"static/media/card-mastercard.9351e219.png\";","module.exports = __webpack_public_path__ + \"static/media/card-unknown.b267e735.png\";","module.exports = __webpack_public_path__ + \"static/media/visa.782a8692.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.cb38652a.png\";","module.exports = __webpack_public_path__ + \"static/media/unknown.5387abe0.png\";"],"sourceRoot":""}